{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/tools/autosave/presentation/AutosaveOptions/autosave-options.component.ts","./src/app/tools/autosave/presentation/AutosaveOptions/autosave-options.component.html","./src/app/workbench/services/settings/settings.service.ts","./src/app/tools/export/presentation/export-dialog/export-dialog.component.ts","./src/app/tools/export/presentation/export-dialog/export-dialog.component.html","./src/app/tools/modeler/diagram-js/features/labeling/position.js","./src/app/tools/modeler/diagram-js/features/updateHandler/headlineAndDescriptionUpdateHandler.js","./src/app/tools/replay/services/replay.service.ts","./src/app/workbench/presentation/header/header-buttons/header-buttons.component.ts","./src/app/workbench/presentation/header/header-buttons/header-buttons.component.html","./src/app/tools/modeler/diagram-js/features/updateHandler/updateLabelHandler.js","./src/app/tools/icon-set-config/services/icon-dictionary.service.ts","./src/app/tools/label-dictionary/presentation/label-dictionary.module.ts","./src/app/tools/icon-set-config/presentation/icon-list-item/icon-list-item.component.ts","./src/app/tools/icon-set-config/presentation/icon-list-item/icon-list-item.component.html","./src/app/domain/services/dialog.service.ts","./src/app/tools/modeler/diagram-js/features/labeling/dsLabelEditingProvider.js","./src/app/tools/modeler/domain/activityDialogData.ts","./src/app/domain/presentation/domain.module.ts","./src/app/tools/modeler/diagram-js/features/context-pad/domainStoryContextPadProvider.js","./src/app/tools/modeler/diagram-js/features/palette/domainStoryPalette.js","./src/app/tools/modeler/diagram-js/features/numbering/numbering.js","./src/app/app.component.ts","./src/app/app.component.html","./src/app/domain/entities/dictionary.ts","./src/app/tools/icon-set-config/presentation/details-list-item/details-list-item.component.ts","./src/app/tools/icon-set-config/presentation/details-list-item/details-list-item.component.html","./src/app/tools/export/domain/export/configAndDst.ts","./src/app/tools/icon-set-config/presentation/icon-set-configuration/icon-set-configuration.component.ts","./src/app/tools/icon-set-config/presentation/icon-set-configuration/icon-set-configuration.component.html","./src/app/tools/modeler/diagram-js/features/domainStoryUpdater.js","./src/app/tools/autosave/presentation/AutosavedDrafts/autosaved-drafts.component.ts","./src/app/tools/autosave/presentation/AutosavedDrafts/autosaved-drafts.component.html","./src/app/tools/modeler/diagram-js/features/shortcuts/AdditionalKeyboardBindings.js","./src/app/tools/modeler/diagram-js/features/copyPaste/PropertyCopy.js","./src/app/tools/modeler/diagram-js/features/modeling/index.js","./src/app/tools/icon-set-config/presentation/icon-set-details/icon-set-details.component.ts","./src/app/tools/icon-set-config/presentation/icon-set-details/icon-set-details.component.html","./src/app/tools/title/presentation/title-dialog/title-dialog.component.ts","./src/app/tools/title/presentation/title-dialog/title-dialog.component.html","./src/app/tools/label-dictionary/presentation/label-dictionary/label-dictionary.component.ts","./src/app/tools/label-dictionary/presentation/label-dictionary/label-dictionary.component.html","./src/app/tools/modeler/diagram-js/features/updateHandler/massRenameHandler.js","./src/app/workbench/presentation/header/header/header.component.ts","./src/app/workbench/presentation/header/header/header.component.html","./src/app/tools/autosave/presentation/autosave.module.ts","./src/app/tools/import/presentation/import.module.ts","./src/app/tools/export/services/export.service.ts","./src/app/tools/modeler/services/modeler.service.ts","./src/app/tools/modeler/diagram-js/features/modeling/dSModeling.js","./src/app/domain/entities/constants.ts","./src/app/tools/modeler/diagram-js/features/change-icon/replaceOptions.js","./src/app/tools/modeler/domain/activity-dialog-form.ts","./src/app/tools/title/services/title.service.ts","./src/app/tools/export/domain/export/exportConstants.ts","./src/app/tools/autosave/services/autosave.service.ts","./src/app/tools/import/directive/dragDrop.directive.ts","./src/app/tools/modeler/diagram-js/BaseViewer.js","./src/app/tools/export/presentation/export.module.ts","./src/app/utils/sanitizer.ts","./src/app/workbench/presentation/settings/settings.component.ts","./src/app/workbench/presentation/settings/settings.component.html","./src/environments/environment.ts","./src/app/domain/presentation/keyboard-shortcuts-dialog/keyboard-shortcuts/keyboard-shortcuts-dialog.component.ts","./src/app/domain/presentation/keyboard-shortcuts-dialog/keyboard-shortcuts/keyboard-shortcuts-dialog.component.html","./src/app/tools/icon-set-config/services/icon-set-customization.service.ts","./src/app/tools/modeler/diagram-js/index.js","./src/app/tools/modeler/diagram-js/features/labeling/index.js","./src/app/domain/entities/namesOfSelectedIcons.ts","./src/app/domain/services/storage.service.ts","./src/app/app.module.ts","./src/app/tools/modeler/diagram-js/features/shortcuts/index.js","./src/app/tools/modeler/services/initializer.service.ts","./src/app/tools/modeler/diagram-js/features/labeling/dsLabelUtil.js","./src/app/tools/modeler/diagram-js/features/copyPaste/EgonCopyPaste.js","./src/app/tools/modeler/diagram-js/features/updateHandler/elementUpdateHandler.js","./src/app/tools/export/domain/dialog/exportDialogData.ts","./src/app/tools/import/services/import-repair.service.ts","./src/app/tools/export/services/svg.service.ts","./src/app/tools/icon-set-config/domain/allIcons.ts","./src/app/tools/modeler/diagram-js/features/domainStoryRules.js","./src/app/tools/modeler/diagram-js/features/domainStoryElementFactory.js","./src/app/utils/mathExtensions.ts","./src/app/tools/label-dictionary/presentation/label-dictionary-dialog/label-dictionary-dialog.component.ts","./src/app/tools/label-dictionary/presentation/label-dictionary-dialog/label-dictionary-dialog.component.html","./src/app/tools/label-dictionary/services/label-dictionary.service.ts","./src/app/tools/modeler/presentation/modeler.module.ts","./src/app/tools/modeler/diagram-js/features/domainStoryIdFactory.js","./src/app/domain/entities/elementTypes.ts","./src/app/workbench/presentation/workbench.module.ts","./src/app/tools/label-dictionary/services/mass-naming.service.ts","./src/app/tools/modeler/diagram-js/features/index.js","./src/app/tools/icon-set-config/domain/iconFilterOptions.ts","./src/app/tools/title/presentation/title.module.ts","./src/app/tools/modeler/diagram-js/features/util/TextRenderer.js","./src/app/tools/export/services/png.service.ts","./src/app/tools/modeler/diagram-js/features/util/util.js","./src/app/tools/modeler/diagram-js/features/domainStoryRenderer.js","./src/main.ts","./src/app/domain/services/element-registry.service.ts","./src/app/tools/title/domain/title-dialog-form.ts","./src/app/tools/modeler/diagram-js/features/change-icon/replaceMenuProvider.js","./src/app/tools/export/services/html-presentation.service.ts","./src/app/tools/modeler/diagram-js/features/updateHandler/activityUpdateHandlers.js","./src/app/tools/import/presentation/import-dialog/import-dialog.component.ts","./src/app/tools/import/presentation/import-dialog/import-dialog.component.html","./src/app/tools/modeler/presentation/activity-dialog/activity-dialog.component.ts","./src/app/tools/modeler/presentation/activity-dialog/activity-dialog.component.html","./src/app/material.module.ts","./src/app/tools/autosave/presentation/AutosaveSettings/autosave-settings.component.ts","./src/app/tools/autosave/presentation/AutosaveSettings/autosave-settings.component.html","./src/app/tools/modeler/diagram-js/features/change-icon/replace.js","./src/app/tools/icon-set-config/presentation/icon-set-config.module.ts","./src/app/tools/unsavedChangesReminder/presentation/unsavedChangesReminder-dialog/unsaved-changes-reminder/unsaved-changes-reminder.component.ts","./src/app/tools/unsavedChangesReminder/presentation/unsavedChangesReminder-dialog/unsaved-changes-reminder/unsaved-changes-reminder.component.html","./src/app/tools/icon-set-config/services/icon-set-import-export.service.ts","./src/app/tools/import/services/import-domain-story.service.ts","./src/app/domain/services/dirty-flag.service.ts","./src/app/tools/modeler/diagram-js/features/copyPaste/index.js","./src/app/tools/modeler/diagram-js/features/shortcuts/AdditionalEditorActions.js","./src/app/tools/replay/services/dom-manipulation.service.ts","./src/app/tools/autosave/services/autosave-configuration.service.ts","./src/app/domain/services/command-stack.service.ts","./src/app/tools/modeler/diagram-js/features/labeling/dsLabelEditingPreview.js","./src/app/tools/export/services/exportUtil.js","./src/app/tools/replay/services/story-creator.service.ts","./src/app/tools/replay/domain/replayConstants.ts","./src/app/utils/colorConverter.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AutosaveConfigurationService } from '../../services/autosave-configuration.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport {\n  SNACKBAR_DURATION,\n  SNACKBAR_ERROR,\n  SNACKBAR_SUCCESS,\n} from 'src/app/domain/entities/constants';\n\n@Component({\n  selector: 'app-autosave-options',\n  templateUrl: './autosave-options.component.html',\n  styleUrls: ['./autosave-options.component.scss'],\n  standalone: false,\n})\nexport class AutosaveOptionsComponent {\n  constructor(\n    protected autosaveConfiguration: AutosaveConfigurationService,\n    private snackbar: MatSnackBar,\n  ) {}\n\n  save(activated: boolean, maxDrafts: number, interval: number) {\n    if (\n      this.autosaveConfiguration.setConfiguration({\n        activated,\n        maxDrafts,\n        interval,\n      })\n    ) {\n      this.snackbar.open('Settings for Autosave saved', undefined, {\n        duration: SNACKBAR_DURATION,\n        panelClass: SNACKBAR_SUCCESS,\n      });\n    } else {\n      this.snackbar.open(\n        'Unable to save settings for Autosave - please try again',\n        undefined,\n        {\n          duration: 2 * SNACKBAR_DURATION,\n          panelClass: SNACKBAR_ERROR,\n        },\n      );\n    }\n  }\n}\n","@if (autosaveConfiguration.configuration$ | async; as configuration) {\n  <div class=\"header\">\n    <div class=\"content\">\n      <div class=\"heading\">Autosave Options</div>\n      <div class=\"option\">\n        <input #activated type=\"checkbox\" [checked]=\"configuration.activated\" />\n        Enabled\n      </div>\n\n      <div class=\"option\">\n        <mat-form-field color=\"accent\">\n          <mat-label>Interval [seconds]</mat-label>\n          <input\n            matInput\n            #interval\n            class=\"numberInput\"\n            min=\"1\"\n            type=\"number\"\n            [value]=\"configuration.interval\"\n          />\n        </mat-form-field>\n      </div>\n      <div class=\"option\">\n        <mat-form-field color=\"accent\">\n          <mat-label>Keep last X drafts</mat-label>\n          <input\n            matInput\n            #drafts\n            class=\"numberInput\"\n            min=\"1\"\n            type=\"number\"\n            [value]=\"configuration.maxDrafts\"\n          />\n        </mat-form-field>\n      </div>\n      <div class=\"option\">\n        <span class=\"spacer\"></span>\n\n        <button\n          mat-flat-button\n          color=\"primary\"\n          (click)=\"save(activated.checked, +drafts.value, +interval.value)\"\n        >\n          Apply\n        </button>\n      </div>\n    </div>\n  </div>\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SettingsService {\n  private showSettings = new BehaviorSubject(false);\n  showSettings$ = this.showSettings.asObservable();\n\n  close(): void {\n    this.showSettings.next(false);\n  }\n\n  open(): void {\n    this.showSettings.next(true);\n  }\n}\n","import { Component, Inject, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { ExportDialogData } from 'src/app/tools/export/domain/dialog/exportDialogData';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\n\n@Component({\n  selector: 'app-export-dialog',\n  templateUrl: './export-dialog.component.html',\n  styleUrls: ['./export-dialog.component.scss'],\n  standalone: false,\n})\nexport class ExportDialogComponent implements OnInit {\n  title: string;\n  options: {\n    text: string;\n    tooltip: string;\n    fn: any;\n  }[];\n  withTitle: BehaviorSubject<boolean>;\n  useWhiteBackground: BehaviorSubject<boolean>;\n  isAnimatedSvgExport: boolean = false;\n  animationSpeed: number = 2;\n\n  constructor(\n    private dialogRef: MatDialogRef<ExportDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: ExportDialogData,\n  ) {\n    this.withTitle = new BehaviorSubject<boolean>(true);\n    this.useWhiteBackground = new BehaviorSubject<boolean>(true);\n    this.title = data.title;\n    this.options = data.options;\n  }\n\n  ngOnInit(): void {}\n\n  doOption(i: number): void {\n    if (this.isAnimatedSvgExport) {\n      this.options[i].fn(\n        this.withTitle.value,\n        this.useWhiteBackground.value,\n        this.animationSpeed,\n      );\n    } else {\n      this.options[i].fn(this.withTitle.value, this.useWhiteBackground.value);\n    }\n    this.close();\n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  updateWithTitle($event: Event) {\n    // @ts-ignore\n    this.withTitle.next($event.target.checked);\n  }\n\n  updateUseWhiteBackground($event: Event) {\n    // @ts-ignore\n    this.useWhiteBackground.next($event.target.checked);\n  }\n\n  onExportAnimatedSvg(): void {\n    this.isAnimatedSvgExport = !this.isAnimatedSvgExport;\n  }\n}\n","<mat-dialog-content>\n  <h1>{{ title }}</h1>\n  <div class=\"card\">\n    <span>Options for image export:</span>\n    <label class=\"row\">\n      <input\n        type=\"checkbox\"\n        [checked]=\"withTitle | async\"\n        (change)=\"updateWithTitle($event)\"\n      />\n      Add title and description to image\n    </label>\n    <label class=\"row\">\n      <input\n        type=\"checkbox\"\n        [checked]=\"useWhiteBackground | async\"\n        (change)=\"updateUseWhiteBackground($event)\"\n      />\n      Add white background to SVG (default: transparent)\n    </label>\n    <div class=\"row\">\n      <input type=\"checkbox\" [(ngModel)]=\"isAnimatedSvgExport\" />\n      <span (click)=\"onExportAnimatedSvg()\">Animated SVG</span>\n      @if (isAnimatedSvgExport) {\n        <span> - animation speed:</span>\n        <input\n          class=\"number-input\"\n          [(ngModel)]=\"animationSpeed\"\n          [max]=\"9\"\n          [min]=\"1\"\n          [maxLength]=\"1\"\n          oninput=\"this.value = this.value.replace(/[^1-9]/g, '');\"\n        />\n        <span (click)=\"onExportAnimatedSvg()\">seconds</span>\n      }\n    </div>\n  </div>\n</mat-dialog-content>\n<br />\n<br />\n<mat-dialog-actions>\n  <div>\n    <button mat-flat-button (click)=\"close()\">Cancel</button>\n    @for (option of options; track option; let i = $index) {\n      <button\n        mat-stroked-button\n        class=\"mr-1\"\n        [title]=\"option.tooltip\"\n        (click)=\"doOption(i)\"\n      >\n        {{ option.text }}\n      </button>\n    }\n  </div>\n</mat-dialog-actions>\n","\"use strict\";\n\nimport { selectPartOfActivity } from \"./dsLabelUtil\";\nimport { angleBetween } from \"src/app/utils/mathExtensions\";\n\nexport function countLines(str) {\n  return str.split(/\\r\\n|\\r|\\n/).length;\n}\n\n// determine the position of the label at the activity\nexport function labelPosition(waypoints, lines = 1) {\n  let amountWaypoints = waypoints.length;\n  let determinedPosition;\n  let xPos;\n  let yPos;\n\n  if (amountWaypoints > 2) {\n    let angleActivity = new Array(amountWaypoints - 1);\n    for (let i = 0; i < amountWaypoints - 1; i++) {\n      // calculate the angles of the activities\n      angleActivity[i] = angleBetween(waypoints[i], waypoints[i + 1]);\n    }\n\n    let selectedActivity = selectPartOfActivity(waypoints, angleActivity);\n\n    xPos = labelPositionX(\n      waypoints[selectedActivity],\n      waypoints[selectedActivity + 1],\n    );\n    yPos = labelPositionY(\n      waypoints[selectedActivity],\n      waypoints[selectedActivity + 1],\n      lines,\n    );\n\n    determinedPosition = {\n      x: xPos,\n      y: yPos,\n      selected: selectedActivity,\n    };\n\n    return determinedPosition;\n  } else {\n    xPos = labelPositionX(waypoints[0], waypoints[1]);\n    yPos = labelPositionY(waypoints[0], waypoints[1], lines);\n\n    determinedPosition = {\n      x: xPos,\n      y: yPos,\n      selected: 0,\n    };\n\n    return determinedPosition;\n  }\n}\n\n// calculate the X position of the label\nexport function labelPositionX(startPoint, endPoint) {\n  let angle = angleBetween(startPoint, endPoint);\n  let offsetX = 0;\n  let scaledAngle = 0;\n  if (angle === 0 || angle === 180 || angle === 90 || angle === 270) {\n    offsetX = 0;\n  } else if (angle > 0 && angle < 90) {\n    // endpoint in upper right quadrant\n    offsetX = 5 - angle / 6;\n  } else if (angle > 90 && angle < 180) {\n    // endpoint in upper left quadrant\n    scaledAngle = angle - 90;\n    offsetX = 5 - scaledAngle / 18;\n  } else if (angle > 180 && angle < 270) {\n    // endpoint in lower left quadrant\n    scaledAngle = angle - 180;\n    offsetX = scaledAngle / 18;\n  } else if (angle > 270) {\n    // endpoint in lower right quadrant\n    scaledAngle = angle - 270;\n    offsetX = 5 - scaledAngle / 6;\n  }\n  return offsetX + (startPoint.x + endPoint.x) / 2;\n}\n\n// calculate the Y position of the label\nexport function labelPositionY(startPoint, endPoint, lines = 1) {\n  let angle = angleBetween(startPoint, endPoint);\n  let offsetY = 0;\n  let scaledAngle = 0;\n\n  if (angle === 0 || angle === 180) {\n    offsetY = 15;\n  } else if (angle === 90 || angle === 270) {\n    offsetY = 0;\n  } else if (angle > 0 && angle < 90) {\n    // endpoint in upper right quadrant\n    offsetY = 15 - angle / 6;\n  } else if (angle > 90 && angle < 180) {\n    // endpoint in upper left quadrant\n    scaledAngle = angle - 90;\n    offsetY = (-scaledAngle / 9) * lines;\n  } else if (angle > 180 && angle < 270) {\n    // endpoint in lower left quadrant\n    scaledAngle = angle - 180;\n    offsetY = 15 - scaledAngle / 3;\n  } else if (angle > 270) {\n    // endpoint in lower right quadrant\n    scaledAngle = angle - 270;\n    offsetY = (-scaledAngle / 9) * lines;\n  }\n  return offsetY + (startPoint.y + endPoint.y) / 2;\n}\n","import { sanitizeTextForSVGExport } from \"src/app/utils/sanitizer\";\n\nexport default function headlineAndDescriptionUpdateHandler(\n  commandStack,\n  titleService,\n) {\n  commandStack.registerHandler(\n    \"story.updateHeadlineAndDescription\",\n    handlerFunction,\n  );\n\n  function handlerFunction() {\n    this.execute = function (ctx) {\n      ctx.oldTitle = titleService.getTitle();\n      ctx.oldDescription = titleService.getDescription();\n\n      titleService.updateTitleAndDescription(\n        sanitizeTextForSVGExport(ctx.newTitle),\n        sanitizeTextForSVGExport(ctx.newDescription),\n        false,\n      );\n    };\n\n    this.revert = function (ctx) {\n      titleService.updateTitleAndDescription(\n        ctx.oldTitle,\n        ctx.oldDescription,\n        false,\n      );\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { DomManipulationService } from 'src/app/tools/replay/services/dom-manipulation.service';\nimport { StorySentence } from 'src/app/tools/replay/domain/storySentence';\nimport { StoryCreatorService } from './story-creator.service';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport {\n  SNACKBAR_DURATION_LONG,\n  SNACKBAR_ERROR,\n  SNACKBAR_INFO,\n} from '../../../domain/entities/constants';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ReplayService {\n  private story: StorySentence[] = [];\n  private currentSentence = new BehaviorSubject<number>(-1);\n  private maxSentenceNumber = new BehaviorSubject<number>(0);\n  private replayOnSubject = new BehaviorSubject<boolean>(false);\n\n  currentSentence$: Observable<number> = this.currentSentence.asObservable();\n  maxSentenceNumber$: Observable<number> =\n    this.maxSentenceNumber.asObservable();\n  replayOn$ = this.replayOnSubject.asObservable();\n\n  constructor(\n    private domManipulationService: DomManipulationService,\n    private storyCreatorService: StoryCreatorService,\n    private snackbar: MatSnackBar,\n  ) {}\n\n  setReplayState(state: boolean): void {\n    this.replayOnSubject.next(state);\n  }\n\n  getReplayOn(): boolean {\n    return this.replayOnSubject.value;\n  }\n\n  isReplayable(): boolean {\n    return this.storyCreatorService.traceActivitiesAndCreateStory().length > 0;\n  }\n\n  initializeReplay(story: StorySentence[]): void {\n    this.currentSentence.next(1);\n    this.story = story;\n    this.maxSentenceNumber.next(this.story.length);\n  }\n\n  getCurrentSentenceNumber(): number {\n    return this.currentSentence.value;\n  }\n\n  getMaxSentenceNumber(): number {\n    return this.maxSentenceNumber.value;\n  }\n\n  nextSentence(): void {\n    if (this.currentSentence.value < this.story.length) {\n      this.currentSentence.next(this.currentSentence.value + 1);\n      this.showCurrentSentence();\n    }\n  }\n\n  previousSentence(): void {\n    if (this.currentSentence.value > 1) {\n      this.currentSentence.next(this.currentSentence.value - 1);\n      this.showCurrentSentence();\n    }\n  }\n\n  private showCurrentSentence() {\n    this.domManipulationService.showSentence(\n      this.story[this.currentSentence.value - 1],\n      this.currentSentence.value > 1\n        ? this.story[this.currentSentence.value - 2]\n        : undefined,\n    );\n  }\n\n  startReplay(checkSequenceNumbers = false): void {\n    const story = this.storyCreatorService.traceActivitiesAndCreateStory();\n\n    if (checkSequenceNumbers) {\n      const missingSentences =\n        this.storyCreatorService.getMissingSentences(story);\n      if (missingSentences.length > 0) {\n        const sentence = missingSentences.join(', ');\n        this.snackbar.open(\n          missingSentences.length === 1\n            ? `The Domain Story is not complete. Sentence ${sentence} is missing.`\n            : `The Domain Story is not complete. Sentences ${sentence} are missing.`,\n          undefined,\n          {\n            duration: SNACKBAR_DURATION_LONG,\n            panelClass: SNACKBAR_ERROR,\n          },\n        );\n        return;\n      }\n    }\n\n    this.initializeReplay(story);\n    if (this.story.length > 0) {\n      this.setReplayState(true);\n      this.domManipulationService.showSentence(\n        this.story[this.currentSentence.getValue() - 1],\n      );\n    } else {\n      this.snackbar.open('You need a Domain Story for replay.', undefined, {\n        duration: SNACKBAR_DURATION_LONG,\n        panelClass: SNACKBAR_INFO,\n      });\n    }\n  }\n\n  stopReplay(): void {\n    this.currentSentence.next(-1);\n    this.maxSentenceNumber.next(0);\n    this.setReplayState(false);\n    this.domManipulationService.showAll();\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { combineLatest, map, Observable } from 'rxjs';\nimport { ReplayService } from '../../../../tools/replay/services/replay.service';\n\n@Component({\n  selector: 'app-header-buttons',\n  templateUrl: './header-buttons.component.html',\n  styleUrls: ['./header-buttons.component.scss'],\n  standalone: false,\n})\nexport class HeaderButtonsComponent {\n  sentenceDescription$: Observable<string>;\n\n  constructor(private replayService: ReplayService) {\n    this.sentenceDescription$ = combineLatest([\n      this.replayService.currentSentence$,\n      this.replayService.maxSentenceNumber$,\n    ]).pipe(map(([sentence, count]) => `${sentence}/${count}`));\n  }\n\n  @Input()\n  hasDomainStory = false;\n  @Input()\n  hasTitle = false;\n  @Input()\n  isReplaying: boolean | null = false;\n  @Input()\n  isDirty: boolean | null = false;\n  @Input()\n  isReplayable = false;\n\n  @Output()\n  import = new EventEmitter<void>();\n  @Output()\n  openSettings = new EventEmitter<void>();\n  @Output()\n  startReplay = new EventEmitter<void>();\n  @Output()\n  stopReplay = new EventEmitter<void>();\n  @Output()\n  previousSentence = new EventEmitter<void>();\n  @Output()\n  nextSentence = new EventEmitter<void>();\n  @Output()\n  newStory = new EventEmitter<void>();\n  @Output()\n  showKeyboardShortCuts = new EventEmitter<void>();\n  @Output()\n  openLabelDictionary = new EventEmitter<void>();\n  @Output()\n  openDownloadDialog = new EventEmitter<void>();\n  @Output()\n  openImportFromUrlDialog = new EventEmitter<void>();\n}\n","@if (!isReplaying) {\n  <div>\n    <button\n      [disabled]=\"!isReplayable\"\n      [class.disabled]=\"!isReplayable\"\n      id=\"buttonStartReplay\"\n      class=\"headerButton\"\n      title=\"Start replay\"\n      (click)=\"startReplay.emit()\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\">\n        play_arrow\n      </span>\n      <div class=\"button-label\">Replay</div>\n    </button>\n\n    <button\n      id=\"buttonImport\"\n      class=\"headerButton\"\n      title=\"Import story from file\"\n      onclick=\"document.getElementById('import').click();\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\">\n        file_upload\n      </span>\n      <div class=\"button-label\">Import file</div>\n    </button>\n\n    <button\n      id=\"buttonUrlImport\"\n      class=\"headerButton\"\n      title=\"Import story from URL\"\n      (click)=\"openImportFromUrlDialog.emit()\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\">\n        cloud_upload\n      </span>\n      <div class=\"button-label\">Import URL</div>\n    </button>\n\n    <input\n      type=\"file\"\n      accept=\".dst, .svg, .egn, .svg\"\n      style=\"display: none\"\n      id=\"import\"\n      onclick=\"this.value=null;\"\n      (change)=\"import.emit()\"\n    />\n    <button\n      [disabled]=\"!hasDomainStory && !hasTitle\"\n      [class.disabled]=\"!hasDomainStory && !hasTitle\"\n      class=\"headerButton\"\n      [class.dirty]=\"isDirty\"\n      id=\"export\"\n      title=\"Export story as .egn, .svg or .png file\"\n      (click)=\"openDownloadDialog.emit()\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\">\n        file_download\n      </span>\n      <div class=\"button-label\">Export</div>\n    </button>\n    <button\n      [disabled]=\"!hasDomainStory\"\n      [class.disabled]=\"!hasDomainStory\"\n      class=\"headerButton\"\n      title=\"Label Dictionary\"\n      (click)=\"openLabelDictionary.emit()\"\n    >\n      <span class=\"material-icons materialIconButton\" title=\"Label Dictionary\">\n        spellcheck\n      </span>\n      <div class=\"button-label\">Dictionary</div>\n    </button>\n\n    <button\n      class=\"headerButton\"\n      title=\"Create a new domain story\"\n      (click)=\"newStory.emit()\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\"> note_add </span>\n      <div class=\"button-label\">New story</div>\n    </button>\n\n    <button class=\"headerButton\" title=\"Settings\" (click)=\"openSettings.emit()\">\n      <span\n        class=\"material-icons-outlined materialIconButton\"\n        title=\"Change Icons and Settings\"\n      >\n        settings\n      </span>\n      <div class=\"button-label\">Settings</div>\n    </button>\n\n    <button\n      class=\"headerButton\"\n      title=\"Show keyboard shortcuts\"\n      (click)=\"showKeyboardShortCuts.emit()\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\"> keyboard </span>\n      <div class=\"button-label\">Shortcuts</div>\n    </button>\n  </div>\n}\n@if (isReplaying) {\n  <div class=\"replaying\">\n    <button\n      class=\"headerButton\"\n      title=\"Previous sentence\"\n      (click)=\"previousSentence.emit()\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\">\n        skip_previous\n      </span>\n      <div class=\"button-label\">Prev.</div>\n    </button>\n    <button\n      class=\"headerButton\"\n      title=\"Next sentence\"\n      (click)=\"nextSentence.emit()\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\">\n        skip_next\n      </span>\n      <div class=\"button-label\">Next</div>\n    </button>\n    <button\n      class=\"headerButton\"\n      title=\"Stop replay\"\n      (click)=\"stopReplay.emit()\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\"> stop </span>\n      <div class=\"button-label\">Stop</div>\n    </button>\n    <div class=\"sentences\">Sentence: {{ sentenceDescription$ | async }}</div>\n  </div>\n}\n","\"use strict\";\n\nimport {\n  setLabel,\n  getLabel,\n  setNumber,\n  getNumber,\n} from \"../labeling/dsLabelUtil\";\n\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\nimport { getBusinessObject, is } from \"../util/util\";\n\nconst NULL_DIMENSIONS = {\n  width: 0,\n  height: 0,\n};\n\n/**\n * a handler that updates the text or label of an element.\n */\nexport default function UpdateLabelHandler(\n  modeling,\n  textRenderer,\n  commandStack,\n) {\n  commandStack.registerHandler(\"element.updateLabel\", handlerFunction);\n\n  function handlerFunction() {\n    this.execute = function (ctx) {\n      ctx.oldLabel = getLabel(ctx.element);\n      ctx.oldNumber = getNumber(ctx.element);\n      return setText(ctx.element, ctx.newLabel, ctx.newNumber);\n    };\n\n    this.revert = function (ctx) {\n      return setText(ctx.element, ctx.oldLabel, ctx.oldNumber);\n    };\n\n    this.postExecute = function (ctx) {\n      let element = ctx.element,\n        label = element.label || element,\n        newBounds = ctx.newBounds;\n\n      // resize text annotation to amount of text that is entered\n      if (is(element, ElementTypes.TEXTANNOTATION)) {\n        let bo = getBusinessObject(label);\n\n        let text = bo.name || bo.text;\n\n        // don't resize without text\n        if (!text) {\n          return;\n        }\n\n        // resize element based on label _or_ pre-defined bounds\n        if (typeof newBounds === \"undefined\") {\n          newBounds = textRenderer.getLayoutedBounds(label, text);\n        }\n\n        // setting newBounds to false or _null_ will\n        // disable the postExecute resize operation\n        if (newBounds) {\n          modeling.resizeShape(label, newBounds, NULL_DIMENSIONS);\n        }\n      }\n    };\n  }\n}\n\nfunction setText(element, text, textNumber) {\n  let label = element.label || element;\n\n  let number = element.number || element;\n\n  let labelTarget = element.labelTarget || element;\n\n  let numberTarget = element.numberTarget || element;\n  setLabel(label, text);\n  setNumber(number, textNumber);\n\n  return [label, labelTarget, number, numberTarget];\n}\n\nUpdateLabelHandler.$inject = [\"modeling\", \"textRenderer\", \"commandStack\"];\n","import { Injectable } from '@angular/core';\nimport { BusinessObject } from 'src/app/domain/entities/businessObject';\nimport {\n  NamesOfSelectedIcons,\n  namesOfDefaultIcons,\n} from 'src/app/domain/entities/namesOfSelectedIcons';\nimport { Dictionary } from 'src/app/domain/entities/dictionary';\nimport { ElementTypes } from 'src/app/domain/entities/elementTypes';\nimport {\n  builtInIcons,\n  customIcons,\n} from 'src/app/tools/icon-set-config/domain/allIcons';\nimport { sanitizeIconName } from '../../../utils/sanitizer';\nimport getIconId = ElementTypes.getIconId;\nimport { IconSet } from '../../../domain/entities/iconSet';\n\nexport const ICON_CSS_CLASS_PREFIX = 'icon-domain-story-';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class IconDictionaryService {\n  // The dictionaries holds icons (as SVG) and icon names as key-value pairs:\n\n  // these dictionaries make up the current icon set:\n  private selectedActorsDictionary = new Dictionary();\n  private selectedWorkObjectsDictionary = new Dictionary();\n\n  private customIconSet?: IconSet;\n\n  constructor() {}\n\n  initTypeDictionaries(): void {\n    let namesOfIcons: NamesOfSelectedIcons;\n\n    if (typeof this.customIconSet == 'undefined') {\n      namesOfIcons = namesOfDefaultIcons;\n    } else {\n      namesOfIcons = new NamesOfSelectedIcons(\n        this.customIconSet.actors.keysArray(),\n        this.customIconSet.workObjects.keysArray(),\n      );\n    }\n\n    const allTypes = new Dictionary();\n    allTypes.addBuiltInIcons(builtInIcons);\n    allTypes.appendDict(customIcons);\n\n    this.initDictionary(\n      namesOfIcons.actors,\n      allTypes,\n      this.selectedActorsDictionary,\n    );\n    this.initDictionary(\n      namesOfIcons.workObjects,\n      allTypes,\n      this.selectedWorkObjectsDictionary,\n    );\n  }\n\n  private initDictionary(\n    selectedIconNames: string[],\n    allIcons: Dictionary,\n    dictionary: Dictionary,\n  ) {\n    dictionary.clear();\n    for (const key of selectedIconNames) {\n      dictionary.add(allIcons.get(key), key);\n    }\n  }\n\n  private allInTypeDictionary(\n    type: ElementTypes,\n    elements: BusinessObject[],\n  ): boolean {\n    let collection: Dictionary;\n    if (type === ElementTypes.ACTOR) {\n      collection = this.selectedActorsDictionary;\n    } else if (type === ElementTypes.WORKOBJECT) {\n      collection = this.selectedWorkObjectsDictionary;\n    }\n\n    let allIn = true;\n    if (elements) {\n      elements.forEach((element) => {\n        if (!collection.has(getIconId(element.type))) {\n          allIn = false;\n        }\n      });\n    } else {\n      return false;\n    }\n    return allIn;\n  }\n\n  /** Load Icons from Configuration **/\n  addIconsFromIconSetConfiguration(\n    dictionaryType: ElementTypes,\n    iconTypes: string[],\n  ): void {\n    let collection: Dictionary;\n    if (dictionaryType === ElementTypes.ACTOR) {\n      collection = this.selectedActorsDictionary;\n    } else if (dictionaryType === ElementTypes.WORKOBJECT) {\n      collection = this.selectedWorkObjectsDictionary;\n    }\n\n    const allTypes = new Dictionary();\n    allTypes.addBuiltInIcons(builtInIcons);\n    allTypes.appendDict(customIcons);\n\n    iconTypes.forEach((name) => {\n      if (!collection.has(name)) {\n        const src = allTypes.get(name);\n        if (src) {\n          this.registerIconForType(dictionaryType, name, src);\n        }\n      }\n    });\n  }\n\n  addIconsToTypeDictionary(\n    actorIcons: BusinessObject[],\n    workObjectIcons: BusinessObject[],\n  ) {\n    if (!this.allInTypeDictionary(ElementTypes.ACTOR, actorIcons)) {\n      this.addIconsFromIconSetConfiguration(\n        ElementTypes.ACTOR,\n        actorIcons.map((element) => getIconId(element.type)),\n      );\n    }\n    if (!this.allInTypeDictionary(ElementTypes.WORKOBJECT, workObjectIcons)) {\n      this.addIconsFromIconSetConfiguration(\n        ElementTypes.WORKOBJECT,\n        workObjectIcons.map((element) => getIconId(element.type)),\n      );\n    }\n  }\n\n  registerIconForType(type: ElementTypes, name: string, src: string): void {\n    if (name.includes(type)) {\n      throw new Error('Name should not include type!');\n    }\n\n    let collection = new Dictionary();\n    if (type === ElementTypes.ACTOR) {\n      collection = this.selectedActorsDictionary;\n    } else if (type === ElementTypes.WORKOBJECT) {\n      collection = this.selectedWorkObjectsDictionary;\n    }\n    collection.add(src, name);\n  }\n\n  unregisterIconForType(type: ElementTypes, name: string): void {\n    if (name.includes(type)) {\n      throw new Error('Name should not include type!');\n    }\n\n    let collection = new Dictionary();\n    if (type === ElementTypes.ACTOR) {\n      collection = this.selectedActorsDictionary;\n    } else if (type === ElementTypes.WORKOBJECT) {\n      collection = this.selectedWorkObjectsDictionary;\n    }\n    collection.delete(name);\n  }\n\n  // TODO: why are Business Objects required to update icon registries?\n  updateIconRegistries(\n    actors: BusinessObject[],\n    workObjects: BusinessObject[],\n    config: IconSet,\n  ): void {\n    const newIcons = new Dictionary();\n    this.extractCustomIconsFromDictionary(config.actors, newIcons);\n    this.extractCustomIconsFromDictionary(config.workObjects, newIcons);\n    this.addNewIconsToDictionary(newIcons);\n\n    this.addIconsToTypeDictionary(actors, workObjects);\n  }\n\n  private extractCustomIconsFromDictionary(\n    elementDictionary: Dictionary,\n    customIcons: Dictionary,\n  ) {\n    elementDictionary.keysArray().forEach((name) => {\n      const sanitizedName = sanitizeIconName(name);\n      if (!this.getFullDictionary().has(sanitizedName)) {\n        customIcons.add(elementDictionary.get(name), sanitizedName);\n      }\n    });\n  }\n\n  /** Add new Icon(s) **/\n\n  private addNewIconsToDictionary(customIcons: Dictionary) {\n    customIcons.keysArray().forEach((key) => {\n      const custom = customIcons.get(key);\n      this.addIMGToIconDictionary(custom, key);\n    });\n    this.addIconsToCss(customIcons);\n  }\n\n  addIMGToIconDictionary(input: string, name: string): void {\n    customIcons.set(name, input);\n  }\n\n  addIconsToCss(customIcons: Dictionary) {\n    const sheetEl = document.getElementById('iconsCss');\n    customIcons.keysArray().forEach((key) => {\n      const src = customIcons.get(key);\n      const iconStyle =\n        '.' +\n        ICON_CSS_CLASS_PREFIX +\n        sanitizeIconName(key.toLowerCase()) +\n        '::before{ content: url(\"data:image/svg+xml;utf8,' +\n        this.wrapSRCInSVG(src) +\n        '\"); margin: 3px;}';\n      // @ts-ignore\n      sheetEl?.sheet?.insertRule(iconStyle, sheetEl.sheet.cssRules.length);\n    });\n  }\n\n  private wrapSRCInSVG(src: string): string {\n    return (\n      \"<svg viewBox='0 0 22 22' width='22' height='22' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'><image width='22' height='22' xlink:href='\" +\n      src +\n      \"'/></svg>\"\n    );\n  }\n\n  /** Getter & Setter **/\n\n  getFullDictionary(): Dictionary {\n    const fullDictionary = new Dictionary();\n    fullDictionary.appendDict(builtInIcons);\n    fullDictionary.appendDict(customIcons);\n    return fullDictionary;\n  }\n\n  getIconsAssignedAs(type: ElementTypes): Dictionary {\n    if (type === ElementTypes.ACTOR) {\n      return this.selectedActorsDictionary;\n    } else if (type === ElementTypes.WORKOBJECT) {\n      return this.selectedWorkObjectsDictionary;\n    }\n    return new Dictionary();\n  }\n\n  getTypeIconSRC(type: ElementTypes, name: string): string | null {\n    if (type === ElementTypes.ACTOR) {\n      return this.selectedActorsDictionary.get(name);\n    } else if (type === ElementTypes.WORKOBJECT) {\n      return this.selectedWorkObjectsDictionary.get(name);\n    }\n    return null;\n  }\n\n  getCSSClassOfIcon(name: string): string | null {\n    return ICON_CSS_CLASS_PREFIX + sanitizeIconName(name.toLowerCase());\n  }\n\n  getIconSource(name: string): string | null {\n    if (builtInIcons.has(name)) {\n      return builtInIcons.get(name);\n    } else if (customIcons.has(name)) {\n      return customIcons.get(name);\n    }\n    return null;\n  }\n\n  getActorsDictionary(): Dictionary {\n    return this.selectedActorsDictionary;\n  }\n\n  getWorkObjectsDictionary(): Dictionary {\n    return this.selectedWorkObjectsDictionary;\n  }\n\n  setIconSet(iconSet: IconSet): void {\n    this.customIconSet = iconSet;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { LabelDictionaryComponent } from './label-dictionary/label-dictionary.component';\nimport { LabelDictionaryDialogComponent } from './label-dictionary-dialog/label-dictionary-dialog.component';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../../../material.module';\n\n@NgModule({\n  declarations: [LabelDictionaryComponent, LabelDictionaryDialogComponent],\n  exports: [LabelDictionaryComponent, LabelDictionaryDialogComponent],\n  imports: [CommonModule, MaterialModule],\n})\nexport class LabelDictionaryModule {}\n","import { AfterViewChecked, Component, Input, OnInit } from '@angular/core';\nimport { IconListItem } from '../../domain/iconListItem';\nimport { BehaviorSubject } from 'rxjs';\nimport { IconSetCustomizationService } from '../../services/icon-set-customization.service';\n\n@Component({\n  selector: 'app-icon-list-item',\n  templateUrl: './icon-list-item.component.html',\n  styleUrls: ['./icon-list-item.component.scss'],\n  standalone: false,\n})\nexport class IconListItemComponent implements OnInit, AfterViewChecked {\n  @Input()\n  iconName: string = '';\n\n  private iconInitiated = false;\n\n  // @ts-ignore\n  icon = new BehaviorSubject<IconListItem>({});\n\n  isActor: boolean = false;\n  isWorkobject: boolean = false;\n  isNone: boolean = true;\n\n  get name(): string {\n    return this.iconName;\n  }\n\n  get id() {\n    return 'domain-configuration-icon-' + this.iconName;\n  }\n\n  constructor(\n    private iconSetCustomizationService: IconSetCustomizationService,\n  ) {}\n\n  ngOnInit(): void {\n    this.icon = this.iconSetCustomizationService.getIconForName(this.iconName);\n    if (!this.icon) {\n      return;\n    }\n\n    this.icon.subscribe((value) => {\n      this.isActor = value.isActor;\n      this.isWorkobject = value.isWorkObject;\n      this.isNone = !(value.isActor || value.isWorkObject);\n    });\n    this.isActor = this.icon.value.isActor;\n    this.isWorkobject = this.icon.value.isWorkObject;\n    this.isNone = !(this.icon.value.isActor || this.icon.value.isWorkObject);\n  }\n\n  ngAfterViewChecked(): void {\n    this.createIcon();\n  }\n\n  private createIcon(): void {\n    const img = document.getElementById(this.id) as HTMLImageElement;\n    if (img && !this.iconInitiated) {\n      img.src = '' + this.icon?.value?.svg;\n      this.iconInitiated = true;\n    }\n  }\n\n  toggleNone() {\n    this.iconSetCustomizationService.setAsUnassigned(\n      this.iconName,\n      this.icon.value.isActor,\n    );\n  }\n\n  toggleActor(): void {\n    this.iconSetCustomizationService.setAsActor(true, this.iconName);\n  }\n\n  toggleWorkobject(): void {\n    this.iconSetCustomizationService.setAsWorkobject(true, this.iconName);\n  }\n}\n","<div>\n  <div class=\"content\">\n    <img id=\"{{ id }}\" class=\"icon\" src=\"\" alt=\"{{ name }}\" />\n    <div class=\"name\">{{ name }}</div>\n  </div>\n  <div class=\"footer\">\n    <mat-button-toggle-group [hideSingleSelectionIndicator]=\"true\">\n      <mat-button-toggle\n        (change)=\"toggleNone()\"\n        [value]=\"isNone\"\n        [checked]=\"isNone\"\n      >\n        <span class=\"toggleButtonTitle\">None</span>\n      </mat-button-toggle>\n      <mat-button-toggle\n        [class.activeMatButtonActor]=\"isActor\"\n        (change)=\"toggleActor()\"\n        [value]=\"isActor\"\n        [checked]=\"isActor\"\n      >\n        <span class=\"toggleButtonTitle\">Actor</span>\n      </mat-button-toggle>\n      <mat-button-toggle\n        [class.activeMatButtonWorkObject]=\"isWorkobject\"\n        (change)=\"toggleWorkobject()\"\n        [value]=\"isWorkobject\"\n        [checked]=\"isWorkobject\"\n      >\n        <span class=\"toggleButtonTitle\">Work Object</span>\n      </mat-button-toggle>\n    </mat-button-toggle-group>\n  </div>\n</div>\n","import { Injectable } from '@angular/core';\nimport { MatDialog, MatDialogConfig } from '@angular/material/dialog';\nimport { ComponentType } from '@angular/cdk/overlay';\nimport { KeyboardShortcutsDialogComponent } from '../presentation/keyboard-shortcuts-dialog/keyboard-shortcuts/keyboard-shortcuts-dialog.component';\nimport { ShortCut } from '../entities/shortcut-dialog-data';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DialogService {\n  constructor(private matDialog: MatDialog) {}\n\n  openDialog(dialog: ComponentType<any>, config: MatDialogConfig): void {\n    this.matDialog.open(dialog, config);\n  }\n\n  openKeyboardShortcutsDialog(): void {\n    const shortCuts: ShortCut[] = [];\n    shortCuts.push({ description: 'Undo', shortCut: 'ctrl + Z' });\n    shortCuts.push({\n      description: 'Redo',\n      shortCut: 'ctrl + Y    OR   ctrl + shift + Z',\n    });\n    shortCuts.push({ description: 'Select All', shortCut: 'ctrl + A' });\n    shortCuts.push({ description: 'Export as EGN', shortCut: 'ctrl + S' });\n    shortCuts.push({\n      description: 'Export as SVG',\n      shortCut: 'ctrl + alt + S',\n    });\n    shortCuts.push({\n      description: 'Import Domain Story',\n      shortCut: 'ctrl + L',\n    });\n    shortCuts.push({ description: 'Search for text', shortCut: 'ctrl + F' });\n    shortCuts.push({ description: 'Direct editing', shortCut: 'E' });\n    shortCuts.push({ description: 'Hand tool', shortCut: 'H' });\n    shortCuts.push({ description: 'Lasso tool', shortCut: 'L' });\n    shortCuts.push({ description: 'Space tool', shortCut: 'S' });\n\n    const config = new MatDialogConfig();\n\n    config.data = {\n      title: 'Keyboard Shortcuts',\n      shortCuts: shortCuts,\n    };\n\n    this.openDialog(KeyboardShortcutsDialogComponent, config);\n  }\n}\n","\"use strict\";\n\nimport { assign } from \"min-dash\";\n\nimport { autocomplete, getLabel } from \"./dsLabelUtil\";\n\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\nimport { sanitizeTextForSVGExport } from \"src/app/utils/sanitizer\";\nimport { is } from \"../util/util\";\nimport { isBackground } from \"../domainStoryRules\";\n\nlet dictionaryService;\n\nlet numberStash = 0;\nlet stashUse = false;\n\nexport function initializeLabelEditingProvider(labelingDictionary) {\n  dictionaryService = labelingDictionary;\n}\n\nexport function getNumberStash() {\n  let number = { use: stashUse, number: numberStash };\n  stashUse = false;\n  return number;\n}\n\nexport function toggleStashUse(use) {\n  stashUse = use;\n}\n\nexport function focusElement(element) {\n  // Opening a Angular Dialog seems to mess with the focus logic somehow.\n  // My guess is that is makes the mousedown event passive, which prevents \"preventDefault\" from intercepting.\n  // I am not sure how to fix it, but this seems to be a workaround.\n  setTimeout(() => element.focus(), 0);\n}\n\nexport default function DSLabelEditingProvider(\n  eventBus,\n  canvas,\n  directEditing,\n  modeling,\n  resizeHandles,\n  textRenderer,\n  updateLabelHandler,\n) {\n  this._canvas = canvas;\n  this._modeling = modeling;\n  this._textRenderer = textRenderer;\n  this._updateLabelHandler = updateLabelHandler;\n\n  directEditing.registerProvider(this);\n\n  // listen to dblclick on non-root elements\n  eventBus.on(\"element.dblclick\", function (event) {\n    activateDirectEdit(event.element);\n    if (is(event.element, ElementTypes.ACTIVITY)) {\n      // if we edit an activity, we do not want the standard editing box\n      numberStash = event.element.businessObject.number;\n      stashUse = true;\n      directEditing.complete();\n    }\n  });\n\n  // complete on followup canvas operation\n  eventBus.on(\n    [\n      \"element.mousedown\",\n      \"drag.init\",\n      \"canvas.viewbox.changing\",\n      \"autoPlace\",\n      \"popupMenu.open\",\n    ],\n    function () {\n      if (directEditing.isActive()) {\n        directEditing.complete();\n      }\n    },\n  );\n\n  // cancel on command stack changes\n  eventBus.on([\"commandStack.changed\"], function () {\n    if (directEditing.isActive()) {\n      directEditing.cancel();\n    }\n  });\n\n  eventBus.on(\"directEditing.activate\", function (event) {\n    resizeHandles.removeResizers();\n    let element = event.active.element;\n    createAutocomplete(element);\n  });\n\n  eventBus.on(\"create.end\", 500, function (event) {\n    let element = event.shape,\n      canExecute = event.context.canExecute;\n\n    if (!canExecute) {\n      return;\n    }\n    if (!is(element, ElementTypes.ACTIVITY)) {\n      activateDirectEdit(element);\n    }\n    let editingBox = document.getElementsByClassName(\n      \"djs-direct-editing-content\",\n    );\n    focusElement(editingBox.item(0));\n  });\n\n  eventBus.on(\"autoPlace.end\", 500, function (event) {\n    activateDirectEdit(event.shape);\n  });\n\n  function activateDirectEdit(element) {\n    directEditing.activate(element);\n  }\n\n  function createAutocomplete(element) {\n    let editingBox = document.getElementsByClassName(\n      \"djs-direct-editing-content\",\n    );\n    focusElement(editingBox.item(0));\n    autocomplete(\n      editingBox[0],\n      dictionaryService.getUniqueWorkObjectNames(),\n      element,\n      eventBus,\n    );\n  }\n}\n\nDSLabelEditingProvider.$inject = [\n  \"eventBus\",\n  \"canvas\",\n  \"directEditing\",\n  \"modeling\",\n  \"resizeHandles\",\n  \"textRenderer\",\n  \"updateLabelHandler\",\n];\n\n/**\n * activate direct editing for activities and text annotations.\n *\n * @param  {djs.model.Base} element\n *\n * @return {Object} an object with properties bounds (position and size), text and options\n */\nDSLabelEditingProvider.prototype.activate = function (element) {\n  // text\n  if (isBackground(element)) {\n    return;\n  }\n  let text = getLabel(element);\n\n  if (text === undefined) {\n    return;\n  }\n\n  let context = {\n    text: text,\n  };\n\n  // bounds\n  let bounds = this.getEditingBBox(element);\n\n  assign(context, bounds);\n\n  let options = {};\n\n  if (is(element, ElementTypes.TEXTANNOTATION)) {\n    assign(options, {\n      resizable: true,\n      autoResize: true,\n    });\n  }\n\n  assign(context, {\n    options: options,\n  });\n\n  return context;\n};\n\n/**\n * get the editing bounding box based on the element's size and position\n *\n * @param  {djs.model.Base} element\n *\n * @return {Object} an object containing information about position\n *                  and size (fixed or minimum and/or maximum)\n */\nDSLabelEditingProvider.prototype.getEditingBBox = function (element) {\n  let canvas = this._canvas;\n\n  let target = element.label || element;\n\n  let bbox = canvas.getAbsoluteBBox(target);\n\n  // default position\n  let bounds = { x: bbox.x, y: bbox.y };\n\n  /** The canvas is an object from diagram-js. The IDE might say that zoom is deprecated,\n   * because it thinks that canvas is the standard HTML element.**/\n  let zoom = canvas.zoom();\n  let defaultStyle = this._textRenderer.getDefaultStyle();\n\n  // take zoom into account\n  let defaultFontSize = defaultStyle.fontSize * zoom,\n    defaultLineHeight = defaultStyle.lineHeight;\n\n  let style = {\n    fontFamily: this._textRenderer.getDefaultStyle().fontFamily,\n    fontWeight: this._textRenderer.getDefaultStyle().fontWeight,\n  };\n\n  // adjust for groups\n  if (is(element, ElementTypes.GROUP)) {\n    assign(bounds, {\n      minWidth: bbox.width / 2.5 > 125 ? bbox.width / 2.5 : 125,\n      maxWidth: bbox.width,\n      minHeight: 30 * zoom,\n      x: bbox.x,\n      y: bbox.y,\n    });\n\n    assign(style, {\n      fontSize: defaultFontSize + \"px\",\n      lineHeight: defaultLineHeight,\n      paddingTop: 7 * zoom + \"px\",\n      paddingBottom: 7 * zoom + \"px\",\n      paddingLeft: 5 * zoom + \"px\",\n      paddingRight: 5 * zoom + \"px\",\n      textAlign: \"left\",\n    });\n  }\n\n  if (\n    // we can't use util's is() function here because the type contains the name of the icon\n    /^domainStory:actor\\w*/.test(element.type) ||\n    /^domainStory:workObject\\w*/.test(element.type)\n  ) {\n    assign(bounds, {\n      width: bbox.width,\n      minHeight: 30,\n      y: bbox.y + bbox.height - 20,\n      x: bbox.x,\n    });\n\n    assign(style, {\n      fontSize: defaultFontSize + \"px\",\n      lineHeight: defaultLineHeight,\n      paddingTop: 7 * zoom + \"px\",\n      paddingBottom: 7 * zoom + \"px\",\n      paddingLeft: 5 * zoom + \"px\",\n      paddingRight: 5 * zoom + \"px\",\n    });\n  }\n\n  // text annotations\n  if (is(element, ElementTypes.TEXTANNOTATION)) {\n    assign(bounds, {\n      width: bbox.width,\n      height: bbox.height,\n      minWidth: 30 * zoom,\n      minHeight: 10 * zoom,\n    });\n\n    assign(style, {\n      textAlign: \"left\",\n      paddingTop: 7 * zoom + \"px\",\n      paddingBottom: 7 * zoom + \"px\",\n      paddingLeft: 5 * zoom + \"px\",\n      paddingRight: 5 * zoom + \"px\",\n      fontSize: defaultFontSize + \"px\",\n      lineHeight: defaultLineHeight,\n    });\n  }\n\n  return { bounds: bounds, style: style };\n};\n\nDSLabelEditingProvider.prototype.update = function (\n  element,\n  newLabel,\n  activeContextText,\n  bounds,\n) {\n  let newBounds, bbox;\n\n  if (is(element, ElementTypes.TEXTANNOTATION)) {\n    bbox = this._canvas.getAbsoluteBBox(element);\n\n    newBounds = {\n      x: element.x,\n      y: element.y,\n      width: (element.width / bbox.width) * bounds.width,\n      height: (element.height / bbox.height) * bounds.height,\n    };\n  }\n\n  this._modeling.updateLabel(\n    element,\n    sanitizeTextForSVGExport(newLabel),\n    newBounds,\n  );\n};\n","import { ActivityCanvasObject } from '../../../domain/entities/activityCanvasObject';\n\nexport class ActivityDialogData {\n  activity: ActivityCanvasObject;\n  numberIsAllowedMultipleTimes: boolean;\n  showNumberFields: boolean;\n\n  saveFN: any;\n\n  constructor(\n    activity: ActivityCanvasObject,\n    numberIsAllowedMultipleTimes: boolean,\n    showNumberFields: boolean,\n    saveFN: any,\n  ) {\n    this.activity = activity;\n    this.numberIsAllowedMultipleTimes = numberIsAllowedMultipleTimes;\n    this.showNumberFields = showNumberFields;\n    this.saveFN = saveFN;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../../material.module';\nimport { KeyboardShortcutsDialogComponent } from './keyboard-shortcuts-dialog/keyboard-shortcuts/keyboard-shortcuts-dialog.component';\n\n@NgModule({\n  declarations: [KeyboardShortcutsDialogComponent],\n  exports: [KeyboardShortcutsDialogComponent],\n  imports: [CommonModule, MaterialModule],\n})\nexport class DomainModule {}\n","\"use strict\";\n\nimport { assign, isArray } from \"min-dash\";\nimport { generateAutomaticNumber } from \"../numbering/numbering\";\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\nimport {\n  hexToRGBA,\n  isHexWithAlpha,\n  rgbaToHex,\n} from \"../../../../../utils/colorConverter\";\nimport { hasPrimaryModifier } from \"diagram-js/lib/util/Mouse\";\n\nlet dirtyFlagService;\nlet iconDictionaryService;\n\nexport function initializeContextPadProvider(dirtyFlag, iconDictionary) {\n  dirtyFlagService = dirtyFlag;\n  iconDictionaryService = iconDictionary;\n}\n\nexport default function DomainStoryContextPadProvider(\n  connect,\n  translate,\n  elementFactory,\n  create,\n  canvas,\n  contextPad,\n  popupMenu,\n  replaceMenuProvider,\n  commandStack,\n  eventBus,\n  modeling,\n  rules,\n) {\n  contextPad.registerProvider(this);\n  popupMenu.registerProvider(\"ds-replace\", replaceMenuProvider);\n\n  let _selectedElement;\n  let startConnect;\n\n  eventBus.on(\"create.end\", 250, function (event) {\n    var context = event.context,\n      shape = context.shape;\n\n    if (!hasPrimaryModifier(event) || !contextPad.isOpen(shape)) {\n      return;\n    }\n\n    var entries = contextPad.getEntries(shape);\n\n    if (entries.replace) {\n      entries.replace.action.click(event, shape);\n    }\n  });\n\n  document.addEventListener(\"pickedColor\", (event) => {\n    if (_selectedElement) {\n      executeCommandStack(event);\n    }\n  });\n\n  this.getContextPadEntries = function (element) {\n    _selectedElement = element;\n\n    let pickedColor = _selectedElement.businessObject.pickedColor;\n\n    if (isHexWithAlpha(pickedColor)) {\n      pickedColor = hexToRGBA(pickedColor);\n    }\n    document.dispatchEvent(\n      new CustomEvent(\"defaultColor\", {\n        detail: {\n          color: pickedColor ?? \"#000000\",\n        },\n      }),\n    );\n\n    let actions = {};\n\n    startConnect = function (event, element, autoActivate) {\n      connect.start(event, element, autoActivate);\n    };\n\n    if (element.type.includes(ElementTypes.WORKOBJECT)) {\n      addDelete(actions, element);\n      addColorChange(actions);\n      addConnectWithActivity(actions, startConnect);\n      addTextAnnotation(actions);\n      addActors(appendAction, actions);\n      addWorkObjects(appendAction, actions);\n      addChangeWorkObjectTypeMenu(actions);\n    } else if (element.type.includes(ElementTypes.ACTOR)) {\n      addDelete(actions, element);\n      addColorChange(actions);\n      addConnectWithActivity(actions, startConnect);\n      addTextAnnotation(actions);\n      addWorkObjects(appendAction, actions);\n      addChangeActorTypeMenu(actions);\n    } else if (element.type.includes(ElementTypes.GROUP)) {\n      addTextAnnotation(actions);\n      addDeleteGroupWithoutChildren(actions, element);\n      addColorChange(actions);\n    } else if (element.type.includes(ElementTypes.ACTIVITY)) {\n      addChangeDirection(actions);\n      addColorChange(actions);\n      addDelete(actions, element);\n    } else if (element.type.includes(ElementTypes.TEXTANNOTATION)) {\n      addDelete(actions, element);\n      addColorChange(actions);\n    } else if (element.type.includes(ElementTypes.CONNECTION)) {\n      addDelete(actions, element);\n    }\n\n    return actions;\n  };\n\n  this.getMultiElementContextPadEntries = function (elements) {\n    let actions = {};\n    addDelete(actions, elements);\n    return actions;\n  };\n\n  function addDelete(actions, element) {\n    // delete element entry, only show if allowed by rules\n    var deleteAllowed = rules.allowed(\"elements.delete\", {\n      elements: { element },\n    });\n\n    if (isArray(deleteAllowed)) {\n      // was the element returned as a deletion candidate?\n      deleteAllowed = deleteAllowed[0] === element;\n    }\n\n    if (deleteAllowed) {\n      assign(actions, {\n        delete: {\n          group: \"edit\",\n          className: \"bpmn-icon-trash\",\n          title: translate(\"Remove\"),\n          action: {\n            click: function (event, element) {\n              if (isArray(element)) {\n                const groups = element.filter((el) =>\n                  el.type.includes(ElementTypes.GROUP),\n                );\n                const otherElements = element.filter(\n                  (el) => !el.type.includes(ElementTypes.GROUP),\n                );\n                groups.forEach((group) => modeling.removeGroup(group));\n                modeling.removeElements(otherElements.slice());\n              } else {\n                modeling.removeElements({ element });\n              }\n              dirtyFlagService.makeDirty();\n            },\n          },\n        },\n      });\n    }\n  }\n\n  function addDeleteGroupWithoutChildren(actions, element) {\n    assign(actions, {\n      deleteGroup: {\n        group: \"edit\",\n        className: \"bpmn-icon-trash\",\n        title: translate(\"Remove Group without Child-Elements\"),\n        action: {\n          click: function (event, element) {\n            modeling.removeGroup(element);\n            dirtyFlagService.makeDirty();\n          },\n        },\n      },\n    });\n  }\n\n  function addChangeDirection(actions) {\n    assign(actions, {\n      changeDirection: {\n        group: \"edit\",\n        className: \"icon-domain-story-changeDirection\",\n        title: translate(\"Change direction\"),\n        action: {\n          // event needs to be addressed\n          click: function (event, element) {\n            changeDirection(element);\n            dirtyFlagService.makeDirty();\n          },\n        },\n      },\n    });\n  }\n\n  function addChangeActorTypeMenu(actions) {\n    assign(actions, {\n      replace: {\n        group: \"edit\",\n        className: \"bpmn-icon-screw-wrench\",\n        title: translate(\"Change type\"),\n        action: {\n          click: function (event, element) {\n            let position = assign(getReplaceMenuPosition(element), {\n              cursor: { x: event.x, y: event.y },\n            });\n            popupMenu.open(element, \"ds-replace\", position);\n          },\n        },\n      },\n    });\n  }\n\n  function addColorChange(actions) {\n    assign(actions, {\n      colorChange: {\n        group: \"edit\",\n        className: \"icon-domain-story-color-picker\",\n        title: translate(\"Change color\"),\n        action: {\n          click: function (event, element) {\n            document.dispatchEvent(new CustomEvent(\"openColorPicker\"));\n          },\n        },\n      },\n    });\n  }\n\n  function addTextAnnotation(actions) {\n    assign(actions, {\n      \"append.text-annotation\": appendAction(\n        ElementTypes.TEXTANNOTATION,\n        \"bpmn-icon-text-annotation\",\n        \"textannotation\",\n        \"connect\",\n      ),\n    });\n  }\n\n  function addConnectWithActivity(actions, startConnect) {\n    assign(actions, {\n      connect: {\n        group: \"connect\",\n        className: \"bpmn-icon-connection\",\n        title: translate(\"Connect with activity\"),\n        action: {\n          click: startConnect,\n          dragstart: startConnect,\n        },\n      },\n    });\n  }\n\n  function addWorkObjects(appendAction, actions) {\n    let workObjects = iconDictionaryService.getIconsAssignedAs(\n      ElementTypes.WORKOBJECT,\n    );\n    workObjects.keysArray().forEach((workObjectType) => {\n      let name = workObjectType;\n      let icon = iconDictionaryService.getCSSClassOfIcon(workObjectType);\n      let action = [];\n      action[\"append.workObject\" + name] = appendAction(\n        `${ElementTypes.WORKOBJECT}${workObjectType}`,\n        icon,\n        name,\n        \"workObjects\",\n      );\n      assign(actions, action);\n    });\n  }\n\n  function addActors(appendAction, actions) {\n    let actors = iconDictionaryService.getIconsAssignedAs(ElementTypes.ACTOR);\n    actors.keysArray().forEach((actorType) => {\n      let name = actorType;\n      let icon = iconDictionaryService.getCSSClassOfIcon(actorType);\n      let action = [];\n      action[\"append.actor\" + name] = appendAction(\n        `${ElementTypes.ACTOR}${actorType}`,\n        icon,\n        name,\n        \"actors\",\n      );\n      assign(actions, action);\n    });\n  }\n\n  function addChangeWorkObjectTypeMenu(actions) {\n    assign(actions, {\n      replace: {\n        group: \"edit\",\n        className: \"bpmn-icon-screw-wrench\",\n        title: translate(\"Change type\"),\n        action: {\n          click: function (event, element) {\n            let position = assign(getReplaceMenuPosition(element), {\n              cursor: { x: event.x, y: event.y },\n            });\n            popupMenu.open(element, \"ds-replace\", position);\n          },\n        },\n      },\n    });\n  }\n\n  function changeDirection(element) {\n    let context;\n    let businessObject = element.businessObject;\n    let newNumber;\n\n    if (element.source.type.includes(ElementTypes.ACTOR)) {\n      newNumber = 0;\n    } else {\n      newNumber = generateAutomaticNumber(element, commandStack);\n    }\n    context = {\n      businessObject: businessObject,\n      newNumber: newNumber,\n      element: element,\n    };\n    commandStack.execute(\"activity.directionChange\", context);\n  }\n\n  function getReplaceMenuPosition(element) {\n    let Y_OFFSET = 5;\n\n    let diagramContainer = canvas.getContainer(),\n      pad = contextPad.getPad(element).html;\n\n    let diagramRect = diagramContainer.getBoundingClientRect(),\n      padRect = pad.getBoundingClientRect();\n\n    let top = padRect.top - diagramRect.top;\n    let left = padRect.left - diagramRect.left;\n\n    return {\n      x: left,\n      y: top + padRect.height + Y_OFFSET,\n    };\n  }\n\n  function appendAction(type, className, title, group, options) {\n    if (typeof title !== \"string\") {\n      options = title;\n      title = translate(\"{type}\", { type: type.replace(/^domainStory:/, \"\") });\n    }\n\n    function appendStart(event, element) {\n      let shape = elementFactory.createShape(assign({ type: type }, options));\n      let context = {\n        elements: [shape],\n        hints: {},\n        source: element,\n      };\n      create.start(event, shape, context);\n    }\n\n    return {\n      group: group,\n      className: className,\n      title: \"Append \" + title,\n      action: {\n        dragstart: startConnect,\n        click: appendStart,\n      },\n    };\n  }\n\n  function getSelectedBusinessObject(event) {\n    const oldColor = _selectedElement.businessObject.pickedColor;\n    let newColor = event.detail.color;\n    if (isHexWithAlpha(oldColor)) {\n      newColor = rgbaToHex(newColor);\n    }\n\n    return {\n      businessObject: _selectedElement.businessObject,\n      newColor: newColor,\n      element: _selectedElement,\n    };\n  }\n\n  function executeCommandStack(event) {\n    const selectedBusinessObject = getSelectedBusinessObject(event);\n\n    commandStack.execute(\"element.colorChange\", selectedBusinessObject);\n    dirtyFlagService.makeDirty();\n  }\n}\n\nDomainStoryContextPadProvider.$inject = [\n  \"connect\",\n  \"translate\",\n  \"elementFactory\",\n  \"create\",\n  \"canvas\",\n  \"contextPad\",\n  \"popupMenu\",\n  \"replaceMenuProvider\",\n  \"commandStack\",\n  \"eventBus\",\n  \"modeling\",\n  \"rules\",\n];\n","\"use strict\";\n\nimport { assign } from \"min-dash\";\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\n\nlet iconDictionary;\n\nexport function initializePalette(iconDictionaryService) {\n  iconDictionary = iconDictionaryService;\n}\n\nexport default function PaletteProvider(\n  palette,\n  create,\n  elementFactory,\n  spaceTool,\n  lassoTool,\n) {\n  this._create = create;\n  this._elementFactory = elementFactory;\n  this._spaceTool = spaceTool;\n  this._lassoTool = lassoTool;\n\n  palette.registerProvider(this);\n}\n\nPaletteProvider.$inject = [\n  \"palette\",\n  \"create\",\n  \"elementFactory\",\n  \"spaceTool\",\n  \"lassoTool\",\n  \"modeling\",\n];\n\nPaletteProvider.prototype.getPaletteEntries = function () {\n  let actions = {},\n    create = this._create,\n    elementFactory = this._elementFactory,\n    spaceTool = this._spaceTool,\n    lassoTool = this._lassoTool;\n\n  function createAction(type, group, className, title, options) {\n    function createListener(event) {\n      let shape = elementFactory.createShape(assign({ type: type }, options));\n\n      assign(shape.businessObject, {\n        id: shape.id,\n      });\n\n      create.start(event, shape);\n    }\n\n    let shortType = type.replace(/^domainStory:/, \"\");\n\n    return {\n      group: group,\n      className: className,\n      title: \"Create \" + title || \"Create \" + shortType,\n      action: {\n        dragstart: createListener,\n        click: createListener,\n      },\n    };\n  }\n\n  return initPalette(actions, spaceTool, lassoTool, createAction);\n};\n\nfunction initPalette(actions, spaceTool, lassoTool, createAction) {\n  iconDictionary?.initTypeDictionaries();\n\n  let actorTypes = iconDictionary?.getIconsAssignedAs(ElementTypes.ACTOR);\n\n  actorTypes?.keysArray().forEach((name) => {\n    addCanvasObjectTypes(\n      name,\n      createAction,\n      actions,\n      \"actor\",\n      ElementTypes.ACTOR,\n    );\n  });\n\n  assign(actions, {\n    \"actor-separator\": {\n      group: \"actor\",\n      separator: true,\n    },\n  });\n\n  let workObjectTypes = iconDictionary?.getIconsAssignedAs(\n    ElementTypes.WORKOBJECT,\n  );\n\n  workObjectTypes?.keysArray().forEach((name) => {\n    addCanvasObjectTypes(\n      name,\n      createAction,\n      actions,\n      \"actor\",\n      ElementTypes.WORKOBJECT,\n    );\n  });\n\n  assign(actions, {\n    \"workObject-separator\": {\n      group: \"workObject\",\n      separator: true,\n    },\n    \"domainStory-group\": createAction(\n      ElementTypes.GROUP,\n      \"group\",\n      \"icon-domain-story-tool-group\",\n      \"group\",\n    ),\n    \"group-separator\": {\n      group: \"group\",\n      separator: true,\n    },\n    \"lasso-tool\": {\n      group: \"tools\",\n      className: \"bpmn-icon-lasso-tool\",\n      title: \"Activate the lasso tool\",\n      action: {\n        click: function (event) {\n          lassoTool.activateSelection(event);\n        },\n      },\n    },\n    \"space-tool\": {\n      group: \"tools\",\n      className: \"bpmn-icon-space-tool\",\n      title: \"Activate the create/remove space tool\",\n      action: {\n        click: function (event) {\n          spaceTool.activateSelection(event);\n        },\n      },\n    },\n  });\n\n  return actions;\n}\n\nfunction addCanvasObjectTypes(\n  name,\n  createAction,\n  actions,\n  className,\n  elementType,\n) {\n  let icon = iconDictionary.getCSSClassOfIcon(name);\n\n  let action = [];\n  action[\"domainStory-\" + className + name] = createAction(\n    `${elementType}${name}`,\n    className,\n    icon,\n    name,\n  );\n  assign(actions, action);\n}\n","\"use strict\";\n\nimport { angleBetween } from \"src/app/utils/mathExtensions\";\n\nlet numberRegistry = [];\nlet multipleNumberRegistry = [false];\n\nlet canvasElementRegistry;\n\nexport function initializeNumbering(canvasElementRegistryService) {\n  canvasElementRegistry = canvasElementRegistryService;\n}\n\nexport function updateMultipleNumberRegistry(activityBusinessObjects) {\n  activityBusinessObjects.forEach(\n    (activity) =>\n      (multipleNumberRegistry[activity.number] =\n        activity.multipleNumberAllowed),\n  );\n}\n\n// defines the box for activity numbers\nexport function numberBoxDefinitions(element) {\n  let alignment = \"center\";\n  let boxWidth = 30;\n  let boxHeight = 30;\n  let angle = 0;\n  if (element.waypoints.length > 1) {\n    angle = angleBetween(\n      // Start of first arrow segment\n      element.waypoints[0],\n      // End of first arrow segment\n      element.waypoints[1],\n    );\n  }\n  let x = element.waypoints[0].x;\n  let y = element.waypoints[0].y;\n\n  let fixedOffsetX = 0;\n  let fixedOffsetY = 0;\n  let angleDependantOffsetX = 0;\n  let angleDependantOffsetY = 0;\n\n  // Fine tune positioning of sequence number above beginning of first arrow segment\n  if (angle >= 0 && angle <= 45) {\n    fixedOffsetX = 25;\n    angleDependantOffsetY = 20 * (1 - angle / 45);\n  } else if (angle <= 90) {\n    fixedOffsetX = 5;\n    angleDependantOffsetX = 15 * (1 - (angle - 45) / 45);\n  } else if (angle <= 135) {\n    fixedOffsetX = 5;\n    angleDependantOffsetX = -20 * ((angle - 90) / 45);\n  } else if (angle <= 180) {\n    fixedOffsetX = -15;\n    angleDependantOffsetY = 20 * ((angle - 135) / 45);\n  } else if (angle <= 225) {\n    fixedOffsetX = -15;\n    fixedOffsetY = 15;\n    angleDependantOffsetY = 25 * ((angle - 180) / 45);\n  } else if (angle <= 270) {\n    fixedOffsetX = 5;\n    angleDependantOffsetX = -20 * (1 - (angle - 225) / 45);\n    fixedOffsetY = 40;\n  } else if (angle <= 315) {\n    fixedOffsetX = 5;\n    angleDependantOffsetX = 25 * ((angle - 270) / 45);\n    fixedOffsetY = 40;\n  } else {\n    fixedOffsetX = 25;\n    fixedOffsetY = 20;\n    angleDependantOffsetY = 15 * (1 - (angle - 315) / 45);\n  }\n\n  x = x + fixedOffsetX + angleDependantOffsetX;\n  y = y + fixedOffsetY + angleDependantOffsetY;\n\n  return {\n    textAlign: alignment,\n    width: boxWidth,\n    height: boxHeight,\n    x: x,\n    y: y,\n  };\n}\n\n// determine the next available number that is not yet used\nexport function generateAutomaticNumber(elementActivity, commandStack) {\n  const semantic = elementActivity.businessObject;\n  const usedNumbers = [0];\n  let wantedNumber = -1;\n\n  const activitiesFromActors = canvasElementRegistry.getActivitiesFromActors();\n\n  activitiesFromActors.forEach((element) => {\n    if (element.businessObject.number) {\n      usedNumbers.push(+element.businessObject.number);\n    }\n  });\n  for (let i = 0; i < usedNumbers.length; i++) {\n    if (!usedNumbers.includes(i)) {\n      if (!usedNumbers.includes(i)) {\n        wantedNumber = i;\n        i = usedNumbers.length;\n      }\n    }\n  }\n  if (wantedNumber === -1) {\n    wantedNumber = usedNumbers.length;\n  }\n\n  updateExistingNumbersAtGeneration(\n    activitiesFromActors,\n    wantedNumber,\n    commandStack,\n  );\n  semantic.number = wantedNumber;\n  return wantedNumber;\n}\n\n// update the numbers at the activities when generating a new activity\nexport function updateExistingNumbersAtGeneration(\n  activitiesFromActors,\n  wantedNumber,\n  commandStack,\n) {\n  activitiesFromActors.forEach((element) => {\n    let number = +element.businessObject.number;\n\n    if (number >= wantedNumber) {\n      wantedNumber++;\n      setTimeout(function () {\n        commandStack.execute(\"activity.changed\", {\n          businessObject: element.businessObject,\n          newLabel: element.businessObject.name,\n          newNumber: number,\n          element: element,\n        });\n      }, 10);\n    }\n  });\n}\n\n// update the numbers at the activities when editing an activity\nexport function updateExistingNumbersAtEditing(\n  activitiesFromActors,\n  wantedNumber,\n  eventBus,\n) {\n  // get a sorted list of all activities that could need changing\n  let sortedActivities = [[]];\n  activitiesFromActors.forEach((activity) => {\n    if (!sortedActivities[activity.businessObject.number]) {\n      sortedActivities[activity.businessObject.number] = [];\n    }\n    sortedActivities[activity.businessObject.number].push(activity);\n  });\n\n  // set the number of each activity to the next highest number, starting from the number, we overrode\n  let oldMultipleNumberRegistry = [...multipleNumberRegistry];\n  let currentNumber = wantedNumber;\n  for (\n    currentNumber;\n    currentNumber < sortedActivities.length;\n    currentNumber++\n  ) {\n    if (sortedActivities[currentNumber]) {\n      wantedNumber++;\n      multipleNumberRegistry[wantedNumber] =\n        oldMultipleNumberRegistry[currentNumber];\n      setNumberOfActivity(\n        sortedActivities[currentNumber],\n        wantedNumber,\n        eventBus,\n      );\n    }\n  }\n}\n\n// get the IDs of activities with their associated number, only returns activities that are originating from an actor\nexport function getNumbersAndIDs() {\n  let iDWithNumber = [];\n  let activities = canvasElementRegistry.getActivitiesFromActors();\n\n  for (let i = activities.length - 1; i >= 0; i--) {\n    let id = activities[i].businessObject.id;\n    let number = activities[i].businessObject.number;\n    iDWithNumber.push({ id: id, number: number });\n  }\n  return iDWithNumber;\n}\n\nexport function addNumberToRegistry(renderedNumber, number) {\n  numberRegistry[number] = renderedNumber;\n}\n\nexport function setNumberIsMultiple(number, multi) {\n  multipleNumberRegistry[number] = multi;\n}\n\n/**\n * @returns copy of registry\n */\nexport function getNumberRegistry() {\n  return numberRegistry.slice(0);\n}\n\nexport function getMultipleNumberRegistry() {\n  return multipleNumberRegistry.slice(0);\n}\n\nfunction setNumberOfActivity(elementArray, wantedNumber, eventBus) {\n  if (elementArray) {\n    elementArray.forEach((element) => {\n      if (element) {\n        let businessObject = element.businessObject;\n        if (businessObject) {\n          businessObject.number = wantedNumber;\n        }\n        eventBus.fire(\"element.changed\", { element });\n      }\n    });\n  }\n}\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  HostListener,\n  OnInit,\n  ViewChild,\n} from '@angular/core';\nimport { SettingsService } from 'src/app/workbench/services/settings/settings.service';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { TitleService } from './tools/title/services/title.service';\nimport { ExportService } from './tools/export/services/export.service';\nimport { ReplayService } from './tools/replay/services/replay.service';\nimport { environment } from '../environments/environment';\nimport { ColorPickerDirective } from 'ngx-color-picker';\nimport { AutosaveService } from './tools/autosave/services/autosave.service';\nimport {\n  BLACK,\n  BLUE,\n  CYAN,\n  DARK_PINK,\n  GREEN,\n  GREY,\n  LIGHT_PINK,\n  LIME,\n  ORANGE,\n  PURPLE,\n  RED,\n  SNACKBAR_DURATION_LONG,\n  SNACKBAR_INFO,\n  YELLOW,\n} from './domain/entities/constants';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { ModelerService } from './tools/modeler/services/modeler.service';\nimport { DirtyFlagService } from './domain/services/dirty-flag.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss'],\n  standalone: false,\n})\nexport class AppComponent implements OnInit, AfterViewInit {\n  showSettings$: Observable<boolean> | BehaviorSubject<boolean>;\n  showDescription$: Observable<boolean>;\n  version: string = environment.version;\n  color: string = BLACK;\n\n  @ViewChild(ColorPickerDirective, { static: false })\n  colorPicker!: ColorPickerDirective;\n\n  skipNextColorUpdate = false;\n\n  // define preset colors that have good contrast on white background and are compatible to EventStorming notation\n  colorBox: string[] = [\n    YELLOW,\n    ORANGE,\n    RED,\n    LIGHT_PINK,\n    DARK_PINK,\n    PURPLE,\n    BLUE,\n    CYAN,\n    GREEN,\n    LIME,\n    GREY,\n    BLACK,\n  ];\n\n  constructor(\n    private settingsService: SettingsService,\n    private titleService: TitleService,\n    private exportService: ExportService,\n    private autosaveService: AutosaveService,\n    private cd: ChangeDetectorRef,\n    private snackbar: MatSnackBar,\n    replayService: ReplayService,\n    private modelerService: ModelerService,\n    private dirtyFlagService: DirtyFlagService,\n  ) {\n    this.showSettings$ = new BehaviorSubject(false);\n    this.showDescription$ = new BehaviorSubject(true);\n\n    document.addEventListener('keydown', (e: KeyboardEvent) => {\n      const modifierPressed = e.ctrlKey || e.metaKey;\n      if (modifierPressed && e.key === 's' && !e.altKey) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (this.exportService.isDomainStoryExportable()) {\n          this.exportService.downloadDST();\n        }\n      }\n\n      if (modifierPressed && e.altKey && e.key === 's') {\n        e.preventDefault();\n        e.stopPropagation();\n        if (this.exportService.isDomainStoryExportable()) {\n          this.exportService.downloadSVG(true, true, undefined);\n        }\n      }\n      if (modifierPressed && e.key === 'l') {\n        e.preventDefault();\n        e.stopPropagation();\n        document.getElementById('import')?.click();\n      }\n      if (\n        (e.key === 'ArrowRight' || e.key === 'ArrowUp') &&\n        replayService.getReplayOn()\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n        replayService.nextSentence();\n      }\n      if (\n        (e.key === 'ArrowLeft' || e.key === 'ArrowDown') &&\n        replayService.getReplayOn()\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n        replayService.previousSentence();\n      }\n      if (e.key === 'Escape') {\n        e.preventDefault();\n        e.stopPropagation();\n        this.skipNextColorUpdate = true;\n        this.colorPicker.closeDialog();\n      }\n    });\n\n    document.addEventListener('defaultColor', (event: Event) => {\n      const customEvent = event as CustomEvent;\n      if (customEvent.detail.color === 'black') {\n        this.color = BLACK;\n      } else {\n        this.color = customEvent.detail.color;\n      }\n    });\n\n    document.addEventListener('openColorPicker', () => {\n      this.colorPicker.openDialog();\n    });\n\n    document.addEventListener('errorColoringOnlySvg', () => {\n      this.snackbar.open('Only SVG icons can be colored', undefined, {\n        duration: SNACKBAR_DURATION_LONG,\n        panelClass: SNACKBAR_INFO,\n      });\n    });\n  }\n\n  ngOnInit(): void {\n    this.modelerService.postInit();\n    this.showDescription$ = this.titleService.showDescription$;\n    this.showSettings$ = this.settingsService.showSettings$;\n  }\n\n  onColorChanged(color: string) {\n    if (this.skipNextColorUpdate) {\n      this.skipNextColorUpdate = false;\n      return;\n    }\n    document.dispatchEvent(\n      new CustomEvent('pickedColor', { detail: { color: color } }),\n    );\n  }\n\n  ngAfterViewInit(): void {\n    this.autosaveService.loadLatestDraft();\n    this.cd.detectChanges();\n  }\n\n  @HostListener('window:beforeunload', ['$event'])\n  onWindowClose(event: any): void {\n    if (this.dirtyFlagService.dirty) {\n      event.returnValue = true;\n    }\n  }\n}\n","<div class=\"content\" role=\"main\">\n  <input\n    id=\"colorPicker\"\n    [style.background]=\"color\"\n    [cpPresetColors]=\"colorBox\"\n    [(colorPicker)]=\"color\"\n    (colorPickerClose)=\"onColorChanged($event)\"\n    style=\"display: none; height: 0\"\n  />\n\n  @if (showSettings$ | async) {\n    <app-settings />\n  }\n  <div\n    [class.headerAndCanvas]=\"\n      !(showSettings$ | async) && (showDescription$ | async)\n    \"\n    [class.headerAndCanvasCollapsed]=\"\n      !(showSettings$ | async) && !(showDescription$ | async)\n    \"\n    [class.hidden]=\"showSettings$ | async\"\n  >\n    <app-header\n      [class.header]=\"showDescription$ | async\"\n      [class.headerCollapsed]=\"!(showDescription$ | async)\"\n    />\n    <div appDrag id=\"canvas\"></div>\n  </div>\n\n  <div\n    [class.logoContainer]=\"!(showSettings$ | async)\"\n    [class.hidden]=\"showSettings$ | async\"\n  >\n    <span>\n      <img src=\"favicon.ico\" height=\"24\" alt=\"Egon Logo\" />\n      <a href=\"https://egon.io\" target=\"_blank\"> egon.io</a>\n      <span>version: </span>\n      <a href=\"https://egon.io/changelog\" target=\"_blank\">{{ version }}</a>\n      <span>by </span>\n      <img src=\"assets/logo/wps-icon.ico\" height=\"24\" alt=\"WPS Logo\" />\n      <a href=\"https://www.wps.de/\" target=\"_blank\">WPS</a>\n    </span>\n\n    <span>\n      <a href=\"https://www.wps.de/datenschutz/\" target=\"_blank\">Privacy</a>\n    </span>\n\n    <span>\n      <a href=\"https://www.wps.de/impressum/\" target=\"_blank\">Imprint</a>\n    </span>\n  </div>\n</div>\n","export class Dictionary {\n  private entries: Entry[];\n\n  constructor() {\n    this.entries = [];\n  }\n\n  get length(): number {\n    return this.entries.length;\n  }\n\n  all(): Entry[] {\n    return this.entries;\n  }\n\n  size(): number {\n    return this.entries.length;\n  }\n\n  isEmpty(): boolean {\n    return this.entries.length <= 0;\n  }\n\n  has(key: string): boolean {\n    return this.entries.some((entry) => entry.key === key);\n  }\n\n  set(key: string, value: any): void {\n    if (!this.has(key)) {\n      this.entries.push(new Entry(value, key));\n    }\n  }\n\n  add(value: any, key: string): void {\n    this.set(key, value);\n  }\n\n  putEntry(entry: Entry): void {\n    if (!this.has(entry.key)) {\n      this.entries.push(entry);\n    }\n  }\n\n  keysArray(): string[] {\n    return this.entries.map((entry) => entry.key);\n  }\n\n  addEach(object: any): void {\n    Object.keys(object).forEach((key) => {\n      this.set(key, object[key]);\n    });\n  }\n\n  addBuiltInIcons(builtInIcons: Dictionary): void {\n    builtInIcons.entries.forEach((entry) => {\n      if (!this.has(entry.key)) {\n        this.entries.push(entry);\n      }\n    });\n  }\n\n  appendDict(dict: Dictionary): void {\n    dict.entries.forEach((entry) => this.putEntry(entry));\n  }\n\n  clear(): void {\n    this.entries = [];\n  }\n\n  delete(key: string): void {\n    this.entries = this.entries.filter((entry) => entry.key !== key);\n  }\n\n  get(key: string): any {\n    const found = this.entries.filter((entry) => entry.key === key);\n    return found[0] ? found[0].value : null;\n  }\n}\n\nexport class Entry {\n  value: any; // ToDo: dh, I think type of any is not a good choice. Try to figur out if we can use typed objects here.\n  key: string;\n  keyWords: string[];\n\n  constructor(value: any, key: string, keyWords: string[] = []) {\n    this.value = value;\n    this.key = key;\n    this.keyWords = keyWords;\n  }\n}\n","import { AfterViewChecked, Component, Input } from '@angular/core';\nimport { IconListItem } from '../../domain/iconListItem';\n\n@Component({\n  selector: 'app-details-list-item',\n  templateUrl: './details-list-item.component.html',\n  styleUrls: ['./details-list-item.component.scss'],\n  standalone: false,\n})\nexport class DetailsListItemComponent implements AfterViewChecked {\n  @Input()\n  icon!: IconListItem;\n\n  private iconInitiated = false;\n\n  get id(): string {\n    return (\n      'domain-configuration-details-icon-' +\n      this.icon.name.toLowerCase() +\n      '-' +\n      (this.icon.isWorkObject ? 'workobject' : 'actor')\n    );\n  }\n\n  get name(): string {\n    return this.icon.name;\n  }\n\n  ngAfterViewChecked(): void {\n    this.createIcon();\n  }\n\n  private createIcon(): void {\n    const img = document.getElementById(this.id) as HTMLImageElement;\n    if (img && !this.iconInitiated) {\n      img.src = '' + this.icon.svg;\n      this.iconInitiated = true;\n    }\n  }\n}\n","<div class=\"detailsListItem\">\n  <img id=\"{{ id }}\" class=\"icon\" alt=\"{{ name }}\" [src]=\"icon.svg\" />\n  <mat-label class=\"iconName\">{{ icon.name }}</mat-label>\n</div>\n","export class ConfigAndDST {\n  domain: any;\n  dst: any;\n\n  constructor(domain: any, dst: any) {\n    this.domain = domain;\n    this.dst = dst;\n  }\n}\n\nexport const testConfigAndDst: ConfigAndDST = {\n  domain: JSON.parse(\n    '{\"name\":\"\",' +\n      '\"actors\":{\"Person\":\"<svg viewBox=\\\\\"0 0 24 26\\\\\" xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\">' +\n      '<path d=\\\\\"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z\\\\\"/>' +\n      '<path d=\\\\\"M0 0h24v24H0z\\\\\" fill=\\\\\"none\\\\\"/></svg>\",' +\n      '\"Group\":\"<svg xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\" width=\\\\\"48\\\\\" height=\\\\\"48\\\\\" viewBox=\\\\\"0 0 24 26\\\\\">' +\n      '<path d=\\\\\"M0 0h24v24H0z\\\\\" fill=\\\\\"none\\\\\"/>' +\n      '<path d=\\\\\"M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z\\\\\"/></svg>\",' +\n      '\"System\":\"<svg viewBox=\\\\\"0 0 24 26\\\\\" xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\">' +\n      '<path d=\\\\\"M20,18c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2H4C2.9,4,2,4.9,2,6v10c0,1.1,0.9,2,2,2H0v2h24v-2H20z M4,6h16v10H4V6z\\\\\"/></svg>\"},' +\n      '\"workObjects\":{\"Document\":\"<svg xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\" width=\\\\\"24\\\\\" height=\\\\\"24\\\\\" viewBox=\\\\\"0 0 24 26\\\\\">' +\n      '<path fill=\\\\\"none\\\\\" d=\\\\\"M0 0h24v24H0V0z\\\\\"/><path d=\\\\\"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z\\\\\"/></svg>\",' +\n      '\"Folder\":\"<svg viewBox=\\\\\"0 0 24 26\\\\\" xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\">' +\n      '<path fill=\\\\\"none\\\\\" d=\\\\\"M0,0h24v24H0V0z\\\\\"/>' +\n      '<path d=\\\\\"M9.17,6l2,2H20v10L4,18V6H9.17 M10,4H4C2.9,4,2.01,4.9,2.01,6L2,18c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8c0-1.1-0.9-2-2-2 h-8L10,4L10,4z\\\\\"/></svg>\",' +\n      '\"Call\":\"<svg viewBox=\\\\\"0 0 24 26\\\\\" xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\">' +\n      '<path fill=\\\\\"none\\\\\" d=\\\\\"M0,0h24v24H0V0z\\\\\"/><path d=\\\\\"M6.54,5C6.6,5.89,6.75,6.76,6.99,7.59l-1.2,1.2C5.38,7.59,5.12,6.32,5.03,5H6.54 M16.4,17.02c0.85,0.24,1.72,0.39,2.6,0.45 v1.49c-1.32-0.09-2.59-0.35-3.8-0.75L16.4,17.02 M7.5,3H4C3.45,3,3,3.45,3,4c0,9.39,7.61,17,17,17c0.55,0,1-0.45,1-1v-3.49\\\\tc0-0.55-0.45-1-1-1c-1.24,0-2.45-0.2-3.57-0.57c-0.1-0.04-0.21-0.05-0.31-0.05c-0.26,0-0.51,0.1-0.71,0.29l-2.2,2.2 c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2C9.1,8.31,9.18,7.92,9.07,7.57C8.7,6.45,8.5,5.25,8.5,4C8.5,3.45,8.05,3,7.5,3L7.5,3z\\\\\"/></svg>\",' +\n      '\"Email\":\"<svg viewBox=\\\\\"0 0 24 26\\\\\" xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\"><path fill=\\\\\"none\\\\\" d=\\\\\"M0,0h24v24H0V0z\\\\\"/>' +\n      '<path fill-opacity=\\\\\"0.9\\\\\" d=\\\\\"M12,1.95c-5.52,0-10,4.48-10,10s4.48,10,10,10h5v-2h-5c-4.34,0-8-3.66-8-8s3.66-8,8-8s8,3.66,8,8v1.43 c0,0.79-0.71,1.57-1.5,1.57S17,14.17,17,13.38v-1.43c0-2.76-2.24-5-5-5s-5,2.24-5,5s2.24,5,5,5c1.38,0,2.64-0.56,3.54-1.47 c0.65,0.89,1.77,1.47,2.96,1.47c1.97,0,3.5-1.6,3.5-3.57v-1.43C22,6.43,17.52,1.95,12,1.95z M12,14.95c-1.66,0-3-1.34-3-3 s1.34-3,3-3s3,1.34,3,3S13.66,14.95,12,14.95z\\\\\"/></svg>\",' +\n      '\"Conversation\":\"<svg height=\\\\\"48\\\\\" viewBox=\\\\\"0 0 24 26\\\\\" width=\\\\\"48\\\\\" xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\">' +\n      '<path d=\\\\\"M0 0h24v24H0V0z\\\\\" fill=\\\\\"none\\\\\"/><path d=\\\\\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\\\\\"/></svg>\",' +\n      '\"Info\":\"<svg height=\\\\\"48\\\\\" viewBox=\\\\\"0 0 24 26\\\\\" width=\\\\\"48\\\\\" xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\"><path d=\\\\\"M0 0h24v24H0z\\\\\" fill=\\\\\"none\\\\\"/>' +\n      '<path d=\\\\\"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z\\\\\"/>' +\n      '</svg>\"}}',\n  ),\n  dst:\n    '[' +\n    '{\"type\":\"domainStory:workObjectDocument\",\"name\":\"\",\"id\":\"shape_3792\",\"pickedColor\":\"black\",\"x\":302,\"y\":102},' +\n    '{\"type\":\"domainStory:actorPerson\",\"name\":\"\",\"id\":\"shape_4666\",\"pickedColor\":\"black\",\"x\":103,\"y\":93},' +\n    '{\"type\":\"domainStory:activity\",\"name\":\"\",\"id\":\"connection_4884\",\"pickedColor\":\"black\",\"number\":1,' +\n    '\"waypoints\":[{\"original\":{\"x\":141,\"y\":131},\"x\":186,\"y\":133},{\"original\":{\"x\":340,\"y\":140},\"x\":302,\"y\":138}],' +\n    '\"source\":\"shape_4666\",\"target\":\"shape_3792\"}]',\n};\n","import { Component, OnInit } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { Dictionary } from 'src/app/domain/entities/dictionary';\nimport { IconSetImportExportService } from 'src/app/tools/icon-set-config/services/icon-set-import-export.service';\nimport { IconDictionaryService } from 'src/app/tools/icon-set-config/services/icon-dictionary.service';\nimport { ElementRegistryService } from 'src/app/domain/services/element-registry.service';\nimport { sanitizeIconName } from 'src/app/utils/sanitizer';\nimport { IconFilterOptions } from '../../domain/iconFilterOptions';\nimport { IconSetCustomizationService } from '../../services/icon-set-customization.service';\nimport { CustomIconSetConfiguration } from '../../../../domain/entities/custom-icon-set-configuration';\n\n@Component({\n  selector: 'app-icon-set-configuration',\n  templateUrl: './icon-set-configuration.component.html',\n  styleUrls: ['./icon-set-configuration.component.scss'],\n  standalone: false,\n})\nexport class IconSetConfigurationComponent implements OnInit {\n  private iconSetConfigurationTypes: CustomIconSetConfiguration;\n\n  filter = new BehaviorSubject<IconFilterOptions>(IconFilterOptions.NO_FILTER);\n\n  selectedActors = new BehaviorSubject<string[]>([]);\n  selectedWorkobjects = new BehaviorSubject<string[]>([]);\n\n  allIcons: BehaviorSubject<Dictionary>;\n  allIconNames = new BehaviorSubject<string[]>([]);\n  allFilteredIconNames = new BehaviorSubject<string[]>([]);\n\n  constructor(\n    private iconSetImportExportService: IconSetImportExportService,\n    private iconDictionaryService: IconDictionaryService,\n    private iconSetCustomizationService: IconSetCustomizationService,\n    private elementRegistryService: ElementRegistryService,\n  ) {\n    this.iconSetConfigurationTypes =\n      this.iconSetCustomizationService.getIconSetConfiguration().value;\n\n    this.allIcons = new BehaviorSubject<Dictionary>(\n      this.iconDictionaryService.getFullDictionary(),\n    );\n    this.allIcons.subscribe((allIcons) => {\n      this.allIconNames.next(allIcons.keysArray().sort(this.sortByName));\n    });\n\n    this.selectedActors = this.iconSetCustomizationService.selectedActors$;\n    this.selectedWorkobjects =\n      this.iconSetCustomizationService.selectedWorkobjects$;\n  }\n\n  ngOnInit(): void {\n    this.filter.subscribe((type) => {\n      let allFiltered = this.getFilteredNamesForType(type);\n      this.allFilteredIconNames.next(allFiltered.sort(this.sortByName));\n    });\n  }\n\n  private sortByName(a: string, b: string): number {\n    return a.toLowerCase().localeCompare(b.toLowerCase());\n  }\n\n  /** Default Icon Set **/\n  loadMinimalIconConfigurationWithDefaultIcons(): void {\n    this.iconSetCustomizationService.resetIconSet();\n  }\n\n  loadInitialConfiguration(): void {\n    this.iconSetCustomizationService.cancel();\n  }\n\n  /** Persist Icon Set **/\n  saveIconSet(): void {\n    this.iconSetCustomizationService.saveIconSet(\n      this.elementRegistryService.getUsedIcons(),\n    );\n  }\n\n  /** Add Custom Icon **/\n  startIconUpload(): void {\n    document.getElementById('importIcon')?.click();\n  }\n\n  importIcon(): void {\n    // @ts-ignore\n    const files = document.getElementById('importIcon').files;\n    for (let iconInputFile of files) {\n      const reader = new FileReader();\n      const name = sanitizeIconName(iconInputFile.name);\n      const iconName = name + '-custom'; // this suffix helps users to see which icons they uploaded; it should not be used to check if an icon is actually custom or not since this convention was introduce after v1.3.0 and is therefore not reliable information\n\n      reader.onloadend = (e: ProgressEvent<FileReader>) => {\n        if (e.target) {\n          const src: string = e.target.result as unknown as string;\n          this.iconDictionaryService.addIMGToIconDictionary(src, iconName);\n          this.allIcons.next(this.iconDictionaryService.getFullDictionary());\n          this.filter.next(this.filter.value);\n          this.iconSetCustomizationService.addNewIcon(iconName);\n        }\n      };\n      reader.readAsDataURL(iconInputFile);\n    }\n  }\n\n  /** Import Icon Set **/\n  startIconSetImport(): void {\n    document.getElementById('importDomain')?.click();\n  }\n\n  importIconSet(): void {\n    // @ts-ignore\n    const iconSetInputFile = document.getElementById('importDomain').files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = (e: ProgressEvent<FileReader>) => {\n      const configFromFile = JSON.parse(\n        e.target?.result as unknown as string,\n      ) as {\n        name: string;\n        actors: { [key: string]: any };\n        workObjects: { [key: string]: any };\n      };\n      const config =\n        this.iconSetImportExportService.createIconSetConfiguration(\n          configFromFile,\n        );\n      this.iconSetImportExportService.loadConfiguration(config, false);\n\n      this.iconSetCustomizationService.importConfiguration(config);\n\n      this.allIcons.next(this.iconDictionaryService.getFullDictionary());\n      this.filter.next(this.filter.value);\n    };\n\n    reader.readAsText(iconSetInputFile);\n  }\n\n  /** Filter **/\n  filterForActors(): void {\n    if (this.filter.value !== IconFilterOptions.ONLY_ACTORS) {\n      this.filter.next(IconFilterOptions.ONLY_ACTORS);\n    } else {\n      this.filter.next(IconFilterOptions.NO_FILTER);\n    }\n  }\n\n  filterForWorkobjects(): void {\n    if (this.filter.value !== IconFilterOptions.ONLY_WORKOBJECTS) {\n      this.filter.next(IconFilterOptions.ONLY_WORKOBJECTS);\n    } else {\n      this.filter.next(IconFilterOptions.NO_FILTER);\n    }\n  }\n\n  filterForUnassigned(): void {\n    if (this.filter.value !== IconFilterOptions.ONLY_UNASSIGNED) {\n      this.filter.next(IconFilterOptions.ONLY_UNASSIGNED);\n    } else {\n      this.filter.next(IconFilterOptions.NO_FILTER);\n    }\n  }\n\n  filterByNameAndType($event: any) {\n    const filteredByKeyWord = this.allIcons.value\n      .all()\n      .filter((entry) =>\n        entry.keyWords.some((key) => {\n          return key.toLowerCase().includes($event.target.value.toLowerCase());\n        }),\n      )\n      .map((entry) => entry.key);\n\n    const filteredByNameAndType = this.getFilteredNamesForType(\n      this.filter.value,\n    ).filter(\n      (name) =>\n        name.toLowerCase().includes($event.target.value.toLowerCase()) ||\n        filteredByKeyWord.includes(name),\n    );\n    this.allFilteredIconNames.next(filteredByNameAndType.sort(this.sortByName));\n  }\n\n  private getFilteredNamesForType(type: IconFilterOptions): string[] {\n    let allFiltered: string[] = [];\n    switch (type) {\n      case IconFilterOptions.NO_FILTER:\n        allFiltered = this.allIconNames.value;\n        break;\n      case IconFilterOptions.ONLY_ACTORS:\n        allFiltered = this.allIconNames.value.filter((name) =>\n          this.iconSetCustomizationService.isIconActor(name),\n        );\n        break;\n      case IconFilterOptions.ONLY_WORKOBJECTS:\n        allFiltered = this.allIconNames.value.filter((name) =>\n          this.iconSetCustomizationService.isIconWorkObject(name),\n        );\n        break;\n      case IconFilterOptions.ONLY_UNASSIGNED:\n        allFiltered = this.allIconNames.value.filter(\n          (name) =>\n            !this.iconSetCustomizationService.isIconActor(name) &&\n            !this.iconSetCustomizationService.isIconWorkObject(name),\n        );\n        break;\n    }\n    return allFiltered;\n  }\n}\n","<div class=\"content\">\n  <div>\n    <div class=\"header\">\n      <div class=\"searchbar\">\n        <div class=\"heading\">Filter:</div>\n        <button\n          mat-button\n          [class.activeNone]=\"(filter | async) === 'ICON_FILTER_UNASSIGNED'\"\n          title=\"Unassigned Icons\"\n          (click)=\"filterForUnassigned()\"\n        >\n          <span>Unassigned</span>\n        </button>\n        <button\n          mat-button\n          [class.activeActor]=\"(filter | async) === 'ICON_FILTER_ACTOR'\"\n          title=\"Icons used as actors\"\n          (click)=\"filterForActors()\"\n        >\n          <span>Actors</span>\n        </button>\n        <button\n          mat-button\n          [class.activeWorkObject]=\"\n            (filter | async) === 'ICON_FILTER_WORKOBJECT'\n          \"\n          title=\"Icons used as work objects\"\n          (click)=\"filterForWorkobjects()\"\n        >\n          <span>Work Objects</span>\n        </button>\n        <mat-form-field\n          class=\"searchForm dense-8\"\n          color=\"accent\"\n          subscriptSizing=\"dynamic\"\n          appearance=\"outline\"\n        >\n          <mat-label>Search icons</mat-label>\n          <input matInput type=\"text\" (input)=\"filterByNameAndType($event)\" />\n        </mat-form-field>\n      </div>\n      <div class=\"buttons\">\n        <button\n          mat-stroked-button\n          class=\"mr-1\"\n          title=\"Import icon set\"\n          (click)=\"startIconSetImport()\"\n        >\n          <span>Import icon set</span>\n          <input\n            type=\"file\"\n            accept=\".domain, .iconset\"\n            style=\"display: none\"\n            id=\"importDomain\"\n            name=\"file\"\n            onclick=\"this.value=null\"\n            (change)=\"importIconSet()\"\n          />\n        </button>\n        <button\n          mat-stroked-button\n          class=\"mr-1\"\n          title=\"Upload icon\"\n          (click)=\"startIconUpload()\"\n        >\n          <span>Upload icon</span>\n          <input\n            type=\"file\"\n            multiple\n            accept=\".svg, image/png, image/jpeg, image/gif\"\n            style=\"display: none\"\n            id=\"importIcon\"\n            name=\"file\"\n            onclick=\"this.value=null\"\n            (change)=\"importIcon()\"\n          />\n        </button>\n        <button\n          mat-stroked-button\n          class=\"mr-1\"\n          title=\"Reset to default icon set\"\n          (click)=\"loadMinimalIconConfigurationWithDefaultIcons()\"\n        >\n          <span>Reset to default</span>\n        </button>\n        <button\n          mat-stroked-button\n          class=\"mr-1\"\n          title=\"Cancel changes\"\n          (click)=\"loadInitialConfiguration()\"\n        >\n          <span>Cancel changes</span>\n        </button>\n        <button\n          mat-flat-button\n          class=\"mr-1\"\n          title=\"Save changes\"\n          color=\"primary\"\n          (click)=\"saveIconSet()\"\n        >\n          <span>Save changes</span>\n        </button>\n      </div>\n    </div>\n    <div class=\"iconList smallScrollbar\">\n      @for (iconName of allFilteredIconNames | async; track iconName) {\n        <app-icon-list-item [iconName]=\"iconName\"></app-icon-list-item>\n      }\n    </div>\n  </div>\n  <app-icon-set-details></app-icon-set-details>\n</div>\n","\"use strict\";\n\nimport inherits from \"inherits\";\n\nimport { pick, assign } from \"min-dash\";\n\nimport CommandInterceptor from \"diagram-js/lib/command/CommandInterceptor\";\n\nimport {\n  add as collectionAdd,\n  remove as collectionRemove,\n} from \"diagram-js/lib/util/Collections\";\n\nimport { reworkGroupElements } from \"./util/util\";\nimport { isBackground, isGroup } from \"./domainStoryRules\";\nimport { ElementTypes } from \"../../../../domain/entities/elementTypes\";\n\n/**\n * a handler responsible for updating the element's businessObject\n * once changes on the diagram happen.\n */\nexport default function DomainStoryUpdater(eventBus, egon, connectionDocking) {\n  CommandInterceptor.call(this, eventBus);\n\n  function updateElement(e) {\n    let context = e.context,\n      shape = context.shape;\n\n    if (!shape) {\n      return;\n    }\n    let businessObject = shape.businessObject;\n    let parent = shape.parent;\n    let elements = egon._elements;\n\n    // make sure element is added / removed from egon._elements\n    if (!parent) {\n      collectionRemove(elements, businessObject);\n    } else {\n      collectionAdd(elements, businessObject);\n    }\n\n    // save element position\n    assign(businessObject, pick(shape, [\"x\", \"y\"]));\n\n    if (shape.type === ElementTypes.GROUP) {\n      // save element size if resizable\n      assign(businessObject, pick(shape, [\"height\", \"width\"]));\n\n      // rework the child-parent relations if a group was moved, such that all Objects that are visually in the group are also associated with it\n      if (isBackground(parent) || isGroup(parent)) {\n        reworkGroupElements(parent, shape);\n      } else if (parent != null) {\n        // the group is created on top of a shape or connection which makes it their child; we need to invert the child-parent relationship\n        shape.parent = parent.parent;\n        reworkGroupElements(parent.parent, shape);\n      }\n    }\n    if (\n      shape &&\n      shape.parent &&\n      \"type\" in shape.parent &&\n      shape.parent.type === ElementTypes.GROUP\n    ) {\n      assign(businessObject, {\n        parent: shape.parent.id,\n      });\n    }\n  }\n\n  function updateConnection(e) {\n    let context = e.context,\n      connection = context.connection,\n      source = connection.source,\n      target = connection.target,\n      businessObject = connection.businessObject;\n\n    if (e.newTarget) {\n      target = e.newTarget;\n    }\n    if (e.newSource) {\n      source = e.newSource;\n    }\n\n    let parent = connection.parent;\n    let elements = egon._elements;\n\n    // make sure element is added / removed from egon._elements\n    if (!parent) {\n      collectionRemove(elements, businessObject);\n    } else {\n      collectionAdd(elements, businessObject);\n    }\n\n    // update waypoints\n    assign(businessObject, {\n      waypoints: copyWaypoints(connection),\n    });\n\n    if (source) {\n      if (!businessObject.source) {\n        assign(businessObject, { source: source.id });\n      } else {\n        businessObject.source = source.id;\n      }\n    }\n    if (target) {\n      if (!businessObject.target) {\n        assign(businessObject, { target: target.id });\n      } else {\n        businessObject.target = target.id;\n      }\n    }\n  }\n\n  function copyWaypoints(connection) {\n    return connection.waypoints.map(function (p) {\n      if (p.original) {\n        return {\n          original: {\n            x: p.original.x,\n            y: p.original.y,\n          },\n          x: p.x,\n          y: p.y,\n        };\n      } else {\n        return {\n          x: p.x,\n          y: p.y,\n        };\n      }\n    });\n  }\n\n  // crop connection ends during create/update\n  function cropConnection(e) {\n    var context = e.context,\n      hints = context.hints || {},\n      connection;\n\n    if (!context.cropped && hints.createElementsBehavior !== false) {\n      connection = context.connection;\n      connection.waypoints = connectionDocking.getCroppedWaypoints(connection);\n      context.cropped = true;\n    }\n  }\n\n  // cropping must be done before updateElement\n  // do not change the order of these .executed calls\n  this.executed([\"connection.layout\", \"connection.create\"], cropConnection);\n\n  this.reverted([\"connection.layout\"], function (e) {\n    delete e.context.cropped;\n  });\n\n  this.executed(\n    [\n      \"shape.create\",\n      \"shape.move\",\n      \"shape.delete\",\n      \"shape.resize\",\n      \"shape.removeGroupWithChildren\",\n    ],\n    updateElement,\n  );\n\n  this.reverted(\n    [\n      \"shape.create\",\n      \"shape.move\",\n      \"shape.delete\",\n      \"shape.resize\",\n      \"shape.removeGroupWithChildren\",\n    ],\n    updateElement,\n  );\n\n  this.executed(\n    [\n      \"connection.create\",\n      \"connection.reconnect\",\n      \"connection.updateWaypoints\",\n      \"connection.delete\",\n      \"connection.layout\",\n      \"connection.move\",\n    ],\n    updateConnection,\n  );\n\n  this.reverted(\n    [\n      \"connection.create\",\n      \"connection.reconnect\",\n      \"connection.updateWaypoints\",\n      \"connection.delete\",\n      \"connection.layout\",\n      \"connection.move\",\n    ],\n    updateConnection,\n  );\n}\n\ninherits(DomainStoryUpdater, CommandInterceptor);\n\nDomainStoryUpdater.$inject = [\"eventBus\", \"egon\", \"connectionDocking\"];\n","import { Component, OnInit } from '@angular/core';\nimport { AutosaveService } from '../../services/autosave.service';\nimport { Draft } from '../../domain/draft';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport {\n  SNACKBAR_DURATION,\n  SNACKBAR_SUCCESS,\n} from 'src/app/domain/entities/constants';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-autosaved-drafts',\n  templateUrl: './autosaved-drafts.component.html',\n  styleUrls: ['./autosaved-drafts.component.scss'],\n  standalone: false,\n})\nexport class AutosavedDraftsComponent implements OnInit {\n  drafts: Draft[] = [];\n  subscription: Subscription;\n\n  constructor(\n    private autosaveService: AutosaveService,\n    private snackbar: MatSnackBar,\n  ) {\n    this.subscription = this.autosaveService.autosavedDraftsChanged$.subscribe(\n      () => this.initDrafts(),\n    );\n  }\n\n  ngOnInit(): void {\n    this.initDrafts();\n  }\n\n  initDrafts() {\n    this.drafts = this.autosaveService.getDrafts();\n  }\n\n  loadDraft(draft: Draft): void {\n    this.autosaveService.loadDraft(draft);\n    this.snackbar.open('Draft loaded', undefined, {\n      duration: SNACKBAR_DURATION,\n      panelClass: SNACKBAR_SUCCESS,\n    });\n  }\n\n  removeAllDrafts() {\n    this.autosaveService.removeAllDrafts();\n  }\n}\n","<div class=\"header\">\n  <div class=\"history\">\n    {{ drafts.length ? drafts.length : \"no\" }}\n    {{ drafts.length > 1 ? \"drafts\" : \"draft\" }} saved\n  </div>\n  <span class=\"spacer\"></span>\n  <div class=\"buttons\">\n    <button\n      mat-stroked-button\n      class=\"mr-1\"\n      [disabled]=\"!drafts.length\"\n      (click)=\"removeAllDrafts()\"\n    >\n      Remove all drafts\n    </button>\n  </div>\n</div>\n@if (drafts.length) {\n  <!-- scrollable container for long lists -->\n  <div class=\"draftsList smallScrollbar\">\n    <mat-list>\n      @for (draft of drafts; track draft) {\n        <mat-list-item>\n          <div class=\"draft\">\n            <div class=\"item-title\">{{ draft.title }}</div>\n            <div class=\"item-date\">{{ draft.date }}</div>\n            <button mat-stroked-button (click)=\"loadDraft(draft)\">\n              Load draft\n            </button>\n          </div>\n        </mat-list-item>\n      }\n    </mat-list>\n  </div>\n}\n","import inherits from \"inherits-browser\";\n\nimport KeyboardBindings from \"diagram-js/lib/features/keyboard/KeyboardBindings\";\n\nexport default function AdditionalKeyboardBindings(injector) {\n  injector.invoke(KeyboardBindings, this);\n}\n\ninherits(AdditionalKeyboardBindings, KeyboardBindings);\n\nAdditionalKeyboardBindings.$inject = [\"injector\"];\n\nAdditionalKeyboardBindings.prototype.registerBindings = function (\n  keyboard,\n  editorActions,\n) {\n  // inherit default bindings\n  KeyboardBindings.prototype.registerBindings.call(\n    this,\n    keyboard,\n    editorActions,\n  );\n\n  function addListener(action, fn) {\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n  // select all elements\n  // CTRL + A\n  addListener(\"selectElements\", function (context) {\n    var event = context.keyEvent;\n\n    if (keyboard.isKey([\"a\", \"A\"], event) && keyboard.isCmd(event)) {\n      editorActions.trigger(\"selectElements\");\n\n      return true;\n    }\n  });\n\n  // activate space tool\n  // S\n  addListener(\"spaceTool\", function (context) {\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([\"s\", \"S\"], event)) {\n      editorActions.trigger(\"spaceTool\");\n\n      return true;\n    }\n  });\n\n  // activate lasso tool\n  // L\n  addListener(\"lassoTool\", function (context) {\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([\"l\", \"L\"], event)) {\n      editorActions.trigger(\"lassoTool\");\n\n      return true;\n    }\n  });\n\n  // activate hand tool\n  // H\n  addListener(\"handTool\", function (context) {\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([\"h\", \"H\"], event)) {\n      editorActions.trigger(\"handTool\");\n\n      return true;\n    }\n  });\n\n  // activate direct editing\n  // E\n  addListener(\"directEditing\", function (context) {\n    var event = context.keyEvent;\n\n    if (keyboard.hasModifier(event)) {\n      return;\n    }\n\n    if (keyboard.isKey([\"e\", \"E\"], event)) {\n      editorActions.trigger(\"directEditing\");\n\n      return true;\n    }\n  });\n};\n","import {\n  forEach,\n  isArray,\n  isDefined,\n  isObject,\n  reduce,\n  has,\n  sortBy,\n} from \"min-dash\";\n\nvar DISALLOWED_PROPERTIES = [\"incoming\", \"outgoing\"];\n\nexport default function PropertyCopy(eventBus) {\n  this._eventBus = eventBus;\n\n  // copy extension elements last\n  eventBus.on(\"propertyCopy.canCopyProperties\", function (context) {\n    var propertyNames = context.propertyNames;\n\n    if (!propertyNames || !propertyNames.length) {\n      return;\n    }\n\n    return sortBy(propertyNames, function (propertyName) {\n      return propertyName === \"extensionElements\";\n    });\n  });\n\n  // default check whether property can be copied\n  eventBus.on(\"propertyCopy.canCopyProperty\", function (context) {\n    var propertyName = context.propertyName;\n\n    if (propertyName && DISALLOWED_PROPERTIES.indexOf(propertyName) !== -1) {\n      // disallow copying property\n      return false;\n    }\n  });\n}\n\nPropertyCopy.$inject = [\"eventBus\"];\n\nPropertyCopy.prototype.copyElement = function (\n  sourceElement,\n  targetElement,\n  propertyNames,\n) {\n  var self = this;\n\n  if (propertyNames && !isArray(propertyNames)) {\n    propertyNames = [propertyNames];\n  }\n\n  var canCopyProperties = this._eventBus.fire(\n    \"propertyCopy.canCopyProperties\",\n    {\n      propertyNames: propertyNames,\n      sourceElement: sourceElement,\n      targetElement: targetElement,\n    },\n  );\n\n  if (canCopyProperties === false) {\n    return targetElement;\n  }\n\n  if (isArray(canCopyProperties)) {\n    propertyNames = canCopyProperties;\n  }\n\n  // copy properties\n  forEach(propertyNames, function (propertyName) {\n    var sourceProperty;\n\n    if (has(sourceElement, propertyName)) {\n      sourceProperty = sourceElement.get(propertyName);\n    }\n\n    var copiedProperty = self.copyProperty(\n      sourceProperty,\n      targetElement,\n      propertyName,\n    );\n\n    var canSetProperty = self._eventBus.fire(\n      \"propertyCopy.canSetCopiedProperty\",\n      {\n        parent: targetElement,\n        property: copiedProperty,\n        propertyName: propertyName,\n      },\n    );\n\n    if (canSetProperty === false) {\n      return;\n    }\n\n    if (isDefined(copiedProperty)) {\n      targetElement.set(propertyName, copiedProperty);\n    }\n  });\n\n  return targetElement;\n};\n\nPropertyCopy.prototype.copyProperty = function (\n  property,\n  parent,\n  propertyName,\n) {\n  var self = this;\n\n  // allow others to copy property\n  var copiedProperty = this._eventBus.fire(\"propertyCopy.canCopyProperty\", {\n    parent: parent,\n    property: property,\n    propertyName: propertyName,\n  });\n\n  // return if copying is NOT allowed\n  if (copiedProperty === false) {\n    return;\n  }\n\n  if (copiedProperty) {\n    if (isObject(copiedProperty) && !copiedProperty.$parent) {\n      copiedProperty.$parent = parent;\n    }\n\n    return copiedProperty;\n  }\n\n  // copy arrays\n  if (isArray(property)) {\n    return reduce(\n      property,\n      function (childProperties, childProperty) {\n        // recursion\n        copiedProperty = self.copyProperty(childProperty, parent, propertyName);\n\n        // copying might NOT be allowed\n        if (copiedProperty) {\n          copiedProperty.$parent = parent;\n\n          return childProperties.concat(copiedProperty);\n        }\n\n        return childProperties;\n      },\n      [],\n    );\n  }\n\n  // copy model elements\n  if (isObject(property)) {\n    copiedProperty = {};\n\n    copiedProperty.$parent = parent;\n\n    // recursion\n    copiedProperty = self.copyElement(property, copiedProperty);\n\n    return copiedProperty;\n  }\n\n  // copy primitive properties\n  return property;\n};\n","\"use strict\";\n\nimport DomainStoryPalette from \"../palette/domainStoryPalette\";\nimport CreateModule from \"diagram-js/lib/features/create\";\nimport Connect from \"diagram-js/lib/features/connect\";\nimport Translate from \"diagram-js/lib/i18n/translate\";\nimport ContextPadModule from \"diagram-js/lib/features/context-pad\";\nimport PopupMenu from \"diagram-js/lib/features/popup-menu\";\nimport CommandStack from \"diagram-js/lib/command/CommandStack\";\nimport UpdateLabelHandler from \"../updateHandler/updateLabelHandler\";\nimport DomainStoryUpdater from \"../domainStoryUpdater\";\nimport DomainStoryElementFactory from \"../domainStoryElementFactory\";\nimport headlineAndDescriptionUpdateHandler from \"../updateHandler/headlineAndDescriptionUpdateHandler\";\nimport DomainStoryRenderer from \"../domainStoryRenderer\";\nimport DSModeling from \"./dSModeling\";\nimport DomainStoryRules from \"../domainStoryRules\";\nimport ReplaceMenuProvider from \"../change-icon/replaceMenuProvider\";\nimport DomainStoryContextPadProvider from \"../context-pad/domainStoryContextPadProvider\";\n\nexport default {\n  __depends__: [CreateModule, ContextPadModule, Connect, Translate, PopupMenu],\n  __init__: [\n    \"domainStoryRenderer\",\n    \"paletteProvider\",\n    \"domainStoryRules\",\n    \"domainStoryUpdater\",\n    \"contextPadProvider\",\n    \"replaceMenuProvider\",\n  ],\n  elementFactory: [\"type\", DomainStoryElementFactory],\n  domainStoryRenderer: [\"type\", DomainStoryRenderer],\n  paletteProvider: [\"type\", DomainStoryPalette],\n  domainStoryRules: [\"type\", DomainStoryRules],\n  domainStoryUpdater: [\"type\", DomainStoryUpdater],\n  contextPadProvider: [\"type\", DomainStoryContextPadProvider],\n  replaceMenuProvider: [\"type\", ReplaceMenuProvider],\n  commandStack: [\"type\", CommandStack],\n  updateLabelHandler: [\"type\", UpdateLabelHandler],\n  headlineAndDescriptionUpdateHandler: [\n    \"type\",\n    headlineAndDescriptionUpdateHandler,\n  ],\n  modeling: [\"type\", DSModeling],\n};\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { IconSetCustomizationService } from 'src/app/tools/icon-set-config/services/icon-set-customization.service';\nimport { IconSetImportExportService } from 'src/app/tools/icon-set-config/services/icon-set-import-export.service';\nimport { IconListItem } from 'src/app/tools/icon-set-config/domain/iconListItem';\n\n@Component({\n  selector: 'app-icon-set-details',\n  templateUrl: './icon-set-details.component.html',\n  styleUrls: ['./icon-set-details.component.scss'],\n  standalone: false,\n})\nexport class IconSetDetailsComponent implements OnInit {\n  iconSetName: Observable<string>;\n\n  private draggedList: string = '';\n  private draggedIndex = 0;\n\n  selectedActors$ = this.customizationService.selectedActors$;\n  selectedWorkobjects$ = this.customizationService.selectedWorkobjects$;\n\n  constructor(\n    private customizationService: IconSetCustomizationService,\n    private importExportService: IconSetImportExportService,\n  ) {\n    this.iconSetName = importExportService.iconSetName$;\n  }\n\n  ngOnInit(): void {}\n\n  changeName(event: Event): void {\n    // @ts-ignore\n    this.customizationService.changeName(event.target.value);\n  }\n\n  getIconForName(iconName: string): IconListItem {\n    return this.customizationService.getIconForName(iconName).value;\n  }\n\n  allowDrop($event: DragEvent, listName: string) {\n    if (this.draggedList === listName) {\n      $event.preventDefault();\n    }\n  }\n\n  onDrop($event: DragEvent, iconName: string, actors: boolean, index: number) {\n    let list;\n    if (actors) {\n      list = this.selectedActors$;\n    } else {\n      list = this.selectedWorkobjects$;\n    }\n    const sortedList = list.value;\n    const item = sortedList[this.draggedIndex];\n    sortedList.splice(this.draggedIndex, 1);\n    sortedList.splice(index, 0, item);\n    list.next(sortedList);\n\n    if (actors) {\n      this.customizationService.setSelectedActors(sortedList);\n    } else {\n      this.customizationService.setSelectedWorkObject(sortedList);\n    }\n  }\n\n  onDragStart(index: number, draggedList: string) {\n    this.draggedList = draggedList;\n    this.draggedIndex = index;\n  }\n\n  exportIconSet(): void {\n    this.importExportService.exportConfiguration();\n  }\n}\n","<div class=\"details smallScrollbar\">\n  <div>\n    <h3>Export as File:</h3>\n    <div class=\"iconSetDetails\">\n      <mat-form-field class=\"exportForm\" color=\"accent\">\n        <mat-label>Icon set name</mat-label>\n        <input\n          matInput\n          type=\"text\"\n          subscriptSizing=\"dynamic\"\n          class=\"dense-8\"\n          (input)=\"changeName($event)\"\n          [value]=\"iconSetName | async\"\n        />\n      </mat-form-field>\n      <button\n        mat-stroked-button\n        class=\"exportForm\"\n        title=\"Export icon set\"\n        (click)=\"exportIconSet()\"\n      >\n        <span>Export icon set</span>\n      </button>\n    </div>\n  </div>\n  <div class=\"actorList\">\n    <h3>Order of Actors:</h3>\n    <mat-list>\n      @for (\n        iconName of selectedActors$ | async;\n        track iconName;\n        let i = $index\n      ) {\n        <mat-list-item\n          class=\"compactItem\"\n          draggable=\"true\"\n          (dragover)=\"allowDrop($event, 'actorList')\"\n          (dragstart)=\"onDragStart(i, 'actorList')\"\n          (drop)=\"onDrop($event, iconName, true, i)\"\n        >\n          <app-details-list-item [icon]=\"getIconForName(iconName)\" />\n        </mat-list-item>\n      }\n    </mat-list>\n  </div>\n  <div class=\"workobjectList\">\n    <h3>Order of Work Objects:</h3>\n    <mat-list>\n      @for (\n        iconName of selectedWorkobjects$ | async;\n        track iconName;\n        let i = $index\n      ) {\n        <mat-list-item\n          class=\"compactItem\"\n          draggable=\"true\"\n          (dragover)=\"allowDrop($event, 'workobjectList')\"\n          (dragstart)=\"onDragStart(i, 'workobjectList')\"\n          (drop)=\"onDrop($event, iconName, false, i)\"\n        >\n          <app-details-list-item [icon]=\"getIconForName(iconName)\" />\n        </mat-list-item>\n      }\n    </mat-list>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\nimport { FormGroup } from '@angular/forms';\nimport { TitleService } from 'src/app/tools/title/services/title.service';\nimport { TitleDialogForm } from '../../domain/title-dialog-form';\nimport { DirtyFlagService } from '../../../../domain/services/dirty-flag.service';\n\n@Component({\n  selector: 'app-header-dialog',\n  templateUrl: './title-dialog.component.html',\n  styleUrls: ['./title-dialog.component.scss'],\n  standalone: false,\n})\nexport class TitleDialogComponent implements OnInit {\n  form!: FormGroup<TitleDialogForm>;\n\n  constructor(\n    private dialogRef: MatDialogRef<TitleDialogComponent>,\n    private titleService: TitleService,\n    private dirtyFlagService: DirtyFlagService,\n  ) {}\n\n  ngOnInit(): void {\n    const title = this.titleService.getTitle();\n    const description = this.titleService.getDescription();\n\n    this.form = TitleDialogForm.create(title, description);\n  }\n\n  save(): void {\n    if (this.form.dirty) {\n      this.dirtyFlagService.makeDirty();\n\n      this.titleService.updateTitleAndDescription(\n        this.form.getRawValue().title,\n        this.form.getRawValue().description,\n        true,\n      );\n    }\n    this.dialogRef.close();\n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  preventDefault(event: Event) {\n    event.preventDefault();\n  }\n}\n","<mat-dialog-content>\n  <form [formGroup]=\"form\">\n    <mat-form-field class=\"dialogWidth\" color=\"accent\">\n      <mat-label>Title</mat-label>\n      <input matInput type=\"text\" formControlName=\"title\" />\n    </mat-form-field>\n    <br />\n    <mat-form-field class=\"dialogWidth\" color=\"accent\">\n      <mat-label>Description</mat-label>\n      <textarea\n        maxlength=\"2000\"\n        matInput\n        class=\"descriptionInput\"\n        formControlName=\"description\"\n        (keydown.enter)=\"preventDefault($event)\"\n        (keyup.enter)=\"save()\"\n        (keyup.escape)=\"close()\"\n      ></textarea>\n    </mat-form-field>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions>\n  <button mat-flat-button (click)=\"close()\">Cancel</button>\n  <button mat-flat-button color=\"primary\" (click)=\"save()\">Save</button>\n</mat-dialog-actions>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Output,\n} from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { WorkObjectLabelEntry } from '../../domain/workObjectLabelEntry';\nimport { LabelEntry } from '../../domain/labelEntry';\nimport { LabelDictionaryService } from '../../services/label-dictionary.service';\n\n@Component({\n  selector: 'app-label-dictionary',\n  templateUrl: './label-dictionary.component.html',\n  styleUrls: ['./label-dictionary.component.scss'],\n  standalone: false,\n})\nexport class LabelDictionaryComponent implements AfterViewInit {\n  workobjectEntriesSubject: BehaviorSubject<WorkObjectLabelEntry[]>;\n  activityEntriesSubject: BehaviorSubject<LabelEntry[]>;\n\n  workObjectEntries: WorkObjectLabelEntry[];\n  activityEntries: LabelEntry[];\n\n  @Output()\n  closeEmitter: EventEmitter<void> = new EventEmitter<void>();\n\n  constructor(\n    private labelDictionaryService: LabelDictionaryService,\n    private cd: ChangeDetectorRef,\n  ) {\n    this.labelDictionaryService.createLabelDictionaries();\n    this.workObjectEntries = this.labelDictionaryService.getWorkObjectLabels();\n    this.activityEntries = this.labelDictionaryService.getActivityLabels();\n\n    this.workobjectEntriesSubject = new BehaviorSubject(this.workObjectEntries);\n    this.activityEntriesSubject = new BehaviorSubject(this.activityEntries);\n  }\n\n  ngAfterViewInit(): void {\n    this.labelDictionaryService.createLabelDictionaries();\n    this.workobjectEntriesSubject.next(\n      this.labelDictionaryService.getWorkObjectLabels(),\n    );\n    this.activityEntriesSubject.next(\n      this.labelDictionaryService.getActivityLabels(),\n    );\n    this.cd.detectChanges();\n  }\n\n  save(): void {\n    this.workObjectEntries = this.workobjectEntriesSubject.value;\n    this.activityEntries = this.activityEntriesSubject.value;\n\n    const activityNames: string[] = [];\n    const originalActivityNames: string[] = [];\n\n    const workObjectNames: string[] = [];\n    const originalWorkObjectNames: string[] = [];\n\n    this.activityEntries\n      .filter((a) => a.name !== a.originalName)\n      .forEach((activity) => {\n        activityNames.push(activity.name);\n        originalActivityNames.push(activity.originalName);\n      });\n\n    this.workObjectEntries\n      .filter((w) => w.name !== w.originalName)\n      .forEach((workobject) => {\n        workObjectNames.push(workobject.name);\n        originalWorkObjectNames.push(workobject.originalName);\n      });\n\n    this.labelDictionaryService.massRenameLabels(\n      activityNames,\n      originalActivityNames,\n      workObjectNames,\n      originalWorkObjectNames,\n    );\n    this.closeEmitter.emit();\n  }\n\n  cancel(): void {\n    this.workObjectEntries.forEach((w) => {\n      w.name = w.originalName;\n    });\n    this.activityEntries.forEach((a) => {\n      a.name = a.originalName;\n    });\n\n    this.workobjectEntriesSubject.next(this.workObjectEntries);\n    this.activityEntriesSubject.next(this.activityEntries);\n  }\n\n  updateActivityEntry($event: Event, activityEntry: LabelEntry) {\n    let entries = this.activityEntriesSubject.value;\n    entries.filter(\n      (e) => e.originalName === activityEntry.originalName,\n      // @ts-ignore\n    )[0].name = $event.target.value;\n    this.activityEntriesSubject.next(entries);\n  }\n\n  updateWorkobjectEntry($event: Event, workobjectEntry: LabelEntry) {\n    let entries = this.workobjectEntriesSubject.value;\n    entries.filter(\n      (e) => e.originalName === workobjectEntry.originalName,\n      // @ts-ignore\n    )[0].name = $event.target.value;\n    this.workobjectEntriesSubject.next(entries);\n  }\n\n  preventDefault(event: Event): void {\n    event.preventDefault();\n  }\n\n  close(): void {\n    this.closeEmitter.emit();\n  }\n}\n","<div class=\"list-content\">\n  <div>\n    <h3 class=\"listTitle\">Work Objects</h3>\n    <mat-list>\n      @for (\n        workobjectEntry of workobjectEntriesSubject | async;\n        track workobjectEntry\n      ) {\n        <mat-list-item>\n          <mat-form-field class=\"inputText dense-8\" color=\"accent\">\n            <input\n              matInput\n              class=\"inputText\"\n              [value]=\"workobjectEntry.name\"\n              (change)=\"updateWorkobjectEntry($event, workobjectEntry)\"\n            />\n          </mat-form-field>\n        </mat-list-item>\n      }\n    </mat-list>\n  </div>\n  <div>\n    <h3 class=\"listTitle\">Activities</h3>\n    <mat-list>\n      @for (\n        activityEntry of activityEntriesSubject | async;\n        track activityEntry\n      ) {\n        <mat-list-item>\n          <mat-form-field class=\"inputText dense-8\" color=\"accent\">\n            <textarea\n              matInput\n              class=\"inputText activity\"\n              [value]=\"activityEntry.name\"\n              (change)=\"updateActivityEntry($event, activityEntry)\"\n              cdkTextareaAutosize\n              cdkAutosizeMinRows=\"1\"\n              cdkAutosizeMaxRows=\"3\"\n              (keydown.enter)=\"preventDefault($event)\"\n              (keyup.enter)=\"save()\"\n              (keyup.escape)=\"close()\"\n            ></textarea>\n          </mat-form-field>\n        </mat-list-item>\n      }\n    </mat-list>\n  </div>\n</div>\n<mat-dialog-actions class=\"sticky-bottom\">\n  <button mat-flat-button (click)=\"close()\">Cancel</button>\n  <button mat-flat-button color=\"primary\" (click)=\"save()\">Save</button>\n</mat-dialog-actions>\n","\"use strict\";\n\nexport default function DSMassRenameHandler(commandStack, eventBus) {\n  commandStack.registerHandler(\"domainStoryObjects.massRename\", massRename);\n\n  function massRename(modeling) {\n    this.preExecute = function (context) {\n      let relevantElements = context.elements;\n\n      context.oldLabel = relevantElements[0].businessObject.name;\n\n      relevantElements.forEach((element) => {\n        modeling.updateLabel(element.businessObject, confirm.newValue);\n      });\n    };\n\n    this.execute = function (context) {\n      let relevantElements = context.elements;\n      relevantElements.forEach((element) => {\n        let semantic = element.businessObject;\n        semantic.name = context.newValue;\n\n        eventBus.fire(\"element.changed\", { element });\n      });\n    };\n\n    this.revert = function (context) {\n      let relevantElements = context.elements;\n      relevantElements.forEach((element) => {\n        let semantic = element.businessObject;\n        semantic.name = context.oldLabel;\n\n        eventBus.fire(\"element.changed\", { element });\n      });\n    };\n  }\n}\n","import { Component } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { TitleService } from '../../../../tools/title/services/title.service';\nimport { ReplayService } from '../../../../tools/replay/services/replay.service';\nimport { ImportDomainStoryService } from '../../../../tools/import/services/import-domain-story.service';\nimport { SettingsService } from '../../../services/settings/settings.service';\nimport { DirtyFlagService } from '../../../../domain/services/dirty-flag.service';\nimport { DialogService } from '../../../../domain/services/dialog.service';\nimport { ExportService } from '../../../../tools/export/services/export.service';\nimport { LabelDictionaryService } from '../../../../tools/label-dictionary/services/label-dictionary.service';\nimport { ModelerService } from 'src/app/tools/modeler/services/modeler.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss'],\n  standalone: false,\n})\nexport class HeaderComponent {\n  title$ = this.titleService.title$;\n  description$ = this.titleService.description$;\n  showDescription$ = this.titleService.showDescription$;\n\n  isReplay$: Observable<boolean>;\n  isDirty$: Observable<boolean>;\n\n  showDescription: Observable<boolean>;\n\n  constructor(\n    private titleService: TitleService,\n    private replayService: ReplayService,\n    private importService: ImportDomainStoryService,\n    private settingsService: SettingsService,\n    private modelerService: ModelerService,\n    private dirtyFlagService: DirtyFlagService,\n    private dialogService: DialogService,\n    private exportService: ExportService,\n    private labelDictionaryService: LabelDictionaryService,\n  ) {\n    this.isReplay$ = this.replayService.replayOn$;\n    this.isDirty$ = this.dirtyFlagService.dirty$;\n\n    this.showDescription = this.titleService.showDescription$;\n  }\n\n  openHeaderDialog(): void {\n    this.titleService.openHeaderDialog();\n  }\n\n  openSettings(): void {\n    this.settingsService.open();\n  }\n\n  setShowDescription(show: boolean): void {\n    this.titleService.setShowDescription(show);\n  }\n\n  createNewDomainStory(): void {\n    if (this.dirtyFlagService.dirty) {\n      this.importService.openUnsavedChangesReminderDialog(() => {\n        this.titleService.reset();\n        this.modelerService.reset();\n      });\n    } else {\n      this.titleService.reset();\n      this.modelerService.reset();\n    }\n  }\n\n  onImport(): void {\n    if (this.dirtyFlagService.dirty) {\n      this.importService.openUnsavedChangesReminderDialog(() =>\n        this.importService.performImport(),\n      );\n    } else {\n      this.importService.performImport();\n    }\n  }\n\n  startReplay(): void {\n    this.replayService.startReplay(true);\n  }\n\n  stopReplay(): void {\n    this.replayService.stopReplay();\n  }\n\n  previousSentence(): void {\n    this.replayService.previousSentence();\n  }\n\n  nextSentence(): void {\n    this.replayService.nextSentence();\n  }\n\n  openKeyboardShortcutsDialog(): void {\n    this.dialogService.openKeyboardShortcutsDialog();\n  }\n\n  openLabelDictionary(): void {\n    this.labelDictionaryService.openLabelDictionary();\n  }\n\n  openDownloadDialog(): void {\n    this.exportService.openDownloadDialog();\n  }\n\n  openImportFromUrlDialog(): void {\n    this.importService.openImportFromUrlDialog(this.dirtyFlagService.dirty);\n  }\n\n  get hasDomainStory() {\n    return this.exportService.isDomainStoryExportable();\n  }\n\n  get hasTitle(): boolean {\n    return this.titleService.hasTitleOrDescription();\n  }\n\n  get isReplayable() {\n    return this.replayService.isReplayable();\n  }\n}\n","<mat-toolbar color=\"primary\">\n  <mat-toolbar-row class=\"firstRow\">\n    <div class=\"mr-10 titel-scrollbar\">\n      <span\n        class=\"headline\"\n        (click)=\"openHeaderDialog()\"\n        title=\"Edit title and description\"\n      >\n        {{ title$ | async }}\n      </span>\n    </div>\n\n    <button\n      class=\"headerButton\"\n      (click)=\"openHeaderDialog()\"\n      title=\"Edit title and description\"\n    >\n      <span class=\"material-icons-outlined materialIconButton\"> edit </span>\n      <div class=\"button-label\">Title</div>\n    </button>\n    @if (showDescription | async) {\n      <button\n        class=\"headerButton\"\n        title=\"Hide description\"\n        (click)=\"setShowDescription(false)\"\n      >\n        <span class=\"material-icons-outlined materialIconButton\">\n          visibility_off\n        </span>\n        <div class=\"button-label\">Description</div>\n      </button>\n    }\n    @if (!(showDescription | async)) {\n      <button\n        class=\"headerButton\"\n        title=\"Show description\"\n        (click)=\"setShowDescription(true)\"\n      >\n        <span class=\"material-icons-outlined materialIconButton\">\n          visibility\n        </span>\n        <div class=\"button-label\">Description</div>\n      </button>\n    }\n    <span class=\"titleSpacer\"></span>\n\n    <app-header-buttons\n      class=\"nowrap\"\n      [hasDomainStory]=\"hasDomainStory\"\n      [hasTitle]=\"hasTitle\"\n      [isDirty]=\"isDirty$ | async\"\n      [isReplayable]=\"isReplayable\"\n      [isReplaying]=\"isReplay$ | async\"\n      (import)=\"onImport()\"\n      (openSettings)=\"openSettings()\"\n      (startReplay)=\"startReplay()\"\n      (stopReplay)=\"stopReplay()\"\n      (nextSentence)=\"nextSentence()\"\n      (previousSentence)=\"previousSentence()\"\n      (newStory)=\"createNewDomainStory()\"\n      (showKeyboardShortCuts)=\"openKeyboardShortcutsDialog()\"\n      (openLabelDictionary)=\"openLabelDictionary()\"\n      (openDownloadDialog)=\"openDownloadDialog()\"\n      (openImportFromUrlDialog)=\"openImportFromUrlDialog()\"\n    />\n  </mat-toolbar-row>\n</mat-toolbar>\n@if (showDescription$ | async) {\n  <mat-card class=\"smallScrollbar description\">\n    <span class=\"descriptionText\">{{ description$ | async }}</span>\n  </mat-card>\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { AutosaveSettingsComponent } from './AutosaveSettings/autosave-settings.component';\nimport { AutosaveOptionsComponent } from './AutosaveOptions/autosave-options.component';\nimport { AutosavedDraftsComponent } from './AutosavedDrafts/autosaved-drafts.component';\nimport { FormsModule } from '@angular/forms';\nimport { MaterialModule } from '../../../material.module';\n\n@NgModule({\n  declarations: [\n    AutosaveSettingsComponent,\n    AutosaveOptionsComponent,\n    AutosavedDraftsComponent,\n  ],\n  exports: [AutosaveSettingsComponent],\n  imports: [CommonModule, FormsModule, MaterialModule],\n})\nexport class AutosaveModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../../../material.module';\nimport { ImportDialogComponent } from './import-dialog/import-dialog.component';\n\n@NgModule({\n  declarations: [ImportDialogComponent],\n  exports: [ImportDialogComponent],\n  imports: [CommonModule, MaterialModule],\n})\nexport class ImportModule {}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { IconSetImportExportService } from 'src/app/tools/icon-set-config/services/icon-set-import-export.service';\nimport { sanitizeForDesktop } from 'src/app/utils/sanitizer';\nimport { TitleService } from 'src/app/tools/title/services/title.service';\nimport { ConfigAndDST } from 'src/app/tools/export/domain/export/configAndDst';\nimport { DirtyFlagService } from 'src/app/domain/services/dirty-flag.service';\nimport { PngService } from 'src/app/tools/export/services/png.service';\nimport { SvgService } from 'src/app/tools/export/services/svg.service';\nimport { Subscription } from 'rxjs';\nimport { HtmlPresentationService } from './html-presentation.service';\nimport { formatDate } from '@angular/common';\nimport { environment } from '../../../../environments/environment';\nimport {\n  ExportDialogData,\n  ExportOption,\n} from '../domain/dialog/exportDialogData';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { ExportDialogComponent } from '../presentation/export-dialog/export-dialog.component';\nimport {\n  SNACKBAR_DURATION,\n  SNACKBAR_INFO,\n} from '../../../domain/entities/constants';\nimport { ModelerService } from '../../modeler/services/modeler.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { DialogService } from '../../../domain/services/dialog.service';\nimport { BusinessObject } from '../../../domain/entities/businessObject';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ExportService implements OnDestroy {\n  titleSubscription: Subscription;\n  descriptionSubscription: Subscription;\n\n  title = '';\n  description = '';\n\n  constructor(\n    private importExportService: IconSetImportExportService,\n    private titleService: TitleService,\n    private dirtyFlagService: DirtyFlagService,\n    private pngService: PngService,\n    private svgService: SvgService,\n    private htmlPresentationService: HtmlPresentationService,\n    private modelerService: ModelerService,\n    private dialogService: DialogService,\n    private snackbar: MatSnackBar,\n  ) {\n    this.titleSubscription = this.titleService.title$.subscribe(\n      (title: string) => {\n        this.title = title;\n      },\n    );\n    this.descriptionSubscription = this.titleService.description$.subscribe(\n      (description: string) => {\n        this.description = description;\n      },\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.titleSubscription.unsubscribe();\n    this.descriptionSubscription.unsubscribe();\n  }\n\n  isDomainStoryExportable(): boolean {\n    return this.modelerService.getStory().length >= 1;\n  }\n\n  createConfigAndDST(DomainStory: any): ConfigAndDST {\n    return new ConfigAndDST(\n      this.importExportService.getCurrentConfigurationForExport(),\n      DomainStory,\n    );\n  }\n\n  downloadDST(): void {\n    const dst = this.getStoryForDownload();\n    const configAndDST = this.createConfigAndDST(dst);\n    const json = JSON.stringify(configAndDST, null, 2);\n\n    const filename = sanitizeForDesktop(\n      this.title + '_' + this.getCurrentDateString(),\n    );\n\n    this.downloadFile(\n      json,\n      'data:text/plain;charset=utf-8,',\n      filename,\n      '.egn',\n      true,\n    );\n  }\n\n  private downloadFile(\n    data: string,\n    datatype: string,\n    filename: string,\n    fileEnding: string,\n    makeClean: boolean,\n  ) {\n    const element = document.createElement('a');\n    element.setAttribute('href', datatype + encodeURIComponent(data));\n    element.setAttribute('download', filename + fileEnding);\n\n    element.style.display = 'none';\n    document.body.appendChild(element);\n\n    element.click();\n\n    if (makeClean) {\n      this.dirtyFlagService.makeClean();\n    }\n\n    document.body.removeChild(element);\n  }\n\n  downloadSVG(\n    withTitle: boolean,\n    useWhiteBackground: boolean,\n    animationSpeed: number | undefined,\n  ): void {\n    const story = this.getStoryForDownload();\n    const dst = this.createConfigAndDST(story);\n\n    const svgData = this.svgService.createSVGData(\n      this.title,\n      this.description,\n      dst,\n      withTitle,\n      useWhiteBackground,\n      animationSpeed,\n    );\n\n    this.downloadFile(\n      svgData,\n      'data:application/bpmn20-xml;charset=UTF-8,',\n      sanitizeForDesktop(this.title + '_' + this.getCurrentDateString()),\n      '.egn.svg',\n      true,\n    );\n  }\n\n  downloadPNG(withTitle: boolean): void {\n    const canvas = document.getElementById('canvas');\n    if (canvas) {\n      const container = canvas.getElementsByClassName('djs-container');\n      const svgElements = container[0].getElementsByTagName('svg');\n      const outerSVGElement = svgElements[0];\n      const viewport = outerSVGElement.getElementsByClassName('viewport')[0];\n      const layerBase = viewport.querySelector('[class^=\"layer-root-\"]');\n\n      const image = document.createElement('img');\n\n      // removes unwanted black dots in image\n      let svg = this.pngService.extractSVG(viewport, outerSVGElement);\n\n      svg = this.pngService.prepareSVG(\n        svg,\n        layerBase,\n        this.description,\n        this.title,\n        withTitle,\n      );\n\n      image.onload = () => {\n        const tempCanvas = document.createElement('canvas');\n\n        // add a 10px buffer to the right and lower boundary\n        tempCanvas.width = this.pngService.getWidth() + 10;\n        tempCanvas.height = this.pngService.getHeight() + 10;\n\n        const ctx = tempCanvas.getContext('2d');\n        if (ctx) {\n          // fill with white background\n          ctx.rect(0, 0, tempCanvas.width, tempCanvas.height);\n          ctx.fillStyle = 'white';\n          ctx.fill();\n\n          ctx.drawImage(image, 0, 0);\n        }\n\n        const png64 = tempCanvas.toDataURL('image/png');\n        const ele = document.createElement('a');\n        ele.setAttribute(\n          'download',\n          sanitizeForDesktop(this.title) +\n            '_' +\n            this.getCurrentDateString() +\n            '.png',\n        );\n        ele.setAttribute('href', png64);\n        document.body.appendChild(ele);\n        ele.click();\n        document.body.removeChild(ele);\n\n        // image source has to be removed to circumvent browser caching\n        image.src = '';\n      };\n      image.onchange = image.onload;\n\n      image.width = this.pngService.getWidth();\n      image.height = this.pngService.getHeight();\n\n      image.src = 'data:image/svg+xml,' + svg;\n    }\n  }\n\n  downloadHTMLPresentation(modeler: any): void {\n    const filename = sanitizeForDesktop(\n      this.title + '_' + this.getCurrentDateString(),\n    );\n    this.htmlPresentationService\n      .downloadHTMLPresentation(filename, modeler)\n      .then();\n  }\n\n  private getStoryForDownload(): unknown[] {\n    let story = this.modelerService\n      .getStory()\n      .sort((objA: BusinessObject, objB: BusinessObject) => {\n        if (objA.id !== undefined && objB.id !== undefined) {\n          return objA.id.localeCompare(objB.id);\n        } else {\n          return 0;\n        }\n      }) as unknown[];\n    story.push({ info: this.titleService.getDescription() });\n    story.push({ version: environment.version });\n    return story;\n  }\n\n  private getCurrentDateString(): string {\n    return formatDate(new Date(), 'yyyy-MM-dd', 'en-GB');\n  }\n\n  openDownloadDialog() {\n    if (this.isDomainStoryExportable()) {\n      const SVGDownloadOption = new ExportOption(\n        'SVG',\n        'Download an SVG-Image with the Domain-Story embedded. Can be used to save and share your Domain-Story.',\n        (\n          withTitle: boolean,\n          useWhiteBackground: boolean,\n          animationSpeed: number | undefined,\n        ) => this.downloadSVG(withTitle, useWhiteBackground, animationSpeed),\n      );\n      const EGNDownloadOption = new ExportOption(\n        'EGN',\n        'Download an EGN-File with the Domain-Story. Can be used to save and share your Domain-Story.',\n        () => this.downloadDST(),\n      );\n      const PNGDownloadOption = new ExportOption(\n        'PNG',\n        'Download a PNG-Image of the Domain-Story. This does not include the Domain-Story!',\n        (withTitle: boolean) => this.downloadPNG(withTitle),\n      );\n      const HTMLDownloadOption = new ExportOption(\n        'HTML-Presentation',\n        'Download an HTML-Presentation. This does not include the Domain-Story!',\n        () => this.downloadHTMLPresentation(this.modelerService.getModeler()),\n      );\n\n      const config = new MatDialogConfig();\n      config.disableClose = false;\n      config.autoFocus = true;\n      config.data = new ExportDialogData('Export', [\n        SVGDownloadOption,\n        EGNDownloadOption,\n        PNGDownloadOption,\n        HTMLDownloadOption,\n      ]);\n\n      this.dialogService.openDialog(ExportDialogComponent, config);\n    } else {\n      this.snackbar.open('No Domain Story to be exported', undefined, {\n        duration: SNACKBAR_DURATION,\n        panelClass: SNACKBAR_INFO,\n      });\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { assign } from 'min-dash';\nimport DomainStoryModeler from 'src/app/tools/modeler/diagram-js';\nimport { InitializerService } from './initializer.service';\nimport { ElementRegistryService } from '../../../domain/services/element-registry.service';\nimport { IconDictionaryService } from '../../icon-set-config/services/icon-dictionary.service';\nimport { IconSetImportExportService } from '../../icon-set-config/services/icon-set-import-export.service';\nimport { BusinessObject } from '../../../domain/entities/businessObject';\nimport { ActivityBusinessObject } from '../../../domain/entities/activityBusinessObject';\nimport { updateMultipleNumberRegistry } from 'src/app/tools/modeler/diagram-js/features/numbering/numbering';\nimport { IconSet } from '../../../domain/entities/iconSet';\nimport { StorageService } from '../../../domain/services/storage.service';\nimport {\n  SNACKBAR_DURATION_LONGER,\n  SNACKBAR_INFO,\n  VERSION_KEY,\n} from '../../../domain/entities/constants';\nimport { environment } from '../../../../environments/environment';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { DirtyFlagService } from 'src/app/domain/services/dirty-flag.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ModelerService {\n  constructor(\n    private initializerService: InitializerService,\n    private elementRegistryService: ElementRegistryService,\n    private iconDictionaryService: IconDictionaryService,\n    private iconSetImportExportService: IconSetImportExportService,\n    private dirtyFlagService: DirtyFlagService,\n    private storageService: StorageService,\n    private snackbar: MatSnackBar,\n  ) {}\n\n  private modeler: any;\n  private elementRegistry: any;\n  private commandStack: any;\n  private eventBus: any;\n\n  private encoded: string | undefined;\n  postInit(): void {\n    this.checkCurrentVersion();\n\n    const storedIconSetConfiguration =\n      this.iconSetImportExportService.getStoredIconSetConfiguration();\n    if (storedIconSetConfiguration) {\n      this.iconDictionaryService.setIconSet(storedIconSetConfiguration);\n      this.iconSetImportExportService.loadConfiguration(\n        storedIconSetConfiguration,\n      );\n    }\n    this.modeler = new DomainStoryModeler({\n      container: '#canvas',\n      keyboard: {\n        bind: true,\n      },\n      canvas: {\n        autoFocus: true, // see https://github.com/bpmn-io/diagram-js/pull/956 (setting autoFocus to 'true' might cause problems with future integrations)\n      },\n    });\n\n    if (this.modeler.get) {\n      this.elementRegistry = this.modeler.get('elementRegistry');\n      this.eventBus = this.modeler.get('eventBus');\n      this.commandStack = this.modeler.get('commandStack');\n    }\n\n    this.initializerService.initializeDomainStoryModelerEventHandlers(\n      this.commandStack,\n      this.eventBus,\n    );\n    this.initializerService.propagateDomainStoryModelerClassesToServices(\n      this.commandStack,\n      this.elementRegistry,\n    );\n\n    const exportArtifacts = this.debounce(this.saveSVG, 500);\n    if (this.modeler.get) {\n      this.modeler.on('commandStack.changed', exportArtifacts);\n    }\n\n    this.initializerService.initiateEventBusListeners(\n      this.eventBus,\n      this.commandStack,\n    );\n\n    // expose modeler to window for debugging purposes\n    assign(window, { egon: this.modeler });\n\n    this.startDebounce();\n  }\n\n  private checkCurrentVersion() {\n    const version = this.storageService.get(VERSION_KEY);\n    if (version === null) {\n      this.storageService.set(VERSION_KEY, environment.version);\n    }\n\n    if (version !== null && version !== environment.version) {\n      this.snackbar\n        .open(\n          \"Egon was updated. Clear your browser's local storage.\",\n          'More information',\n          {\n            duration: SNACKBAR_DURATION_LONGER,\n            panelClass: SNACKBAR_INFO,\n          },\n        )\n        .onAction()\n        .subscribe(() => {\n          window.open('https://egon.io/howto#launching-egon');\n        });\n    }\n  }\n\n  restart(\n    iconSetConfiguration?: IconSet,\n    domainStory?: BusinessObject[],\n  ): void {\n    const currentStory =\n      domainStory != undefined\n        ? domainStory\n        : this.elementRegistryService\n            .createObjectListForDSTDownload()\n            .map((e) => e.businessObject);\n    if (!iconSetConfiguration) {\n      iconSetConfiguration =\n        this.iconSetImportExportService.getStoredIconSetConfiguration();\n    }\n    if (iconSetConfiguration) {\n      this.iconSetImportExportService.setStoredIconSetConfiguration(\n        iconSetConfiguration,\n      );\n      this.iconDictionaryService.setIconSet(iconSetConfiguration);\n      this.iconSetImportExportService.loadConfiguration(iconSetConfiguration);\n    }\n\n    this.elementRegistryService.clear();\n    this.modeler?.destroy();\n    this.postInit();\n    updateMultipleNumberRegistry(\n      currentStory\n        .filter((bo) => bo.type === 'domainStory:activity')\n        .map((bo) => <ActivityBusinessObject>bo)\n        .filter((bo) => bo.number !== null),\n    );\n    if (currentStory && this.modeler.get) {\n      this.renderStory(currentStory);\n    }\n  }\n\n  private fitStoryToScreen() {\n    this.modeler.fitStoryToScreen();\n  }\n\n  getModeler(): any {\n    return this.modeler;\n  }\n\n  commandStackChanged(): void {\n    // to update the title of the svg, we need to tell the command stack, that a value has changed\n    this.eventBus.fire(\n      'commandStack.changed',\n      this.debounce(this.saveSVG, 500),\n    );\n  }\n\n  startDebounce(): void {\n    this.debounce(this.saveSVG, 500);\n  }\n\n  debounce(fn: any, timeout: number): any {\n    return () => {\n      let timer;\n      timer = setTimeout(() => {\n        // tslint:disable-next-line:no-unused-expression\n        fn(this.modeler).then((svg: string) => {\n          this.encoded = svg;\n        }) as Promise<any>;\n      }, timeout);\n    };\n  }\n\n  getEncoded(): string {\n    return this.encoded ? this.encoded : '';\n  }\n\n  async saveSVG(modeler: any): Promise<any> {\n    try {\n      const result = await modeler.saveSVG();\n      return result.svg;\n    } catch (err) {\n      alert('There was an error saving the SVG.\\n' + err);\n    }\n  }\n\n  reset(): void {\n    this.renderStory([]);\n    this.dirtyFlagService.makeClean();\n  }\n\n  importStory(domainStory: BusinessObject[], config: IconSet): void {\n    this.restart(config, domainStory);\n    this.fitStoryToScreen();\n    this.elementRegistryService.correctInitialize();\n    this.commandStackChanged();\n    this.startDebounce();\n    this.dirtyFlagService.makeClean();\n  }\n\n  getStory(): BusinessObject[] {\n    return this.elementRegistryService\n      .createObjectListForDSTDownload()\n      .map((c) => c.businessObject);\n  }\n\n  private renderStory(domainStory: BusinessObject[]): void {\n    this.modeler.importBusinessObjects(domainStory);\n  }\n}\n","\"use strict\";\n\nimport Modeling from \"diagram-js/lib/features/modeling/Modeling\";\n\nimport { inherits } from \"util\";\n\nexport default function DSModeling(\n  eventBus,\n  elementFactory,\n  commandStack,\n  domainStoryRules,\n) {\n  Modeling.call(this, eventBus, elementFactory, commandStack, domainStoryRules);\n}\n\nModeling.prototype.updateLabel = function (element, newLabel, newBounds) {\n  if (\n    element.businessObject\n      ? newLabel !== element.businessObject.name\n      : newLabel !== element.name\n  ) {\n    this._commandStack.execute(\"element.updateLabel\", {\n      element: element,\n      newLabel: newLabel,\n      newBounds: newBounds,\n    });\n  }\n};\n\nModeling.prototype.updateNumber = function (element, newNumber, newBounds) {\n  if (\n    element.businessObject\n      ? newNumber !== element.businessObject.number\n      : newNumber !== element.number\n  ) {\n    this._commandStack.execute(\"element.updateLabel\", {\n      element: element,\n      newNumber: newNumber,\n      newBounds: newBounds,\n    });\n  }\n};\n\nModeling.prototype.replaceShape = function (oldShape, newShape, hints) {\n  let context = {\n    oldShape: oldShape,\n    newData: newShape,\n    hints: hints || {},\n  };\n\n  this._commandStack.execute(\"shape.replace\", context);\n  return context.newShape;\n};\n\nModeling.prototype.removeGroup = function (element) {\n  this._commandStack.execute(\"shape.removeGroupWithoutChildren\", {\n    element: element,\n  });\n  this.removeElements({ element });\n};\n\ninherits(DSModeling, Modeling);\n\nDSModeling.$inject = [\n  \"eventBus\",\n  \"elementFactory\",\n  \"commandStack\",\n  \"domainStoryRules\",\n];\n","/** DEFAULT VALUES **/\nexport const INITIAL_TITLE = '<title>';\nexport const INITIAL_DESCRIPTION = '';\nexport const INITIAL_ICON_SET_NAME = 'default';\n\n/** LocalStorage KEYS **/\nexport const ICON_SET_CONFIGURATION_KEY = 'iconSetConfiguration';\nexport const DRAFTS_KEY = 'autosaveDrafts';\nexport const VERSION_KEY = 'version';\n\n/** AUTOSAVE DEFAULTS **/\nexport const DEFAULT_AUTOSAVES_ENABLED = true;\nexport const DEFAULT_AUTOSAVES_MAX_DRAFTS = 5;\nexport const DEFAULT_AUTOSAVES_INTERVAL = 30;\n\n/** SNACKBAR **/\nexport const SNACKBAR_DURATION = 2000;\nexport const SNACKBAR_DURATION_LONG = 4000;\nexport const SNACKBAR_DURATION_LONGER = 6000;\nexport const SNACKBAR_SUCCESS = 'snackbar_success';\nexport const SNACKBAR_ERROR = 'snackbar_error';\nexport const SNACKBAR_INFO = 'snackbar_info';\n\n/** COLOR PICKER DEFAULT COLORS **/\nexport const YELLOW = '#FDD835';\nexport const ORANGE = '#FB8C00';\nexport const RED = '#D32F2F';\nexport const LIGHT_PINK = '#F48FB1';\nexport const DARK_PINK = '#EC407A';\nexport const PURPLE = '#8E24AA';\nexport const BLUE = '#1E88E5';\nexport const CYAN = '#00ACC1';\nexport const GREEN = '#43A047';\nexport const LIME = '#C0CA33';\nexport const GREY = '#9E9E9E';\nexport const BLACK = '#000000';\n","import { ElementTypes } from \"src/app/domain/entities/elementTypes\";\n\nlet iconDictionaryService;\n\nexport function initializeReplaceOptions(iconDictionary) {\n  iconDictionaryService = iconDictionary;\n}\n\nexport function actorReplaceOptions(name) {\n  const actors = iconDictionaryService.getIconsAssignedAs(ElementTypes.ACTOR);\n\n  let replaceOption = {};\n  let i = 0;\n\n  actors.keysArray().forEach((actorType) => {\n    if (!name.includes(actorType)) {\n      const typeName = actorType;\n      replaceOption[i] = {\n        label: \"Change to \" + typeName,\n        actionName: \"replace-with-actor-\" + typeName.toLowerCase(),\n        className: iconDictionaryService.getCSSClassOfIcon(actorType),\n        target: {\n          type: `${ElementTypes.ACTOR}${actorType}`,\n        },\n      };\n      i++;\n    }\n  });\n  return replaceOption;\n}\n\nexport function workObjectReplaceOptions(name) {\n  const workObjects = iconDictionaryService.getIconsAssignedAs(\n    ElementTypes.WORKOBJECT,\n  );\n\n  let replaceOption = {};\n  let i = 0;\n\n  workObjects.keysArray().forEach((workObjectType) => {\n    if (!name.includes(workObjectType)) {\n      const typeName = workObjectType;\n      replaceOption[i] = {\n        label: \"Change to \" + typeName,\n        actionName: \"replace-with-actor-\" + typeName,\n        className: iconDictionaryService.getCSSClassOfIcon(workObjectType),\n        target: {\n          type: `${ElementTypes.WORKOBJECT}${workObjectType}`,\n        },\n      };\n    }\n    i++;\n  });\n  return replaceOption;\n}\n","import { FormControl, FormGroup, Validators } from '@angular/forms';\n\nexport interface ActivityDialogForm {\n  activityLabel: FormControl<string>;\n  activityNumber: FormControl<number | null>;\n  multipleNumbers: FormControl<boolean>;\n}\n\nexport namespace ActivityDialogForm {\n  export function create(\n    activityLabel: string,\n    activityNumber: number | null,\n    numberIsAllowedMultipleTimes: boolean,\n  ): FormGroup<ActivityDialogForm> {\n    return new FormGroup<ActivityDialogForm>({\n      activityLabel: new FormControl<string>(activityLabel, {\n        nonNullable: true,\n      }),\n      activityNumber: new FormControl<number | null>(activityNumber, [\n        Validators.required,\n      ]),\n      multipleNumbers: new FormControl<boolean>(numberIsAllowedMultipleTimes, {\n        nonNullable: true,\n      }),\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { environment } from '../../../../environments/environment';\nimport {\n  INITIAL_DESCRIPTION,\n  INITIAL_TITLE,\n} from '../../../domain/entities/constants';\nimport { CommandStackService } from '../../../domain/services/command-stack.service';\nimport { DialogService } from '../../../domain/services/dialog.service';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { TitleDialogComponent } from '../presentation/title-dialog/title-dialog.component';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TitleService {\n  private titleSubject = new BehaviorSubject<string>(INITIAL_TITLE);\n  private descriptionSubject = new BehaviorSubject<string>(INITIAL_DESCRIPTION);\n  private showDescriptionSubject = new BehaviorSubject<boolean>(true);\n\n  title$ = this.titleSubject.asObservable();\n  description$ = this.descriptionSubject.asObservable();\n  showDescription$ = this.showDescriptionSubject.asObservable();\n\n  constructor(\n    private commandStackService: CommandStackService,\n    private dialogService: DialogService,\n  ) {}\n\n  openHeaderDialog(): void {\n    const config = new MatDialogConfig();\n    config.disableClose = false;\n    config.autoFocus = true;\n    this.dialogService.openDialog(TitleDialogComponent, config);\n  }\n\n  updateTitleAndDescription(\n    title: string | null,\n    description: string | null,\n    allowUndo: boolean,\n  ): void {\n    if (allowUndo) {\n      this.fireTitleAndDescriptionUpdate(title, description);\n    } else {\n      this.updateTitle(title);\n      this.updateDescription(description);\n    }\n  }\n\n  reset(): void {\n    this.updateTitleAndDescription(INITIAL_TITLE, INITIAL_DESCRIPTION, false);\n  }\n\n  private updateTitle(inputTitle: string | null): void {\n    const title =\n      !inputTitle || inputTitle.trim().length === 0\n        ? INITIAL_TITLE\n        : inputTitle;\n\n    this.titleSubject.next(title);\n    document.title = title === INITIAL_TITLE ? 'egon.io' : title;\n  }\n\n  private updateDescription(description: string | null): void {\n    this.descriptionSubject.next(description ?? this.descriptionSubject.value);\n  }\n\n  setShowDescription(show: boolean): void {\n    this.showDescriptionSubject.next(show);\n  }\n\n  getTitle(): string {\n    return this.titleSubject.value;\n  }\n\n  getDescription(): string {\n    return this.descriptionSubject.value;\n  }\n\n  getVersion(): string {\n    return environment.version;\n  }\n\n  hasTitleOrDescription(): boolean {\n    return (\n      (this.getTitle().trim().length > 0 &&\n        this.getTitle() !== INITIAL_TITLE) ||\n      (this.getDescription().trim().length > 0 &&\n        this.getDescription() !== INITIAL_DESCRIPTION)\n    );\n  }\n\n  private fireTitleAndDescriptionUpdate(\n    newTitle: string | null,\n    newDescription: string | null,\n  ): void {\n    const context = {\n      newTitle,\n      newDescription,\n    };\n    this.commandStackService.execute(\n      'story.updateHeadlineAndDescription',\n      context,\n    );\n  }\n}\n","export const SVG_LINK = 'http://www.w3.org/2000/svg';\nexport const X_OFFSET_UTIL = '8';\nexport const TEXTSPAN_TITLE_HEIGHT = 30;\nexport const TEXTSPAN_DESCRIPTION_HEIGHT = 15;\nexport const DEFAULT_PADDING = 15;\n","import { Injectable } from '@angular/core';\nimport { ModelerService } from '../../modeler/services/modeler.service';\nimport { ExportService } from '../../export/services/export.service';\nimport { Draft } from '../domain/draft';\nimport { AutosaveConfigurationService } from './autosave-configuration.service';\nimport { StorageService } from '../../../domain/services/storage.service';\nimport { TitleService } from '../../title/services/title.service';\nimport { AutosaveConfiguration } from '../domain/autosave-configuration';\nimport { Subject } from 'rxjs';\nimport {\n  DRAFTS_KEY,\n  INITIAL_DESCRIPTION,\n  INITIAL_TITLE,\n  SNACKBAR_DURATION,\n  SNACKBAR_INFO,\n} from '../../../domain/entities/constants';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { IconSetImportExportService } from '../../icon-set-config/services/icon-set-import-export.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AutosaveService {\n  private autosaveTimer: any;\n  autosavedDraftsChanged$ = new Subject<void>();\n\n  constructor(\n    private autosaveConfiguration: AutosaveConfigurationService,\n    private exportService: ExportService,\n    private modelerService: ModelerService,\n    private snackbar: MatSnackBar,\n    private storageService: StorageService,\n    private titleService: TitleService,\n    private iconSetImportExportService: IconSetImportExportService,\n  ) {\n    this.autosaveConfiguration.configuration$.subscribe((configuration) =>\n      this.updateConfiguration(configuration),\n    );\n  }\n\n  getDrafts(): Draft[] {\n    const drafts = this.readDrafts();\n    this.sortDrafts(drafts);\n    return drafts;\n  }\n\n  loadDraft(draft: Draft): void {\n    const configFromFile = draft.configAndDST.domain;\n    const config =\n      this.iconSetImportExportService.createIconSetConfiguration(\n        configFromFile,\n      );\n    const story = JSON.parse(draft.configAndDST.dst);\n\n    this.titleService.updateTitleAndDescription(\n      draft.title,\n      draft.description,\n      false,\n    );\n\n    this.modelerService.importStory(story, config);\n  }\n\n  removeAllDrafts() {\n    this.storageService.set(DRAFTS_KEY, []);\n    this.autosavedDraftsChanged$.next();\n  }\n\n  loadLatestDraft() {\n    const drafts = this.readDrafts();\n    if (drafts.length === 0) {\n      return;\n    }\n    this.loadDraft(drafts[0]);\n  }\n\n  private updateConfiguration(configuration: AutosaveConfiguration) {\n    this.stopTimer();\n\n    if (configuration.activated) {\n      this.startTimer(configuration.interval, configuration.maxDrafts);\n    }\n  }\n\n  private stopTimer(): void {\n    if (this.autosaveTimer) {\n      clearInterval(this.autosaveTimer);\n      this.autosaveTimer = undefined;\n    }\n  }\n\n  private startTimer(interval: number, maxDrafts: number): void {\n    this.autosaveTimer = setInterval(() => {\n      const savedDrafts = this.getDrafts();\n      const newDraft = this.createDraft();\n      let isChanged = maxDrafts > 0;\n      if (savedDrafts.length > 0) {\n        isChanged = isChanged && !this.isSame(newDraft, savedDrafts[0]);\n      }\n      if (isChanged && !this.isDraftEmpty(newDraft)) {\n        savedDrafts.unshift(newDraft);\n        while (savedDrafts.length > maxDrafts) {\n          savedDrafts.pop();\n        }\n        this.writeDrafts(savedDrafts);\n        this.snackbar.open('Draft Saved', undefined, {\n          panelClass: SNACKBAR_INFO,\n          duration: SNACKBAR_DURATION,\n        });\n        this.autosavedDraftsChanged$.next();\n      }\n    }, interval * 1000);\n  }\n\n  private isDraftEmpty(draft: Draft) {\n    const configAndDST = draft.configAndDST ?? { dst: '[]' };\n    return (\n      draft.title === INITIAL_TITLE &&\n      draft.description === INITIAL_DESCRIPTION &&\n      JSON.parse(configAndDST.dst).length === 0\n    );\n  }\n\n  private isSame(a: Draft, b: Draft) {\n    return (\n      a.title === b.title &&\n      a.description === b.description &&\n      JSON.stringify(a.configAndDST) === JSON.stringify(b.configAndDST)\n    );\n  }\n\n  private writeDrafts(drafts: Draft[]) {\n    this.storageService.set(DRAFTS_KEY, drafts);\n  }\n\n  private readDrafts(): Draft[] {\n    return this.storageService.get(DRAFTS_KEY) ?? [];\n  }\n\n  private createDraft(): Draft {\n    const dst = JSON.stringify(this.modelerService.getStory(), null, 2);\n    const configAndDST = this.exportService.createConfigAndDST(dst);\n\n    const date = new Date().toString().slice(0, 25);\n\n    return {\n      title: this.titleService.getTitle(),\n      description: this.titleService.getDescription(),\n      configAndDST,\n      date,\n    };\n  }\n\n  private sortDrafts(drafts: Draft[]): void {\n    drafts.sort((a: Draft, b: Draft) => {\n      const aDate = Date.parse(a.date);\n      const bDate = Date.parse(b.date);\n      return aDate > bDate ? 0 : 1;\n    });\n  }\n}\n","import { Directive, HostBinding, HostListener } from '@angular/core';\nimport { ImportDomainStoryService } from '../services/import-domain-story.service';\nimport {\n  SNACKBAR_DURATION_LONG,\n  SNACKBAR_ERROR,\n} from '../../../domain/entities/constants';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { DirtyFlagService } from '../../../domain/services/dirty-flag.service';\n\n@Directive({\n  standalone: true,\n  selector: '[appDrag]',\n})\nexport class DragDirective {\n  @HostBinding('style.background') private background = '';\n\n  constructor(\n    private importDomainStoryService: ImportDomainStoryService,\n    private snackbar: MatSnackBar,\n    private dirtyFlagService: DirtyFlagService,\n  ) {}\n\n  @HostListener('dragover', ['$event']) public onDragOver(evt: DragEvent) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.background = '#999';\n  }\n\n  @HostListener('dragleave', ['$event']) public onDragLeave(evt: DragEvent) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.background = '';\n  }\n\n  @HostListener('drop', ['$event']) public onDrop(evt: DragEvent) {\n    evt.preventDefault();\n    evt.stopPropagation();\n    this.background = '';\n\n    if (evt.dataTransfer?.files[0]) {\n      if (this.dirtyFlagService.dirty) {\n        this.importDomainStoryService.openUnsavedChangesReminderDialog(() =>\n          this.importDomainStoryService.performDropImport(\n            evt.dataTransfer!.files[0],\n          ),\n        );\n      } else {\n        this.importDomainStoryService.performDropImport(\n          evt.dataTransfer.files[0],\n        );\n      }\n    } else {\n      this.snackbar.open('Nothing to import', undefined, {\n        duration: SNACKBAR_DURATION_LONG,\n        panelClass: SNACKBAR_ERROR,\n      });\n    }\n  }\n}\n","import { assign, isNumber, omit } from \"min-dash\";\n\nimport {\n  domify,\n  assignStyle,\n  query as domQuery,\n  remove as domRemove,\n} from \"min-dom\";\n\nimport { innerSVG } from \"tiny-svg\";\n\nimport Diagram from \"diagram-js\";\n\nimport inherits from \"inherits-browser\";\n\nexport default function BaseViewer(options) {\n  options = assign({}, DEFAULT_OPTIONS, options);\n  this._container = this._createContainer(options);\n  this._init(this._container, options);\n}\n\ninherits(BaseViewer, Diagram);\n\nBaseViewer.prototype.saveSVG = async function saveSVG() {\n  this._emit(\"saveSVG.start\");\n\n  let svg, err;\n\n  try {\n    const canvas = this.get(\"canvas\");\n\n    const contentNode = canvas.getActiveLayer(),\n      defsNode = domQuery(\":scope > defs\", canvas._svg);\n\n    const contents = innerSVG(contentNode),\n      defs = defsNode ? \"<defs>\" + innerSVG(defsNode) + \"</defs>\" : \"\";\n\n    const bbox = contentNode.getBBox();\n\n    svg =\n      '<?xml version=\"1.0\" encoding=\"utf-8\"?>\\n' +\n      \"<!-- created with diagram-js / http://bpmn.io -->\\n\" +\n      '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n' +\n      '<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" ' +\n      'width=\"' +\n      bbox.width +\n      '\" height=\"' +\n      bbox.height +\n      '\" ' +\n      'viewBox=\"' +\n      bbox.x +\n      \" \" +\n      bbox.y +\n      \" \" +\n      bbox.width +\n      \" \" +\n      bbox.height +\n      '\" version=\"1.1\">' +\n      defs +\n      contents +\n      \"</svg>\";\n  } catch (e) {\n    err = e;\n  }\n\n  this._emit(\"saveSVG.done\", {\n    error: err,\n    svg: svg,\n  });\n\n  if (err) {\n    throw err;\n  }\n\n  return { svg };\n};\n\nBaseViewer.prototype.getModules = function () {\n  return this._modules;\n};\n\nBaseViewer.prototype.clear = function () {\n  if (!this.getDefinitions()) {\n    // no diagram to clear\n    return;\n  }\n\n  // remove drawn elements\n  Diagram.prototype.clear.call(this);\n};\n\nBaseViewer.prototype.destroy = function () {\n  // diagram destroy\n  Diagram.prototype.destroy.call(this);\n\n  // dom detach\n  domRemove(this._container);\n};\n\nBaseViewer.prototype.on = function (events, priority, callback, that) {\n  return this.get(\"eventBus\").on(events, priority, callback, that);\n};\n\nBaseViewer.prototype.off = function (events, callback) {\n  this.get(\"eventBus\").off(events, callback);\n};\n\nBaseViewer.prototype.attachTo = function (parentNode) {\n  if (!parentNode) {\n    throw new Error(\"parentNode required\");\n  }\n\n  // ensure we detach from the\n  // previous, old parent\n  this.detach();\n\n  // unwrap jQuery if provided\n  if (parentNode.get && parentNode.constructor.prototype.jquery) {\n    parentNode = parentNode.get(0);\n  }\n\n  if (typeof parentNode === \"string\") {\n    parentNode = domQuery(parentNode);\n  }\n\n  parentNode.appendChild(this._container);\n\n  this._emit(\"attach\", {});\n\n  this.get(\"canvas\").resized();\n};\n\nBaseViewer.prototype.detach = function () {\n  const container = this._container,\n    parentNode = container.parentNode;\n\n  if (!parentNode) {\n    return;\n  }\n  this._emit(\"detach\", {});\n\n  parentNode.removeChild(container);\n};\n\nBaseViewer.prototype._init = function (container, options) {\n  const baseModules = options.modules || this.getModules(options),\n    additionalModules = options.additionalModules || [],\n    staticModules = [\n      {\n        egon: [\"value\", this],\n      },\n    ];\n\n  const diagramModules = [].concat(\n    staticModules,\n    baseModules,\n    additionalModules,\n  );\n\n  const diagramOptions = assign(omit(options, [\"additionalModules\"]), {\n    canvas: assign({}, options.canvas, { container: container }),\n    modules: diagramModules,\n  });\n\n  // invoke diagram constructor\n  Diagram.call(this, diagramOptions);\n\n  if (options && options.container) {\n    this.attachTo(options.container);\n  }\n};\n\nBaseViewer.prototype._emit = function (type, event) {\n  return this.get(\"eventBus\").fire(type, event);\n};\n\nBaseViewer.prototype._createContainer = function (options) {\n  const container = domify('<div class=\"egon-container\"></div>');\n\n  assignStyle(container, {\n    width: ensureUnit(options.width),\n    height: ensureUnit(options.height),\n    position: options.position,\n  });\n\n  return container;\n};\n\nBaseViewer.prototype._modules = [];\n\n// helpers ///////////////\n\nconst DEFAULT_OPTIONS = {\n  width: \"100%\",\n  height: \"100%\",\n  position: \"relative\",\n};\n\n/**\n * Ensure the passed argument is a proper unit (defaulting to px)\n */\nfunction ensureUnit(val) {\n  return val + (isNumber(val) ? \"px\" : \"\");\n}\n","import { ExportDialogComponent } from './export-dialog/export-dialog.component';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../../../material.module';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [ExportDialogComponent],\n  exports: [ExportDialogComponent],\n  imports: [CommonModule, MaterialModule, FormsModule],\n})\nexport class ExportModule {}\n","'use strict';\n\nexport function sanitizeTextForSVGExport(str: string): string {\n  // @ts-ignore Typescript does not realize that replaceAll exists, no idea why not.\n  return str.replaceAll('--', '');\n}\n\n// sanitize user-Input to be Desktop-Filename safe\nexport function sanitizeForDesktop(str: string): string {\n  const map: { [key: string]: string } = {\n    '/': '',\n    '\\\\': '',\n    ':': '',\n    '*': '',\n    '?': '',\n    '\"': '',\n    '<': '',\n    '>': '',\n    '|': '',\n  };\n  const reg = /[/\\\\:*?\"<>|]/gi;\n  return str\n    ? sanitizeTextForSVGExport(str.replace(reg, (match) => map[match]))\n    : '';\n}\n\nexport function sanitizeIconName(name: string): string {\n  if (!name) {\n    return '';\n  }\n  let nameWithoutFileEnding =\n    name.lastIndexOf('.') > 0 ? name.substring(0, name.lastIndexOf('.')) : name;\n  const map: { [key: string]: string } = {\n    '/': '',\n    '\\\\': '',\n    ':': '',\n    '*': '',\n    '?': '',\n    '\"': '',\n    '<': '',\n    '>': '',\n    '|': '',\n    '(': '',\n    ')': '',\n    ' ': '-',\n  };\n  const reg = /[/\\\\:*?\"<>|() ]/gi;\n  return nameWithoutFileEnding.trim().replace(reg, (match) => map[match]);\n}\n","import { Component } from '@angular/core';\nimport { SettingsService } from 'src/app/workbench/services/settings/settings.service';\nimport { ModelerService } from 'src/app/tools/modeler/services/modeler.service';\nimport { BehaviorSubject } from 'rxjs';\nimport { IconSetCustomizationService } from '../../../tools/icon-set-config/services/icon-set-customization.service';\nimport { IconSet } from '../../../domain/entities/iconSet';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.scss'],\n  standalone: false,\n})\nexport class SettingsComponent {\n  iconSetConfiguration: IconSet | undefined;\n  showAutosaveSettings = new BehaviorSubject<boolean>(false);\n  showIconSetCustomization = new BehaviorSubject<boolean>(true);\n\n  constructor(\n    private settingsService: SettingsService,\n    private modelerService: ModelerService,\n    private iconSetCustomizationService: IconSetCustomizationService,\n  ) {}\n\n  close(): void {\n    const savedConfiguration =\n      this.iconSetCustomizationService.getAndClearSavedConfiguration();\n    if (savedConfiguration) {\n      this.modelerService.restart(savedConfiguration);\n    }\n    this.settingsService.close();\n  }\n\n  openGeneralSettings() {\n    this.showAutosaveSettings.next(true);\n    this.showIconSetCustomization.next(false);\n  }\n\n  openIconSetCustomization() {\n    this.showAutosaveSettings.next(false);\n    this.showIconSetCustomization.next(true);\n  }\n}\n","<div class=\"settings\">\n  <mat-toolbar color=\"primary\">\n    <mat-toolbar-row class=\"firstRow\">\n      <button class=\"headerButton tab-small\" mat-button (click)=\"close()\">\n        <span class=\"material-icons\">navigate_before</span>\n        Back\n      </button>\n      <button\n        class=\"headerButton tab-like\"\n        [class.highlight]=\"showIconSetCustomization | async\"\n        mat-button\n        (click)=\"openIconSetCustomization()\"\n      >\n        <span class=\"headline\">Customize Icon Set</span>\n      </button>\n      <button\n        class=\"headerButton tab-like\"\n        [class.highlight]=\"showAutosaveSettings | async\"\n        mat-button\n        (click)=\"openGeneralSettings()\"\n      >\n        <span class=\"headline\">Autosave Settings</span>\n      </button>\n    </mat-toolbar-row>\n  </mat-toolbar>\n\n  @if (showAutosaveSettings | async) {\n    <app-autosave-settings />\n  }\n  @if (showIconSetCustomization | async) {\n    <app-icon-set-configuration />\n  }\n</div>\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --configuration production` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  version: '3.0.1-dev',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport {\n  ShortcutDialogData,\n  ShortCut,\n} from '../../../entities/shortcut-dialog-data';\n\n@Component({\n  selector: 'app-keyboard-shortcuts-dialog',\n  templateUrl: './keyboard-shortcuts-dialog.component.html',\n  styleUrl: './keyboard-shortcuts-dialog.component.scss',\n  standalone: false,\n})\nexport class KeyboardShortcutsDialogComponent {\n  title: string;\n  shortCuts: ShortCut[] = [];\n\n  constructor(@Inject(MAT_DIALOG_DATA) data: ShortcutDialogData) {\n    this.title = data.title;\n    this.shortCuts = data.shortCuts ?? [];\n  }\n}\n","<mat-dialog-content class=\"content\">\n  <h2 id=\"info-dialog-title\">{{ title }}</h2>\n\n  @for (shortCut of shortCuts; track shortCut.description) {\n    <div class=\"row\">\n      <span class=\"description-width\">{{ shortCut.description }}:</span>\n      <span>{{ shortCut.shortCut }}</span>\n    </div>\n  }\n</mat-dialog-content>\n","import { Injectable } from '@angular/core';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { UsedIconList } from 'src/app/domain/entities/UsedIconList';\nimport { ElementRegistryService } from 'src/app/domain/services/element-registry.service';\nimport {\n  SNACKBAR_DURATION,\n  SNACKBAR_DURATION_LONGER,\n  SNACKBAR_ERROR,\n  SNACKBAR_INFO,\n  SNACKBAR_SUCCESS,\n} from '../../../domain/entities/constants';\nimport { Dictionary } from '../../../domain/entities/dictionary';\nimport { ElementTypes } from '../../../domain/entities/elementTypes';\nimport { IconListItem } from '../domain/iconListItem';\nimport { IconSetImportExportService } from './icon-set-import-export.service';\nimport { IconDictionaryService } from './icon-dictionary.service';\nimport { IconSet } from '../../../domain/entities/iconSet';\nimport { CustomIconSetConfiguration } from '../../../domain/entities/custom-icon-set-configuration';\nimport { builtInIcons } from 'src/app/tools/icon-set-config/domain/allIcons';\n\n/**\n * We are not allowed to call ImportDomainStoryService directly,\n * so we use this \"interface\" instead.\n */\nexport abstract class IconSetChangedService {\n  public abstract iconConfigrationChanged(): Observable<IconSet>;\n  public abstract getConfiguration(): IconSet;\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class IconSetCustomizationService {\n  private readonly iconSetConfigurationTypes: BehaviorSubject<CustomIconSetConfiguration>;\n\n  private allIconListItems = new Dictionary();\n\n  private configurationHasChanged = false;\n\n  selectedActors$ = new BehaviorSubject<string[]>([]);\n  selectedWorkobjects$ = new BehaviorSubject<string[]>([]);\n  private changedIconSetConfiguration: IconSet | undefined;\n\n  constructor(\n    private iconSetImportExportService: IconSetImportExportService,\n    private iconDictionaryService: IconDictionaryService,\n    iconSetChangedService: IconSetChangedService,\n    private elementRegistryService: ElementRegistryService,\n    private snackbar: MatSnackBar,\n  ) {\n    this.iconSetConfigurationTypes = new BehaviorSubject(\n      this.iconSetImportExportService.getCurrentConfigurationNamesWithoutPrefix(),\n    );\n\n    this.selectedWorkobjects$.next(\n      this.iconSetConfigurationTypes.value.workObjects,\n    );\n    this.selectedActors$.next(this.iconSetConfigurationTypes.value.actors);\n\n    builtInIcons.keysArray().forEach((iconName) => {\n      this.addIconToAllIconList(iconName);\n    });\n\n    iconSetChangedService.iconConfigrationChanged().subscribe((config) => {\n      this.importConfiguration(config);\n    });\n\n    const storedIconSetConfiguration =\n      this.iconSetImportExportService.getStoredIconSetConfiguration();\n    if (storedIconSetConfiguration) {\n      this.importConfiguration(storedIconSetConfiguration, false);\n    }\n  }\n\n  importConfiguration(customConfig: IconSet, saveIconSet = true): void {\n    const actorKeys = customConfig.actors.keysArray();\n    const workObjectKeys = customConfig.workObjects.keysArray();\n    const usedIcons = this.elementRegistryService.getUsedIcons();\n\n    this.changeName(customConfig.name);\n    actorKeys.forEach((iconName) => {\n      if (!this.allIconListItems.has(iconName)) {\n        this.addIconToAllIconList(iconName);\n      }\n      const selectedActorNames = this.selectedActors$.value;\n      if (!selectedActorNames.includes(iconName)) {\n        this.selectActor(iconName);\n      }\n    });\n    this.selectedActors$.value.forEach((iconName) => {\n      if (\n        !actorKeys.includes(iconName) &&\n        !usedIcons.actors.includes(iconName)\n      ) {\n        this.deselectActor(iconName);\n      }\n    });\n    workObjectKeys.forEach((iconName) => {\n      if (!this.allIconListItems.has(iconName)) {\n        this.addIconToAllIconList(iconName);\n      }\n      const selectedWorkobjectNames = this.selectedWorkobjects$.value;\n      if (!selectedWorkobjectNames.includes(iconName)) {\n        this.selectWorkObject(iconName);\n      }\n    });\n    this.selectedWorkobjects$.value.forEach((iconName) => {\n      if (\n        !workObjectKeys.includes(iconName) &&\n        !usedIcons.workobjects.includes(iconName)\n      ) {\n        this.deselectWorkobject(iconName);\n      }\n    });\n    if (saveIconSet) {\n      this.saveIconSet(usedIcons, true);\n    }\n  }\n\n  /** Getter & Setter **/\n  getIconSetConfiguration(): BehaviorSubject<CustomIconSetConfiguration> {\n    return this.iconSetConfigurationTypes;\n  }\n\n  getIconForName(iconName: string): BehaviorSubject<IconListItem> {\n    return this.allIconListItems.get(iconName);\n  }\n\n  isIconActor(iconName: string): boolean {\n    return (\n      this.iconSetConfigurationTypes.value.actors.filter(\n        (actor: string) => actor === iconName,\n      ).length > 0\n    );\n  }\n\n  isIconWorkObject(iconName: string): boolean {\n    return (\n      this.iconSetConfigurationTypes.value.workObjects.filter(\n        (workObject: string) => workObject === iconName,\n      ).length > 0\n    );\n  }\n\n  changeName(iconSetName: string): void {\n    this.iconSetImportExportService.setIconSetName(iconSetName);\n    const changedIconSet = this.iconSetConfigurationTypes.value;\n    changedIconSet.name = iconSetName;\n    this.iconSetConfigurationTypes.next(changedIconSet);\n  }\n\n  /** Selected Icons **/\n  setAsUnassigned(iconName: string, isActor: boolean): void {\n    if (isActor) {\n      this.deselectActor(iconName);\n    } else {\n      this.deselectWorkobject(iconName);\n    }\n    this.updateIcon(false, false, iconName);\n  }\n\n  setAsActor(isActor: boolean, actor: string): void {\n    if (isActor) {\n      this.updateIcon(true, false, actor);\n      this.selectActor(actor);\n      this.deselectWorkobject(actor);\n    } else {\n      this.deselectActor(actor);\n      this.updateIcon(false, false, actor);\n    }\n  }\n\n  setAsWorkobject(isWorkobject: boolean, workobject: string): void {\n    if (isWorkobject) {\n      this.updateIcon(false, true, workobject);\n      this.selectWorkObject(workobject);\n      this.deselectActor(workobject);\n    } else {\n      this.deselectWorkobject(workobject);\n      this.updateIcon(false, false, workobject);\n    }\n  }\n\n  selectActor(actor: string): void {\n    const value = this.iconSetConfigurationTypes.value;\n    if (!value.actors.includes(actor)) {\n      value.actors.push(actor);\n      this.iconSetConfigurationTypes.next(value);\n      this.updateActorSubject();\n    }\n  }\n\n  selectWorkObject(workObject: string): void {\n    const value = this.iconSetConfigurationTypes.value;\n    if (!value.workObjects.includes(workObject)) {\n      value.workObjects.push(workObject);\n      this.iconSetConfigurationTypes.next(value);\n      this.updateWorkObjectSubject();\n    }\n  }\n\n  deselectActor(actor: string): void {\n    if (this.iconSetConfigurationTypes) {\n      this.iconSetConfigurationTypes.next({\n        name: this.iconSetConfigurationTypes.value.name,\n        actors: this.iconSetConfigurationTypes.value.actors.filter(\n          (a: string) => !a.includes(actor),\n        ),\n        workObjects: this.iconSetConfigurationTypes.value.workObjects,\n      });\n    }\n    this.updateActorSubject();\n  }\n\n  deselectWorkobject(workobject: string): void {\n    if (this.iconSetConfigurationTypes) {\n      this.iconSetConfigurationTypes.next({\n        name: this.iconSetConfigurationTypes.value.name,\n        actors: this.iconSetConfigurationTypes.value.actors,\n        workObjects: this.iconSetConfigurationTypes.value.workObjects.filter(\n          (w: string) => !w.includes(workobject),\n        ),\n      });\n    }\n    this.updateWorkObjectSubject();\n  }\n\n  setSelectedWorkObject(sortedList: string[]): void {\n    const value = this.iconSetConfigurationTypes.value;\n    value.workObjects = sortedList;\n    this.iconSetConfigurationTypes.next(value);\n    this.updateWorkObjectSubject();\n  }\n\n  setSelectedActors(sortedList: string[]): void {\n    const value = this.iconSetConfigurationTypes.value;\n    value.actors = sortedList;\n    this.iconSetConfigurationTypes.next(value);\n    this.updateActorSubject();\n  }\n\n  private updateActorSubject(): void {\n    this.selectedActors$.next(this.iconSetConfigurationTypes.value.actors);\n    this.configurationHasChanged = true;\n  }\n\n  private updateWorkObjectSubject(): void {\n    this.selectedWorkobjects$.next(\n      this.iconSetConfigurationTypes.value.workObjects,\n    );\n    this.configurationHasChanged = true;\n  }\n\n  /** Revert Icon Set **/\n  resetIconSet(): void {\n    const defaultConfig =\n      this.iconSetImportExportService.createMinimalConfigurationWithDefaultIcons();\n\n    this.selectedWorkobjects$.value.forEach((workObjectName) => {\n      if (!defaultConfig.workObjects.has(workObjectName)) {\n        this.deselectWorkobject(workObjectName);\n      }\n    });\n    this.selectedActors$.value.forEach((actorName) => {\n      if (!defaultConfig.actors.has(actorName)) {\n        this.deselectActor(actorName);\n      }\n    });\n\n    this.iconSetConfigurationTypes.next({\n      name: defaultConfig.name,\n      actors: defaultConfig.actors.keysArray(),\n      workObjects: defaultConfig.workObjects.keysArray(),\n    } as CustomIconSetConfiguration);\n\n    this.updateAllIconBehaviourSubjects();\n  }\n\n  cancel(): void {\n    this.iconSetConfigurationTypes.next(\n      this.iconSetImportExportService.getCurrentConfigurationNamesWithoutPrefix(),\n    );\n    this.updateAllIconBehaviourSubjects();\n    this.resetToInitialConfiguration();\n  }\n\n  private resetToInitialConfiguration(): void {\n    this.updateActorSubject();\n    this.updateWorkObjectSubject();\n  }\n\n  /** Persist Icon Set **/\n  saveIconSet(usedIcons: UsedIconList, imported = false): void {\n    const changedActors: string[] = [];\n    const changedWorkobjects: string[] = [];\n    if (this.configurationHasChanged) {\n      const changedIconSet = this.createIconSetConfiguration();\n\n      const configurationActors = changedIconSet.actors.keysArray();\n      usedIcons?.actors.forEach((actor) => {\n        if (\n          !configurationActors?.includes(actor) &&\n          !changedActors.includes(actor)\n        ) {\n          changedActors.push(actor);\n        }\n      });\n      const configurationWorkobjects = changedIconSet.workObjects.keysArray();\n      usedIcons?.workobjects.forEach((workobject) => {\n        if (\n          !configurationWorkobjects?.includes(workobject) &&\n          !changedWorkobjects.includes(workobject)\n        ) {\n          changedWorkobjects.push(workobject);\n        }\n      });\n\n      if (!changedActors.length && !changedWorkobjects.length) {\n        this.changedIconSetConfiguration = changedIconSet;\n\n        this.updateIcons(changedIconSet);\n\n        this.iconSetImportExportService.setStoredIconSetConfiguration(\n          this.changedIconSetConfiguration,\n        );\n        this.snackbar.open(\n          imported\n            ? 'Configuration imported successfully'\n            : 'Configuration saved successfully',\n          undefined,\n          {\n            duration: SNACKBAR_DURATION,\n            panelClass: SNACKBAR_SUCCESS,\n          },\n        );\n      }\n    } else {\n      this.snackbar.open(\n        imported\n          ? 'No configuration to be imported'\n          : 'No configuration to be saved',\n        undefined,\n        {\n          duration: SNACKBAR_DURATION,\n          panelClass: SNACKBAR_INFO,\n        },\n      );\n    }\n    if (changedActors.length || changedWorkobjects.length) {\n      if (changedActors.length) {\n        const actors = changedActors.join(', ');\n        this.snackbar.open(\n          `The following icons are already in use as actors and cannot be changed: ${actors}`,\n          undefined,\n          {\n            duration: SNACKBAR_DURATION_LONGER,\n            panelClass: SNACKBAR_ERROR,\n          },\n        );\n      }\n      if (changedWorkobjects.length) {\n        const workobjects = changedWorkobjects.join(', ');\n        this.snackbar.open(\n          `The following icons are already in use as work objects and cannot be changed: ${workobjects}`,\n          undefined,\n          {\n            duration: SNACKBAR_DURATION_LONGER,\n            panelClass: SNACKBAR_ERROR,\n          },\n        );\n      }\n    }\n  }\n\n  getAndClearSavedConfiguration(): IconSet | undefined {\n    const temp = this.changedIconSetConfiguration;\n    this.changedIconSetConfiguration = undefined;\n\n    return temp;\n  }\n\n  private createIconSetConfiguration(): IconSet {\n    const actors = new Dictionary();\n    const workObjects = new Dictionary();\n\n    this.iconSetConfigurationTypes.value.actors.forEach((name: string) => {\n      actors.add(this.iconDictionaryService.getIconSource(name), name);\n    });\n    this.iconSetConfigurationTypes.value.workObjects.forEach((name: string) => {\n      workObjects.add(this.iconDictionaryService.getIconSource(name), name);\n    });\n\n    return {\n      name: this.iconSetConfigurationTypes.value.name || '',\n      actors,\n      workObjects,\n    };\n  }\n\n  /** Update Icons **/\n  addNewIcon(iconName: string): void {\n    const iconDict = new Dictionary();\n    iconDict.add(this.getDataUrlForIcon(iconName), iconName);\n    this.iconDictionaryService.addIconsToCss(iconDict);\n    this.addIconToAllIconList(iconName);\n  }\n\n  private addIconToAllIconList(iconName: string): void {\n    this.allIconListItems.add(\n      new BehaviorSubject({\n        name: iconName,\n        svg: this.getDataUrlForIcon(iconName),\n        isActor: this.isIconActor(iconName),\n        isWorkObject: this.isIconWorkObject(iconName),\n      }),\n      iconName,\n    );\n  }\n\n  private updateIcon(\n    isActor: boolean,\n    isWorkobject: boolean,\n    iconName: string,\n  ) {\n    const iconBehaviourSubject = this.getIconForName(iconName);\n    const icon = iconBehaviourSubject.value;\n    icon.isActor = isActor;\n    icon.isWorkObject = isWorkobject;\n\n    iconBehaviourSubject.next(icon);\n  }\n\n  private updateAllIconBehaviourSubjects(): void {\n    const customIconSetConfiguration = this.iconSetConfigurationTypes.value;\n    this.allIconListItems.keysArray().forEach((iconName) => {\n      if (customIconSetConfiguration.actors.includes(iconName)) {\n        this.updateIcon(true, false, iconName);\n      } else if (customIconSetConfiguration.workObjects.includes(iconName)) {\n        this.updateIcon(false, true, iconName);\n      } else {\n        this.updateIcon(false, false, iconName);\n      }\n    });\n  }\n\n  private getDataUrlForIcon(iconName: string): string {\n    const rawSrc = this.iconDictionaryService.getIconSource(iconName);\n\n    if (!rawSrc) {\n      return '';\n    }\n\n    if (rawSrc.startsWith('data')) {\n      return rawSrc;\n    } else {\n      return 'data:image/svg+xml,' + rawSrc;\n    }\n  }\n\n  private updateIcons(changedIconSet: IconSet) {\n    this.allIconListItems\n      .keysArray()\n      .forEach((item) => this.setAsUnassigned(item, this.isIconActor(item)));\n    changedIconSet.actors.keysArray().forEach((actor) => {\n      this.iconDictionaryService.registerIconForType(\n        ElementTypes.ACTOR,\n        actor,\n        this.iconDictionaryService.getFullDictionary().get(actor),\n      );\n      this.iconDictionaryService.unregisterIconForType(\n        ElementTypes.WORKOBJECT,\n        actor,\n      );\n      this.setAsActor(true, actor);\n    });\n    changedIconSet.workObjects.keysArray().forEach((workObject) => {\n      this.iconDictionaryService.registerIconForType(\n        ElementTypes.WORKOBJECT,\n        workObject,\n        this.iconDictionaryService.getFullDictionary().get(workObject),\n      );\n      this.iconDictionaryService.unregisterIconForType(\n        ElementTypes.ACTOR,\n        workObject,\n      );\n      this.setAsWorkobject(true, workObject);\n    });\n  }\n}\n","import BaseViewer from \"./BaseViewer\";\nimport ResizeModule from \"diagram-js/lib/features/resize\";\nimport { assign, isArray } from \"min-dash\";\nimport inherits from \"inherits\";\n\nimport DomainStoryModule from \"./features\";\nimport LabelEditingModule from \"./features/labeling\";\nimport ModelingModule from \"./features/modeling\";\nimport { ElementTypes } from \"../../../domain/entities/elementTypes\";\n\nimport MoveCanvasModule from \"diagram-js/lib/navigation/movecanvas\";\nimport KeyboardMoveModule from \"diagram-js/lib/navigation/keyboard-move\";\nimport ZoomScrollModule from \"diagram-js/lib/navigation/zoomscroll\";\n\nimport MoveModule from \"diagram-js/lib/features/move\";\nimport Bendpoints from \"diagram-js/lib/features/bendpoints\";\nimport ConnectionPreview from \"diagram-js/lib/features/connection-preview\";\nimport CopyPasteModule from \"./features/copyPaste\";\nimport SpaceToolModule from \"diagram-js/lib/features/space-tool\";\nimport LassoToolModule from \"diagram-js/lib/features/lasso-tool\";\nimport HandToolModule from \"diagram-js/lib/features/hand-tool\";\nimport ConnectModule from \"diagram-js/lib/features/connect\";\nimport KeyboardModule from \"diagram-js/lib/features/keyboard\";\nimport EditorActionsModule from \"diagram-js/lib/features/editor-actions\";\nimport SnappingModule from \"diagram-js/lib/features/snapping\";\nimport AdditionalShortcuts from \"./features/shortcuts\";\nimport minimapModule from \"diagram-js-minimap\";\n\nexport default function DomainStoryModeler(options) {\n  BaseViewer.call(this, options);\n  this._elements = [];\n  this._groupElements = [];\n}\n\ninherits(DomainStoryModeler, BaseViewer);\n\nDomainStoryModeler.prototype._modules = [].concat(\n  [DomainStoryModule, LabelEditingModule, ModelingModule],\n  [ResizeModule],\n  [SpaceToolModule, LassoToolModule, HandToolModule],\n  [MoveCanvasModule, KeyboardMoveModule, ZoomScrollModule], // Navigation on Canvas\n  [MoveModule, Bendpoints, ConnectionPreview, CopyPasteModule, ConnectModule], // Move/Create/Alter Elements\n  [KeyboardModule, EditorActionsModule, AdditionalShortcuts], // Shortcuts\n  [SnappingModule], // Alignment\n  [minimapModule],\n);\n\nDomainStoryModeler.prototype._createElementFromBusinessObject = function (bo) {\n  let parentId = bo.parent;\n  delete bo.children;\n  delete bo.parent;\n  this._elements.push(bo);\n\n  let canvas = this.get(\"canvas\"),\n    elementFactory = this.get(\"elementFactory\");\n\n  let attributes = assign({ businessObject: bo }, bo);\n  let shape = elementFactory.create(\"shape\", attributes);\n\n  if (isOfTypeGroup(bo)) {\n    this._groupElements[bo.id] = shape;\n  }\n\n  if (parentId) {\n    let parentShape = this._groupElements[parentId];\n\n    if (isOfTypeGroup(parentShape)) {\n      return canvas.addShape(shape, parentShape, parentShape.id);\n    }\n  }\n  return canvas.addShape(shape);\n};\n\nDomainStoryModeler.prototype._addConnection = function (element) {\n  this._elements.push(element);\n\n  let canvas = this.get(\"canvas\"),\n    elementFactory = this.get(\"elementFactory\"),\n    elementRegistry = this.get(\"elementRegistry\");\n\n  let attributes = assign({ businessObject: element }, element);\n\n  let connection = elementFactory.create(\n    \"connection\",\n    assign(attributes, {\n      source: elementRegistry.get(element.source),\n      target: elementRegistry.get(element.target),\n    }),\n    elementRegistry.get(element.source).parent,\n  );\n\n  return canvas.addConnection(connection);\n};\n\nDomainStoryModeler.prototype.importBusinessObjects = function (\n  businessObjects,\n) {\n  this.get(\"eventBus\").fire(\"diagram.clear\", {});\n  this._elements = [];\n  this._groupElements = [];\n\n  if (!isArray(businessObjects)) {\n    throw new Error(\"argument must be an array\");\n  }\n\n  let connections = [],\n    groups = [],\n    otherElementTypes = [];\n\n  businessObjects.forEach(function (bo) {\n    if (isOfTypeConnection(bo)) {\n      connections.push(bo);\n    } else if (isOfTypeGroup(bo)) {\n      groups.push(bo);\n    } else {\n      otherElementTypes.push(bo);\n    }\n  });\n\n  // add groups before shapes and other element types before connections so that connections\n  // can already rely on the shapes being part of the diagram\n  groups.forEach(this._createElementFromBusinessObject, this);\n  otherElementTypes.forEach(this._createElementFromBusinessObject, this);\n  connections.forEach(this._addConnection, this);\n};\n\n/**\n * Scrolls canvas and adjusts zoom so that the whole story is visible\n */\nDomainStoryModeler.prototype.fitStoryToScreen = function () {\n  this.get(\"canvas\")._fitViewport({ x: 0, y: 0 });\n};\n\nfunction isOfTypeConnection(element) {\n  return (\n    element.type === ElementTypes.ACTIVITY ||\n    element.type === ElementTypes.CONNECTION\n  );\n}\n\nfunction isOfTypeGroup(element) {\n  return element && element.type === ElementTypes.GROUP;\n}\n","\"use strict\";\n\nimport ChangeSupportModule from \"diagram-js/lib/features/change-support\";\nimport ResizeModule from \"diagram-js/lib/features/resize\";\nimport DirectEditingModule from \"diagram-js-direct-editing\";\n\nimport CommandStack from \"diagram-js/lib/command/CommandStack\";\nimport UpdateLabelHandler from \"../updateHandler/updateLabelHandler\";\nimport DSLabelEditingPreview from \"./dsLabelEditingPreview\";\nimport DSLabelEditingProvider from \"./dsLabelEditingProvider\";\nimport DSModeling from \"../modeling/dSModeling\";\n\nexport default {\n  __depends__: [ChangeSupportModule, ResizeModule, DirectEditingModule],\n  __init__: [\"dSlabelEditingProvider\", \"dSlabelEditingPreview\"],\n  dSlabelEditingProvider: [\"type\", DSLabelEditingProvider],\n  dSlabelEditingPreview: [\"type\", DSLabelEditingPreview],\n  updateLabelHandler: [\"type\", UpdateLabelHandler],\n  commandStack: [\"type\", CommandStack],\n  modeling: [\"type \", DSModeling],\n};\n","export class NamesOfSelectedIcons {\n  actors: string[];\n  workObjects: string[];\n\n  constructor(actors: string[], workObjects: string[]) {\n    this.actors = actors;\n    this.workObjects = workObjects;\n  }\n}\n\nexport const namesOfDefaultIcons = {\n  actors: ['Person', 'Group', 'System'],\n  workObjects: ['Document', 'Folder', 'Call', 'Email', 'Conversation', 'Info'],\n};\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class StorageService {\n  set(key: string, value: any) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n\n  get(key: string): any {\n    const json = localStorage.getItem(key);\n    if (json) {\n      return JSON.parse(json);\n    }\n    return null;\n  }\n}\n","import {\n  ApplicationRef,\n  DoBootstrap,\n  NgModule,\n  inject,\n  provideAppInitializer,\n} from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport {\n  MAT_CHECKBOX_DEFAULT_OPTIONS,\n  MatCheckboxDefaultOptions,\n} from '@angular/material/checkbox';\n\nimport { NoopAnimationsModule } from '@angular/platform-browser/animations';\nimport { AppComponent } from 'src/app/app.component';\nimport { ImportDomainStoryService } from 'src/app/tools/import/services/import-domain-story.service';\nimport { LabelDictionaryService } from 'src/app/tools/label-dictionary/services/label-dictionary.service';\nimport { ElementRegistryService } from 'src/app/domain/services/element-registry.service';\nimport { IconSetImportExportService } from 'src/app/tools/icon-set-config/services/icon-set-import-export.service';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { IconDictionaryService } from 'src/app/tools/icon-set-config/services/icon-dictionary.service';\nimport { AutosaveService } from './tools/autosave/services/autosave.service';\nimport { MaterialModule } from './material.module';\nimport { ColorPickerDirective } from 'ngx-color-picker';\nimport { DirtyFlagService } from './domain/services/dirty-flag.service';\nimport { IconSetChangedService } from './tools/icon-set-config/services/icon-set-customization.service';\nimport { initializeContextPadProvider } from './tools/modeler/diagram-js/features/context-pad/domainStoryContextPadProvider';\nimport { initializePalette } from './tools/modeler/diagram-js/features/palette/domainStoryPalette';\nimport { initializeRenderer } from './tools/modeler/diagram-js/features/domainStoryRenderer';\nimport { initializeLabelEditingProvider } from './tools/modeler/diagram-js/features/labeling/dsLabelEditingProvider';\nimport { initializeReplaceOptions } from './tools/modeler/diagram-js/features/change-icon/replaceOptions';\nimport { initializeNumbering } from './tools/modeler/diagram-js/features/numbering/numbering';\nimport { initializeActivityUpdateHandler } from './tools/modeler/diagram-js/features/updateHandler/activityUpdateHandlers';\nimport { WorkbenchModule } from './workbench/presentation/workbench.module';\nimport { DomainModule } from './domain/presentation/domain.module';\nimport { AutosaveModule } from './tools/autosave/presentation/autosave.module';\nimport { ExportModule } from './tools/export/presentation/export.module';\nimport { IconSetConfigModule } from './tools/icon-set-config/presentation/icon-set-config.module';\nimport { ImportModule } from './tools/import/presentation/import.module';\nimport { LabelDictionaryModule } from './tools/label-dictionary/presentation/label-dictionary.module';\nimport { ModelerModule } from './tools/modeler/presentation/modeler.module';\nimport { TitleModule } from './tools/title/presentation/title.module';\nimport { DragDirective } from './tools/import/directive/dragDrop.directive';\n\n@NgModule({\n  declarations: [AppComponent],\n  imports: [\n    BrowserModule,\n    NoopAnimationsModule,\n    MaterialModule,\n    ColorPickerDirective,\n    WorkbenchModule,\n    AutosaveModule,\n    ExportModule,\n    IconSetConfigModule,\n    ImportModule,\n    LabelDictionaryModule,\n    ModelerModule,\n    TitleModule,\n    DomainModule,\n    DragDirective,\n  ],\n  providers: [\n    UntypedFormBuilder,\n    {\n      provide: MAT_CHECKBOX_DEFAULT_OPTIONS,\n      useValue: { clickAction: 'noop' } as MatCheckboxDefaultOptions,\n    },\n    provideAppInitializer(() => {\n      const initializerFn = initialize(\n        inject(DirtyFlagService),\n        inject(IconDictionaryService),\n        inject(IconSetImportExportService),\n        inject(ElementRegistryService),\n        inject(LabelDictionaryService),\n      );\n      return initializerFn();\n    }),\n    {\n      provide: IconSetChangedService,\n      useExisting: ImportDomainStoryService,\n    },\n  ],\n})\nexport class AppModule implements DoBootstrap {\n  constructor(private autosaveService: AutosaveService) {\n    // autosaveService wird so automatisch initialisiert, auf keinen Fall entfernen!\n  }\n\n  ngDoBootstrap(app: ApplicationRef): void {\n    const componentElement = document.createElement('app-root');\n    document.body.append(componentElement);\n    app.bootstrap(AppComponent);\n  }\n}\n\nfunction initialize(\n  dirtyFlagService: DirtyFlagService,\n  iconDictionaryService: IconDictionaryService,\n  importExportService: IconSetImportExportService,\n  elementRegistryService: ElementRegistryService,\n  labelDictionaryService: LabelDictionaryService,\n) {\n  return () => {\n    initializeContextPadProvider(dirtyFlagService, iconDictionaryService);\n\n    initializePalette(iconDictionaryService);\n    initializeRenderer(\n      iconDictionaryService,\n      elementRegistryService,\n      dirtyFlagService,\n    );\n    initializeLabelEditingProvider(labelDictionaryService);\n    initializeReplaceOptions(iconDictionaryService);\n    initializeNumbering(elementRegistryService);\n    initializeActivityUpdateHandler(elementRegistryService);\n  };\n}\n","import EditorActionsModule from \"diagram-js/lib/features/editor-actions\";\nimport KeyboardModule from \"diagram-js/lib/features/keyboard\";\nimport AdditionalEditorActions from \"./AdditionalEditorActions\";\nimport AdditionalKeyboardBindings from \"./AdditionalKeyboardBindings\";\n\nexport default {\n  __depends__: [EditorActionsModule, KeyboardModule],\n  __init__: [\"additionalEditorActions\", \"additionalKeyBindings\"],\n  additionalEditorActions: [\"type\", AdditionalEditorActions],\n  additionalKeyBindings: [\"type\", AdditionalKeyboardBindings],\n};\n","import { Injectable } from '@angular/core';\nimport { ElementRegistryService } from '../../../domain/services/element-registry.service';\nimport { ElementTypes } from '../../../domain/entities/elementTypes';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { ActivityDialogData } from '../domain/activityDialogData';\nimport { ActivityDialogComponent } from '../presentation/activity-dialog/activity-dialog.component';\nimport { DialogService } from '../../../domain/services/dialog.service';\nimport { TitleService } from '../../title/services/title.service';\nimport { ActivityCanvasObject } from '../../../domain/entities/activityCanvasObject';\nimport { positionsMatch } from '../../../utils/mathExtensions';\nimport { CommandStackService } from '../../../domain/services/command-stack.service';\n\nimport { toggleStashUse } from 'src/app/tools/modeler/diagram-js/features/labeling/dsLabelEditingProvider';\nimport {\n  getMultipleNumberRegistry,\n  getNumberRegistry,\n  setNumberIsMultiple,\n  updateExistingNumbersAtEditing,\n} from 'src/app/tools/modeler/diagram-js/features/numbering/numbering';\nimport activityUpdateHandler from 'src/app/tools/modeler/diagram-js/features/updateHandler/activityUpdateHandlers';\n\nimport massRenameHandler from 'src/app/tools/modeler/diagram-js/features/updateHandler/massRenameHandler';\nimport elementUpdateHandler from 'src/app/tools/modeler/diagram-js/features/updateHandler/elementUpdateHandler';\nimport headlineAndDescriptionUpdateHandler from 'src/app/tools/modeler/diagram-js/features/updateHandler/headlineAndDescriptionUpdateHandler';\nimport { ReplayService } from '../../replay/services/replay.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class InitializerService {\n  constructor(\n    private elementRegistryService: ElementRegistryService,\n    private replayService: ReplayService,\n    private dialogService: DialogService,\n    private commandStackService: CommandStackService,\n    private titleService: TitleService,\n  ) {}\n\n  propagateDomainStoryModelerClassesToServices(\n    commandStack: any,\n    elementRegistry: any,\n  ): void {\n    this.commandStackService.setCommandStack(commandStack);\n    this.elementRegistryService.setElementRegistry(elementRegistry);\n  }\n\n  initializeDomainStoryModelerEventHandlers(\n    commandStack: any,\n    eventBus: any,\n  ): void {\n    activityUpdateHandler(commandStack, eventBus);\n    massRenameHandler(commandStack, eventBus);\n    elementUpdateHandler(commandStack, eventBus);\n    headlineAndDescriptionUpdateHandler(commandStack, this.titleService);\n  }\n\n  initiateEventBusListeners(eventBus: any, commandStack: any): void {\n    eventBus.on('element.dblclick', (e: any) => {\n      if (!this.replayService.getReplayOn()) {\n        const element = e.element;\n        if (element.type === ElementTypes.ACTIVITY) {\n          // override the doubleClickListener on activities\n          this.activityDoubleClick(element, eventBus, commandStack);\n        } else {\n          const renderedNumberRegistry = getNumberRegistry();\n\n          // add a DoubleClickListener to the number on activities\n          if (renderedNumberRegistry.length > 1) {\n            const allActivities =\n              this.elementRegistryService.getActivitiesFromActors();\n\n            if (allActivities.length > 0) {\n              const htmlCanvas = document.getElementById('canvas');\n              if (htmlCanvas) {\n                const container =\n                  htmlCanvas.getElementsByClassName('djs-container');\n                const svgElements = container[0].getElementsByTagName('svg');\n                const outerSVGElement = svgElements[0];\n                const viewport =\n                  outerSVGElement.getElementsByClassName('viewport')[0];\n                let transform = viewport.getAttribute('transform');\n\n                let transformX = 0;\n                let transformY = 0;\n                let zoomX = 1;\n                let zoomY = 1;\n                let nums;\n\n                const clickX = e.originalEvent.offsetX;\n                const clickY = e.originalEvent.offsetY;\n\n                // adjust for zoom and panning\n                if (transform) {\n                  transform = transform.replace('matrix(', '');\n                  transform.replace(')', '');\n                  nums = transform.split(',');\n                  zoomX = parseFloat(nums[0]);\n                  zoomY = parseFloat(nums[3]);\n                  transformX = parseInt(nums[4], undefined);\n                  transformY = parseInt(nums[5], undefined);\n                }\n\n                const width = 25 * zoomX;\n                const height = 22 * zoomY;\n\n                for (let i = 1; i < renderedNumberRegistry.length; i++) {\n                  const currentNum = renderedNumberRegistry[i];\n                  if (currentNum) {\n                    const tspan = currentNum.getElementsByTagName('tspan')[0];\n                    const tx = tspan.getAttribute('x');\n                    const ty = tspan.getAttribute('y');\n                    const tNumber = parseInt(tspan.innerHTML, undefined);\n\n                    const elementX = Math.floor(\n                      tx * zoomX + (transformX - 11 * zoomX),\n                    );\n                    const elementY = Math.floor(\n                      ty * zoomY + (transformY - 15 * zoomY),\n                    );\n\n                    allActivities.forEach((activity: ActivityCanvasObject) => {\n                      const activityNumber = activity.businessObject.number;\n                      if (activityNumber === tNumber) {\n                        if (\n                          positionsMatch(\n                            width,\n                            height,\n                            elementX,\n                            elementY,\n                            clickX,\n                            clickY,\n                          )\n                        ) {\n                          this.activityDoubleClick(\n                            activity,\n                            eventBus,\n                            commandStack,\n                          );\n                        }\n                      }\n                    });\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    });\n\n    // while replaying, we only allow editing labels but no other changes (to avoid accidentally modeling on top of hidden model elements)\n    eventBus.on(\n      [\n        'shape.move.start', // move existing shapes\n        'bendpoint.move.start', // move and create bendpoints\n        'connectionSegment.move.start', // move horizontal/vertical segments of connections\n        'element.click', // click on existing element (opens context pad if element is actor or work object)\n        'element.hover', // show outline around element\n        'interactionEvents.createHit', // use palette to create new element\n        'spaceTool.selection.start', // use space tool\n        'lasso.selection.start', // use lasso tool\n        // TODO:\n        // 1. instead of preventing lasso & space tools from selecting anything, they should be disabled.\n        //    Right now, they can still be activated and the palette shows them as active (even after replay ended)\n        // 2. enable editing of connection labels\n      ],\n      10000000000,\n      (event: any) => {\n        if (this.replayService.getReplayOn()) {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n      },\n    );\n\n    let pasteColor: string[] = [];\n    let pasteText: string[] = [];\n    let pasteHeight: number[] = [];\n    eventBus.on('copyPaste.pasteElement', 10000, (e: any) => {\n      pasteColor.push(e.descriptor.oldBusinessObject.pickedColor);\n      if (\n        e.descriptor.oldBusinessObject.type.includes(\n          ElementTypes.TEXTANNOTATION,\n        )\n      ) {\n        pasteText.push(e.descriptor.oldBusinessObject.text ?? '');\n        pasteHeight.push(e.descriptor.oldBusinessObject.height);\n      }\n    });\n\n    eventBus.on('create.end', (e: any) => {\n      if (!pasteColor) {\n        return;\n      }\n      for (let elementsKey in e.elements) {\n        const element = e.elements[elementsKey];\n        if (element.businessObject.type.includes(ElementTypes.TEXTANNOTATION)) {\n          element.businessObject.text = pasteText[0];\n          element.businessObject.number = pasteHeight[0];\n          element.businessObject.height = pasteHeight[0];\n          pasteText.shift();\n          pasteHeight.shift();\n        }\n        element.businessObject.pickedColor = pasteColor[parseInt(elementsKey)];\n        eventBus.fire('element.changed', { element });\n      }\n      pasteColor = [];\n      pasteText = [];\n      pasteHeight = [];\n    });\n  }\n\n  /** Overrrides for Canvas Functions **/\n  private activityDoubleClick(\n    activity: ActivityCanvasObject,\n    eventBus: any,\n    commandStack: any,\n  ): void {\n    const source = activity.source;\n\n    // ensure the right number when changing the direction of an activity\n    toggleStashUse(false);\n\n    const config = new MatDialogConfig();\n    config.disableClose = false;\n    config.autoFocus = true;\n\n    if (\n      activity.businessObject.number &&\n      source &&\n      source.type.includes(ElementTypes.ACTOR)\n    ) {\n      config.data = new ActivityDialogData(\n        activity,\n        getMultipleNumberRegistry()[activity.businessObject.number],\n        true,\n        (data: any) =>\n          this.saveActivityInputLabel(data, eventBus, commandStack),\n      );\n    } else if (source && source.type.includes(ElementTypes.WORKOBJECT)) {\n      config.data = new ActivityDialogData(\n        activity,\n        false,\n        false,\n        (activityData: any) =>\n          this.saveActivityInputLabel(activityData, eventBus, commandStack),\n      );\n    }\n    this.dialogService.openDialog(ActivityDialogComponent, config);\n  }\n\n  private saveActivityInputLabel(\n    activityData: any,\n    eventBus: any,\n    commandStack: any,\n  ): void {\n    const label = activityData.activityLabel;\n    const hasNumber = activityData.activityNumber ?? false;\n    const activityNumber = activityData.activityNumber;\n    const multipleNumberAllowed = activityData.multipleNumbers ?? false;\n    const element = activityData.activity;\n\n    const activitiesFromActors =\n      this.elementRegistryService.getActivitiesFromActors();\n    const index = activitiesFromActors.indexOf(element);\n\n    activitiesFromActors.splice(index, 1);\n    if (hasNumber) {\n      setNumberIsMultiple(activityNumber, multipleNumberAllowed);\n    }\n    element.businessObject.multipleNumberAllowed = multipleNumberAllowed;\n\n    let options: any;\n    if (hasNumber) {\n      options = {\n        businessObject: element.businessObject,\n        newLabel: label,\n        newNumber: activityNumber,\n        element,\n      };\n    } else {\n      options = {\n        businessObject: element.businessObject,\n        newLabel: label,\n        element,\n      };\n    }\n\n    commandStack.execute('activity.changed', options);\n    if (element.businessObject.multipleNumberAllowed !== false) {\n      if (getMultipleNumberRegistry()[activityNumber] === false) {\n        updateExistingNumbersAtEditing(\n          activitiesFromActors,\n          activityNumber,\n          eventBus,\n        );\n      }\n    } else if (element.businessObject.multipleNumberAllowed === false) {\n      updateExistingNumbersAtEditing(\n        activitiesFromActors,\n        activityNumber,\n        eventBus,\n      );\n    }\n  }\n}\n","\"use strict\";\n\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\nimport { is } from \"../util/util\";\n\nfunction getLabelAttr(semantic) {\n  if (\n    semantic.type.includes(ElementTypes.ACTOR) ||\n    semantic.type.includes(ElementTypes.WORKOBJECT) ||\n    semantic.type.includes(ElementTypes.ACTIVITY) ||\n    semantic.type.includes(ElementTypes.GROUP)\n  ) {\n    return \"name\";\n  }\n  if (semantic.type.includes(ElementTypes.TEXTANNOTATION)) {\n    return \"text\";\n  }\n}\n\nfunction getNumberAttr(semantic) {\n  if (is(semantic, ElementTypes.ACTIVITY)) {\n    return \"number\";\n  }\n}\n\nexport function getLabel(element) {\n  let semantic;\n  if (element.businessObject) {\n    semantic = element.businessObject;\n  } else {\n    semantic = element;\n  }\n  let attr = getLabelAttr(semantic);\n  if (attr && semantic) {\n    return semantic[attr] || \"\";\n  }\n}\n\nexport function getNumber(element) {\n  let semantic = element.businessObject,\n    attr = getNumberAttr(semantic);\n\n  if (attr) {\n    return semantic[attr] || \"\";\n  }\n}\n\nexport function setLabel(element, text) {\n  let semantic;\n  if (element.businessObject) {\n    semantic = element.businessObject;\n  } else {\n    semantic = element;\n  }\n  let attr = getLabelAttr(semantic);\n\n  if (attr) {\n    semantic[attr] = text;\n  }\n  return element;\n}\n\nexport function setNumber(element, textNumber) {\n  let semantic = element.businessObject,\n    attr = getNumberAttr(semantic);\n\n  if (attr) {\n    semantic[attr] = textNumber;\n  }\n\n  return element;\n}\n\n// select at which part of the activity the label should be attached to\nexport function selectPartOfActivity(waypoints, angleActivity) {\n  let selectedActivity = 0;\n  let linelength = 49;\n\n  for (let i = 0; i < waypoints.length; i++) {\n    if (angleActivity[i] === 0 || angleActivity[i] === 180) {\n      let length = Math.abs(waypoints[i].x - waypoints[i + 1].x);\n      if (length > linelength) {\n        selectedActivity = i;\n      }\n    }\n  }\n  return selectedActivity;\n}\n\n// approximate the width of the label text, standard fontsize: 11\nexport function calculateTextWidth(text) {\n  if (!text) {\n    return 0;\n  }\n\n  let fontsize = text.length * 5.1;\n  fontsize = fontsize / 2;\n\n  // add an initial offset to the absolute middle of the activity\n  fontsize += 20;\n  return fontsize;\n}\n\n/**\n * copied from https://www.w3schools.com/howto/howto_js_autocomplete.asp on 18.09.2018\n */\nexport function autocomplete(input, workObjectNames, element, eventBus) {\n  closeAllLists();\n\n  /* the autocomplete function takes three arguments,\n  the text field element and an array of possible autocompleted values and an optional element to which it is appended:*/\n  let currentFocus, filteredWorkObjectNames;\n\n  /* execute a function when someone writes in the text field:*/\n  input.addEventListener(\"input\", function () {\n    if (workObjectNames.length === 0) {\n      return;\n    }\n\n    /* the direct editing field of actors and workobjects is a recycled html-element and has old values that need to be overridden*/\n    if (element.type.includes(ElementTypes.WORKOBJECT)) {\n      this.value = this.innerHTML;\n    }\n    let autocompleteList,\n      autocompleteItem,\n      val = this.value;\n\n    /* close any already open lists of autocompleted values*/\n    closeAllLists();\n    currentFocus = -1;\n\n    /* create a DIV element that will contain the items (values):*/\n    autocompleteList = document.createElement(\"DIV\");\n    autocompleteList.setAttribute(\"id\", \"autocomplete-list\");\n    autocompleteList.setAttribute(\"class\", \"autocomplete-items\");\n\n    /* append the DIV element as a child of the autocomplete container:*/\n    this.parentNode.appendChild(autocompleteList);\n\n    /* for each item in the array...*/\n    filteredWorkObjectNames = [];\n    for (const name of workObjectNames) {\n      /* check if the item starts with the same letters as the text field value:*/\n      if (val) {\n        if (name.substring(0, val.length).toUpperCase() === val.toUpperCase()) {\n          /* create a DIV element for each matching element:*/\n          autocompleteItem = document.createElement(\"DIV\");\n\n          /* make the matching letters bold:*/\n          autocompleteItem.innerHTML =\n            \"<strong>\" +\n            name.substring(0, val.length) +\n            \"</strong>\" +\n            name.substring(val.length);\n\n          /* insert an input field that will hold the current name:*/\n          autocompleteItem.innerHTML +=\n            \"<input type='hidden' value='\" + name + \"'>\";\n          autocompleteList.appendChild(autocompleteItem);\n\n          filteredWorkObjectNames.push(name);\n        }\n      }\n    }\n\n    // if we edit an actor, we do not want auto-complete, since actors generally are unique\n    if (element.type.includes(ElementTypes.ACTOR)) {\n      autocompleteList.style.visibility = \"hidden\";\n    }\n  });\n\n  /* execute a function presses a key on the keyboard:*/\n  input.onkeydown = function (e) {\n    let autocompleteList = document.getElementById(\"autocomplete-list\");\n    if (autocompleteList) {\n      autocompleteList = autocompleteList.getElementsByTagName(\"div\");\n    }\n    if (e.keyCode === 40) {\n      /* If the arrow DOWN key is pressed,\n        increase the currentFocus letiable:*/\n      currentFocus++;\n\n      /* and and make the current item more visible:*/\n      addActive(autocompleteList);\n    } else if (e.keyCode === 38) {\n      // up\n      /* If the arrow UP key is pressed,\n        decrease the currentFocus letiable:*/\n      currentFocus--;\n\n      /* and and make the current item more visible:*/\n      addActive(autocompleteList);\n    } else if (e.keyCode === 13) {\n      e.preventDefault();\n      /* If the ENTER key is pressed, prevent the form from being submitted,*/\n      if (currentFocus > -1) {\n        element.businessObject.name = filteredWorkObjectNames[currentFocus];\n        eventBus.fire(\"element.changed\", { element });\n      }\n    }\n  };\n\n  function addActive(autocompleteList) {\n    /* a function to classify an item as \"active\":*/\n    if (!autocompleteList || autocompleteList.length < 1) return false;\n\n    /* start by removing the \"active\" class on all items:*/\n    removeActive(autocompleteList);\n    if (currentFocus >= autocompleteList.length) currentFocus = 0;\n    if (currentFocus < 0) currentFocus = autocompleteList.length - 1;\n\n    /* add class \"autocomplete-active\":*/\n    autocompleteList[currentFocus].classList.add(\"autocomplete-active\");\n  }\n\n  function removeActive(autocompleteList) {\n    /* a function to remove the \"active\" class from all autocomplete items:*/\n    if (autocompleteList.length > 1) {\n      for (const item of autocompleteList) {\n        item.classList.remove(\"autocomplete-active\");\n      }\n    }\n  }\n\n  function closeAllLists(survivor) {\n    /* close all autocomplete lists in the document,\n    except the one passed as an argument:*/\n    let autocompleteList =\n      document.getElementsByClassName(\"autocomplete-items\");\n    for (const item of autocompleteList) {\n      if (survivor != item && survivor != input) {\n        item.parentNode.removeChild(item);\n      }\n    }\n  }\n\n  /* execute a function when someone clicks in the document:*/\n  document.addEventListener(\"click\", function (e) {\n    closeAllLists(e.target);\n  });\n}\n","import { getBusinessObject } from \"../util/util\";\n\nimport { forEach, isArray, isUndefined, omit, reduce } from \"min-dash\";\n\nfunction copyProperties(source, target, properties) {\n  if (!isArray(properties)) {\n    properties = [properties];\n  }\n\n  forEach(properties, function (property) {\n    if (!isUndefined(source[property])) {\n      target[property] = source[property];\n    }\n  });\n}\n\nfunction removeProperties(element, properties) {\n  if (!isArray(properties)) {\n    properties = [properties];\n  }\n\n  forEach(properties, function (property) {\n    if (element[property]) {\n      delete element[property];\n    }\n  });\n}\n\nvar LOW_PRIORITY = 750;\n\nexport default function EgonCopyPaste(eventBus, propertyCopy) {\n  eventBus.on(\"copyPaste.copyElement\", LOW_PRIORITY, function (context) {\n    var descriptor = context.descriptor,\n      element = context.element;\n\n    var businessObject = (descriptor.oldBusinessObject =\n      getBusinessObject(element));\n\n    descriptor.type = element.type;\n\n    copyProperties(businessObject, descriptor, \"name\");\n\n    if (isLabel(descriptor)) {\n      return descriptor;\n    }\n  });\n\n  var references;\n\n  function resolveReferences(descriptor, cache) {\n    var businessObject = getBusinessObject(descriptor);\n\n    // boundary events\n    if (descriptor.host) {\n      // relationship can be resolved immediately\n      getBusinessObject(descriptor).attachedToRef = getBusinessObject(\n        cache[descriptor.host],\n      );\n    }\n\n    references = omit(\n      references,\n      reduce(\n        references,\n        function (array, reference, key) {\n          var element = reference.element,\n            property = reference.property;\n\n          if (key === descriptor.id) {\n            element[property] = businessObject;\n\n            array.push(descriptor.id);\n          }\n\n          return array;\n        },\n        [],\n      ),\n    );\n  }\n\n  eventBus.on(\"copyPaste.pasteElements\", function () {\n    references = {};\n  });\n\n  eventBus.on(\"copyPaste.pasteElement\", function (context) {\n    var cache = context.cache,\n      descriptor = context.descriptor,\n      oldBusinessObject = descriptor.oldBusinessObject,\n      newBusinessObject;\n\n    // do NOT copy business object if external label\n    if (isLabel(descriptor)) {\n      descriptor.businessObject = getBusinessObject(\n        cache[descriptor.labelTarget],\n      );\n\n      return;\n    }\n\n    newBusinessObject = {};\n\n    descriptor.businessObject = propertyCopy.copyElement(\n      oldBusinessObject,\n      newBusinessObject,\n    );\n\n    // resolve references e.g. default sequence flow\n    resolveReferences(descriptor, cache);\n\n    copyProperties(descriptor, newBusinessObject, [\"name\"]);\n\n    removeProperties(descriptor, \"oldBusinessObject\");\n  });\n}\n\nEgonCopyPaste.$inject = [\"eventBus\", \"propertyCopy\"];\n\n// helpers //////////\n\nfunction isLabel(element) {\n  return !!element.labelTarget;\n}\n","\"use strict\";\n\nimport { undoGroupRework } from \"../util/util\";\nimport { ElementTypes } from \"../../../../../domain/entities/elementTypes\";\n\nexport default function elementUpdateHandler(commandStack, eventBus) {\n  commandStack.registerHandler(\"element.colorChange\", element_colorChange);\n  commandStack.registerHandler(\n    \"shape.removeGroupWithoutChildren\",\n    removeGroupWithoutChildren,\n  );\n\n  function element_colorChange() {\n    this.preExecute = function (context) {\n      context.oldColor = context.businessObject.pickedColor;\n    };\n\n    this.execute = function (context) {\n      let semantic = context.businessObject;\n      let element = context.element;\n\n      if (\n        semantic.type.includes(ElementTypes.TEXTANNOTATION) &&\n        element.incoming[0]\n      ) {\n        element.incoming[0].businessObject.pickedColor = context.newColor;\n        eventBus.fire(\"element.changed\", { element: element.incoming[0] });\n      }\n\n      semantic.pickedColor = context.newColor;\n\n      eventBus.fire(\"element.changed\", { element });\n    };\n\n    this.revert = function (context) {\n      let semantic = context.businessObject;\n      let element = context.element;\n\n      if (\n        semantic.type.includes(ElementTypes.TEXTANNOTATION) &&\n        element.incoming[0]\n      ) {\n        element.incoming[0].businessObject.pickedColor = context.oldColor;\n        eventBus.fire(\"element.changed\", { element: element.incoming[0] });\n      }\n\n      semantic.pickedColor = context.oldColor;\n\n      eventBus.fire(\"element.changed\", { element });\n    };\n  }\n\n  function removeGroupWithoutChildren() {\n    this.preExecute = function (ctx) {\n      ctx.parent = ctx.element.parent;\n      ctx.children = ctx.element.children.slice();\n    };\n\n    this.execute = function (ctx) {\n      let element = ctx.element;\n      ctx.children.forEach((child) => {\n        undoGroupRework(element, child);\n        eventBus.fire(\"element.changed\", { element: child });\n      });\n      eventBus.fire(\"shape.remove\", { element });\n    };\n\n    this.revert = function (ctx) {\n      let element = ctx.element;\n      eventBus.fire(\"shape.added\", { element });\n\n      ctx.element.children.forEach((child) => {\n        reworkGroupElements(element, child);\n      });\n    };\n  }\n}\n","export class ExportDialogData {\n  title: string;\n  options: ExportOption[];\n\n  constructor(title: string, options: ExportOption[]) {\n    this.title = title;\n    this.options = options;\n  }\n}\n\nexport class ExportOption {\n  text: string;\n  fn: any;\n  tooltip: string;\n\n  constructor(text: string, tooltip: string, fn: any) {\n    this.text = text;\n    this.tooltip = tooltip;\n    this.fn = fn;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ElementTypes } from 'src/app/domain/entities/elementTypes';\nimport { BusinessObject } from 'src/app/domain/entities/businessObject';\nimport { ActivityBusinessObject } from '../../../domain/entities/activityBusinessObject';\n\n/**\n * Repairs broken Domain Stories so that it can be rendered onto the canvas\n * by removing activities and connections that reference elements that don't exists\n */\n@Injectable({\n  providedIn: 'root',\n})\nexport class ImportRepairService {\n  checkForUnreferencedElementsInActivitiesAndRepair(\n    elements: BusinessObject[],\n  ): boolean {\n    const activities: ActivityBusinessObject[] = [];\n    const objectIDs: string[] = [];\n\n    let complete = true;\n\n    elements.forEach((element) => {\n      const type = element.type;\n      if (type === ElementTypes.ACTIVITY || type === ElementTypes.CONNECTION) {\n        activities.push(element as ActivityBusinessObject);\n      } else {\n        objectIDs.push(element.id);\n      }\n    });\n\n    activities.forEach((activity) => {\n      const source = activity.source;\n      const target = activity.target;\n      if (!objectIDs.includes(source) || !objectIDs.includes(target)) {\n        complete = false;\n        const activityIndex = elements.indexOf(activity);\n        elements = elements.splice(activityIndex, 1);\n      }\n    });\n    return complete;\n  }\n\n  /**\n   * Ensure backwards compatibility.\n   * Previously Document had no special name and was just addressed as workObject\n   * Bubble was renamed to Conversation\n   */\n  updateCustomElementsPreviousV050(\n    elements: BusinessObject[],\n  ): BusinessObject[] {\n    for (const element of elements) {\n      if (element.type === ElementTypes.WORKOBJECT) {\n        element.type = ElementTypes.WORKOBJECT + 'Document';\n      } else if (element.type === ElementTypes.WORKOBJECT + 'Bubble') {\n        element.type = ElementTypes.WORKOBJECT + 'Conversation';\n      }\n    }\n    return elements;\n  }\n\n  // Early versions of Egon allowed Whitespaces in Icon names which are now not supported anymore.\n  // To find the right icon in the dictionary, they need to be replaced.\n  removeWhitespacesFromIcons(elements: BusinessObject[]) {\n    elements.forEach((bo) => {\n      if (bo.type) {\n        bo.type = bo.type.replace(/ /g, '-');\n      }\n    });\n  }\n\n  removeUnnecessaryBpmnProperties(elements: BusinessObject[]) {\n    elements.forEach((bo) => {\n      // @ts-ignore\n      if (bo.$type) {\n        // @ts-ignore\n        bo.$type = undefined;\n      }\n      // @ts-ignore\n      if (bo.$descriptor) {\n        // @ts-ignore\n        bo.$descriptor = undefined;\n      }\n      // @ts-ignore\n      if (bo.di) {\n        // @ts-ignore\n        bo.di = undefined;\n      }\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ConfigAndDST } from 'src/app/tools/export/domain/export/configAndDst';\nimport { createTitleAndDescriptionSVGElement } from 'src/app/tools/export/services/exportUtil';\nimport { ModelerService } from '../../modeler/services/modeler.service';\nimport {\n  DEFAULT_PADDING,\n  TEXTSPAN_TITLE_HEIGHT,\n} from '../domain/export/exportConstants';\nimport { StoryCreatorService } from '../../replay/services/story-creator.service';\nimport { StorySentence } from '../../replay/domain/storySentence';\nimport { sanitizeTextForSVGExport } from 'src/app/utils/sanitizer';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SvgService {\n  private cacheData = '';\n\n  constructor(\n    private modelerService: ModelerService,\n    private storyCreatorService: StoryCreatorService,\n  ) {}\n\n  createSVGData(\n    title: string,\n    description: string,\n    dst: ConfigAndDST,\n    withTitle: boolean,\n    useWhiteBackground: boolean,\n    animationSpeed?: number,\n  ): string {\n    this.cacheData = this.modelerService.getEncoded();\n\n    let domainStorySvg = structuredClone(this.cacheData);\n\n    if (animationSpeed) {\n      domainStorySvg = this.createAnimatedSvg(domainStorySvg, animationSpeed);\n    }\n\n    let viewBoxIndex = domainStorySvg.indexOf('width=\"');\n\n    let { width, height, viewBox } = this.viewBoxCoordinates(domainStorySvg);\n\n    // The value of the viewBox attribute is a list of four numbers separated by whitespace\n    // and/or a comma: min-x, min-y, width, and height. min-x and min-y represent the smallest\n    // X and Y coordinates that the viewBox may have (the origin coordinates of the viewBox)\n    // and the width and height specify the viewBox size. The resulting viewBox is a\n    // rectangle in user space mapped to the bounds of the viewport of an SVG element.\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/viewBox\n\n    let min_x: number;\n    let viewBoxWidth: number;\n    let min_y: number;\n    let viewBoxHeight: number;\n    const splitViewBox = viewBox.split(/\\s/);\n\n    min_x = +splitViewBox[0];\n    min_y = +splitViewBox[1];\n    viewBoxWidth = +splitViewBox[2];\n    viewBoxHeight = +splitViewBox[3];\n\n    // Set minimum width to ensure title and description are displayed reasonably\n    if (viewBoxWidth < 300) {\n      viewBoxWidth += 300;\n      width += 300;\n    }\n\n    const { insertText, dynamicHeightOffset } =\n      createTitleAndDescriptionSVGElement(\n        0,\n        title,\n        description,\n        min_x,\n        min_y,\n        width,\n      );\n\n    const bounds = this.createBounds(\n      width,\n      height,\n      min_x,\n      min_y,\n      viewBoxWidth,\n      viewBoxHeight,\n      withTitle,\n      dynamicHeightOffset,\n    );\n\n    const dataStart = domainStorySvg.substring(0, viewBoxIndex);\n    viewBoxIndex = domainStorySvg.indexOf('\" version');\n\n    const dataEnd = domainStorySvg.substring(viewBoxIndex);\n    dataEnd.substring(viewBoxIndex);\n\n    domainStorySvg = dataStart + bounds + dataEnd;\n\n    const insertIndex = this.findIndexToInsertData(domainStorySvg);\n\n    if (withTitle) {\n      domainStorySvg =\n        domainStorySvg.slice(0, insertIndex) +\n        insertText +\n        domainStorySvg.slice(insertIndex);\n    }\n\n    if (useWhiteBackground) {\n      const svgIndex = domainStorySvg.indexOf('width=\"');\n      const backgroundColorWhite = 'style=\"background-color:white\" ';\n      domainStorySvg =\n        domainStorySvg.slice(0, svgIndex) +\n        backgroundColorWhite +\n        domainStorySvg.slice(svgIndex);\n    }\n\n    return this.appendDST(domainStorySvg, dst);\n  }\n\n  private createAnimatedSvg(\n    domainStorySvg: string,\n    animationSpeed: number = 2,\n  ) {\n    const story: StorySentence[] =\n      this.storyCreatorService.traceActivitiesAndCreateStory();\n    const usedElementId: string[] = [];\n    const storyLength = story.length;\n    const visibleTimeInPercent = Math.floor(100 / storyLength);\n    const durationOfAnimation = storyLength * animationSpeed;\n    let sentenceCounter = 1;\n    let currentVisibleTimeInPercent = visibleTimeInPercent;\n    let previousVisibleTimeInPercent = visibleTimeInPercent;\n    story.forEach((sentence) => {\n      const objects = sentence.objects.filter(\n        (it) => !usedElementId.includes(it.id),\n      );\n      objects.forEach((objectId) => {\n        usedElementId.push(objectId.id);\n        const idIndex = domainStorySvg.indexOf(objectId.id);\n        const insertIdIndex = domainStorySvg.indexOf('>', idIndex);\n        domainStorySvg = `${domainStorySvg.slice(0, insertIdIndex)} id=\"group${sentenceCounter}\" ${domainStorySvg.slice(insertIdIndex)}`;\n\n        const index = domainStorySvg.indexOf(objectId.id);\n        const insertIndex = domainStorySvg.indexOf('>', index) + 1;\n        if (sentenceCounter > 1) {\n          domainStorySvg = `${domainStorySvg.slice(0, insertIndex)}\n            <style>\n              #group${sentenceCounter} {\n                  opacity: 0;\n                  animation: visibilityControl${sentenceCounter} ${durationOfAnimation}s infinite;\n              }\n              @keyframes visibilityControl${sentenceCounter} {\n                  ${previousVisibleTimeInPercent - 1}% { opacity: 0; }    /* Initially invisible */\n                  ${previousVisibleTimeInPercent}% { opacity: 1; }  /* Starts becoming visible */\n                  98% { opacity: 1; }   /* Stays visible */\n                  99% { opacity: 0; }   /* Starts disappearing */\n                  100% { opacity: 0; }  /* Fully invisible */\n              }\n            </style>  ${domainStorySvg.slice(insertIndex)}`;\n        }\n      });\n      sentenceCounter += 1;\n      previousVisibleTimeInPercent = currentVisibleTimeInPercent;\n      currentVisibleTimeInPercent = visibleTimeInPercent * sentenceCounter;\n    });\n    return domainStorySvg;\n  }\n\n  private findIndexToInsertData(data: string) {\n    let insertIndex = data.indexOf('</defs>');\n    if (insertIndex < 0) {\n      insertIndex = data.indexOf('version=\"1.1\">') + 14; // diagram-js exports SVG v. 1.1\n    } else {\n      insertIndex += 7;\n    }\n    return insertIndex;\n  }\n\n  private createBounds(\n    width: number,\n    height: number,\n    min_x: number,\n    min_y: number,\n    viewBoxWidth: number,\n    viewBoxHeight: number,\n    withTitle: boolean,\n    dynamicHeightOffset: number,\n  ): string {\n    height = withTitle\n      ? height + dynamicHeightOffset + TEXTSPAN_TITLE_HEIGHT\n      : height;\n    min_x = min_x - DEFAULT_PADDING;\n    min_y = withTitle\n      ? min_y - dynamicHeightOffset - TEXTSPAN_TITLE_HEIGHT\n      : min_y;\n    viewBoxHeight = withTitle\n      ? viewBoxHeight +\n        dynamicHeightOffset +\n        TEXTSPAN_TITLE_HEIGHT +\n        DEFAULT_PADDING\n      : viewBoxHeight;\n    viewBoxWidth = viewBoxWidth + DEFAULT_PADDING;\n\n    return `width=\"${width}\" height=\"${height}\" viewBox=\"${min_x} ${min_y} ${viewBoxWidth} ${viewBoxHeight}`;\n  }\n\n  private viewBoxCoordinates(svg: string): {\n    width: number;\n    height: number;\n    viewBox: string;\n  } {\n    const ViewBoxCoordinate =\n      /width=\"([^\"]+)\"\\s+height=\"([^\"]+)\"\\s+viewBox=\"([^\"]+)\"/;\n    const match = svg.match(ViewBoxCoordinate);\n    if (match) {\n      return { width: +match[1], height: +match[2], viewBox: match[3] };\n    }\n    return { width: 0, height: 0, viewBox: '' };\n  }\n\n  private appendDST(data: string, dst: ConfigAndDST): string {\n    data +=\n      '\\n<!-- <DST>\\n' +\n      sanitizeTextForSVGExport(JSON.stringify(dst, null, 2)) +\n      '\\n </DST> -->';\n    return data;\n  }\n}\n","import { Dictionary, Entry } from 'src/app/domain/entities/dictionary';\nexport let customIcons = new Dictionary();\n\nconst people = [\n  'person',\n  'group',\n  'team',\n  'community',\n  'actor',\n  'collective',\n  'account circle',\n  'avatar',\n  'identity',\n  'user',\n  'network',\n  'profile',\n  'contacts',\n];\nconst animal = ['animal', 'pet', 'companion', 'friend'];\nconst vehicle = [\n  'car',\n  'vehicle',\n  'bus',\n  'truck',\n  'train',\n  'motorcycle',\n  'taxi',\n  'bike',\n  'spaceship',\n  'rocket',\n];\nconst airport = [\n  'plane',\n  'airport',\n  'take off',\n  'landing',\n  'departure',\n  'arriving',\n  'destination',\n  'launch',\n  'flight',\n  'space',\n  'science',\n];\nconst driving = [\n  'traffic',\n  'walk',\n  'running',\n  'commute',\n  'traffic jam',\n  'traffic lights',\n  'crosswalk',\n  'move',\n];\nconst print = [\n  'media',\n  'pc',\n  'computer',\n  'update',\n  'ink',\n  'photo',\n  'print',\n  'draft',\n  'office',\n  'attach',\n  'edit',\n  'pencil',\n  'pdf',\n  'jpeg',\n  'pdf to image',\n  'picture as pdf',\n  'print to pdf',\n  'picture in picture',\n  'portrait',\n];\nconst calling = [\n  'mobile',\n  'cellphone',\n  'e-mail',\n  'microphone',\n  'message',\n  'content',\n  'contact',\n  'letter',\n  'sms',\n  'communication',\n  'letter',\n  'notification',\n  'inbox',\n  'send',\n  'incoming',\n  'attachments',\n];\nconst computer = [\n  'system',\n  'security',\n  'search',\n  'desktop',\n  'dashboard',\n  'update',\n  'computer',\n  'pc',\n  'signal',\n  'wifi',\n  'wi-fi',\n  'tablet',\n];\nconst speaker = [\n  'head',\n  'sound',\n  'microphone',\n  'acoustic',\n  'speaker',\n  'speak',\n  'noise',\n  'speaker',\n  'speaker phone',\n];\n\nconst legalSystem = [\n  'judge',\n  'justice',\n  'legal',\n  'court',\n  'hammer',\n  'judgment',\n  'lawyer',\n  'trial',\n  'ruling',\n  'judicial',\n  'sentence',\n  'authority',\n  'auction',\n  'legal system',\n  'courtroom',\n  'building',\n  'attorney',\n  'witness',\n  'honor',\n  'jury',\n];\n\nconst infoDialogs = [\n  'bug',\n  'alert',\n  'error',\n  'issue',\n  'warning',\n  'danger',\n  'risk',\n  'trouble',\n  'failure',\n  'broken',\n  'critical',\n  'caution',\n  'conflict',\n  'problem',\n  'info',\n];\n\nconst finance = [\n  'money',\n  'symbol',\n  'cash',\n  'currency',\n  'coin',\n  'sign',\n  'payment',\n  'funds',\n  'economy',\n  'investment',\n  'banking',\n  'finance',\n  'euro',\n  'dollar',\n  'credit-card',\n  'master',\n  'visa',\n];\n\nconst times = [\n  'clock',\n  'time',\n  'timer',\n  'smartwatch',\n  'hour',\n  'minute',\n  'second',\n  'stopwatch',\n  'countdown',\n  'clockwise',\n  'counter clockwise',\n  'schedule',\n  'alarm',\n  'snooze',\n  'devices',\n];\n\nconst rating = [\n  'star',\n  'grade',\n  'thumb up',\n  'bookmark',\n  'label',\n  'book',\n  'hart plus',\n  'added',\n  'more',\n  'shortcut',\n  'rate',\n  'grading',\n  'credits',\n  'check',\n  'like',\n  'feature',\n  'priority',\n  'loved',\n  'save',\n  'preferred',\n  'highlight',\n  'selected',\n];\n\nconst groceries = [\n  'menu',\n  'restaurant',\n  'lunch',\n  'meal',\n  'food',\n  'brunch',\n  'dessert',\n  'grocery',\n  'pizza',\n  'burger',\n  'snack',\n  'hot dog',\n  'soda',\n  'chips',\n  'restaurant',\n  'quick meal',\n];\n\nconst fingers = [\n  'thumb up',\n  'handshake',\n  'touch',\n  'controller',\n  'help',\n  'symbol',\n  'pointing',\n  'gesture',\n  'wave',\n  'fingers',\n  'hand',\n];\n\nconst entertainment = [\n  'recording',\n  'playback',\n  'play',\n  'pause',\n  'streaming',\n  'video',\n  'media',\n  'home entertainment',\n  'cinema',\n  'theatre',\n  'tv',\n  'camera',\n  'filming',\n  'webcam',\n  'digital',\n  'film',\n  'device',\n  'capture',\n];\n\n// These SVGs are used to render the actors/work objects on the canvas and in the iconset configuration. For palette and context pad, icons.css is used.\nexport const builtInIcons = new Dictionary();\nconst person = new Entry(\n  '<svg viewBox=\"0 0 24 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z\"/><path d=\"M0 0h24v24H0z\" fill=\"none\"/></svg>',\n  'Person',\n  [...people],\n);\nbuiltInIcons.putEntry(person);\nconst group = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"48\" viewBox=\"0 0 24 26\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z\"/></svg>',\n  'Group',\n  [...people],\n);\nbuiltInIcons.putEntry(group);\nconst pet = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><circle cx=\"4.5\" cy=\"9.5\" r=\"2.5\"/><circle cx=\"9\" cy=\"5.5\" r=\"2.5\"/><circle cx=\"15\" cy=\"5.5\" r=\"2.5\"/><circle cx=\"19.5\" cy=\"9.5\" r=\"2.5\"/><path d=\"M17.34 14.86c-.87-1.02-1.6-1.89-2.48-2.91-.46-.54-1.05-1.08-1.75-1.32-.11-.04-.22-.07-.33-.09-.25-.04-.52-.04-.78-.04s-.53 0-.79.05c-.11.02-.22.05-.33.09-.7.24-1.28.78-1.75 1.32-.87 1.02-1.6 1.89-2.48 2.91-1.31 1.31-2.92 2.76-2.62 4.79.29 1.02 1.02 2.03 2.33 2.32.73.15 3.06-.44 5.54-.44h.18c2.48 0 4.81.58 5.54.44 1.31-.29 2.04-1.31 2.33-2.32.31-2.04-1.3-3.49-2.61-4.8z\"/></svg>',\n  'Pet',\n  [...animal],\n);\nbuiltInIcons.putEntry(pet);\nconst conversation = new Entry(\n  '<svg height=\"48\" viewBox=\"0 0 24 26\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z\"/></svg>',\n  'Conversation',\n  ['mobile', 'email', 'sms', 'office'],\n);\nbuiltInIcons.putEntry(conversation);\nconst world = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-.61.08-1.21.21-1.78L8.99 15v1c0 1.1.9 2 2 2v1.93C7.06 19.43 4 16.07 4 12zm13.89 5.4c-.26-.81-1-1.4-1.9-1.4h-1v-3c0-.55-.45-1-1-1h-6v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41C17.92 5.77 20 8.65 20 12c0 2.08-.81 3.98-2.11 5.4z\"/></svg>',\n  'World',\n  ['globe', 'language', 'travel', 'public'],\n);\nbuiltInIcons.putEntry(world);\nconst store = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M18.36 9l.6 3H5.04l.6-3h12.72M20 4H4v2h16V4zm0 3H4l-1 5v2h1v6h10v-6h4v6h2v-6h1v-2l-1-5zM6 18v-4h6v4H6z\"/></svg>',\n  'Store',\n  ['history', 'shopping', 'shop', 'archive'],\n);\nbuiltInIcons.putEntry(store);\nconst theater = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm6 10h-4V5h4v14zm4-2h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z\"/></svg>',\n  'Theater',\n  ['stadium', 'cinema', 'comedy', 'video'],\n);\nbuiltInIcons.putEntry(theater);\nconst business = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z\"/></svg>',\n  'Business',\n  ['work', 'meeting-room', 'meeting'],\n);\nbuiltInIcons.putEntry(business);\nconst water = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M17 16.99c-1.35 0-2.2.42-2.95.8-.65.33-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.95c1.35 0 2.2-.42 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.42 2.95-.8c.65-.33 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm0-4.45c-1.35 0-2.2.43-2.95.8-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.32-1.17.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.35 1.15-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.58.8 2.95.8v-1.95c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8zm2.95-8.08c-.75-.38-1.58-.8-2.95-.8s-2.2.42-2.95.8c-.65.32-1.18.6-2.05.6-.9 0-1.4-.25-2.05-.6-.75-.37-1.57-.8-2.95-.8s-2.2.42-2.95.8c-.65.33-1.17.6-2.05.6v1.93c1.35 0 2.2-.43 2.95-.8.65-.33 1.17-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V5.04c-.9 0-1.4-.25-2.05-.58zM17 8.09c-1.35 0-2.2.43-2.95.8-.65.35-1.15.6-2.05.6s-1.4-.25-2.05-.6c-.75-.38-1.57-.8-2.95-.8s-2.2.43-2.95.8c-.65.35-1.15.6-2.05.6v1.95c1.35 0 2.2-.43 2.95-.8.65-.32 1.18-.6 2.05-.6s1.4.25 2.05.6c.75.38 1.57.8 2.95.8s2.2-.43 2.95-.8c.65-.32 1.18-.6 2.05-.6.9 0 1.4.25 2.05.6.75.38 1.58.8 2.95.8V9.49c-.9 0-1.4-.25-2.05-.6-.75-.38-1.6-.8-2.95-.8z\"/></svg>',\n  'Water',\n  ['pool', 'shower', 'swimming'],\n);\nbuiltInIcons.putEntry(water);\nconst hotel = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M7 14c1.66 0 3-1.34 3-3S8.66 8 7 8s-3 1.34-3 3 1.34 3 3 3zm0-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm12-3h-8v8H3V5H1v15h2v-3h18v3h2v-9c0-2.21-1.79-4-4-4zm2 8h-8V9h6c1.1 0 2 .9 2 2v4z\"/></svg>',\n  'Hotel',\n  ['bed', 'concierge', 'room service', 'house keeping'],\n);\nbuiltInIcons.putEntry(hotel);\nconst dining = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z\"/></svg>',\n  'Dining',\n  [...groceries],\n);\nbuiltInIcons.putEntry(dining);\nconst gasStation = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19.77 7.23l.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM12 13.5V19H6v-7h6v1.5zm0-3.5H6V5h6v5zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z\"/></svg>',\n  'Gas-station',\n  ['gas', 'fuel', 'petrol'],\n);\nbuiltInIcons.putEntry(gasStation);\nconst meetingRoom = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19 19V4h-4V3H5v16H3v2h12V6h2v15h4v-2h-2zm-6 0H7V5h6v14zm-3-8h2v2h-2z\"/></svg>',\n  'Meeting-room',\n  ['office', 'room', 'business', 'work', 'group', 'conversation'],\n);\nbuiltInIcons.putEntry(meetingRoom);\nconst courthouse = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M6.5 10h-2v7h2v-7zm6 0h-2v7h2v-7zm8.5 9H2v2h19v-2zm-2.5-9h-2v7h2v-7zm-7-6.74L16.71 6H6.29l5.21-2.74m0-2.26L2 6v2h19V6l-9.5-5z\"/></svg>',\n  'Courthouse',\n  [...legalSystem],\n);\nbuiltInIcons.putEntry(courthouse);\nconst flag = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12.36 6l.4 2H18v6h-3.36l-.4-2H7V6h5.36M14 4H5v17h2v-7h5.6l.4 2h7V6h-5.6L14 4z\"/></svg>',\n  'Flag',\n  ['bookmark', 'country', 'place'],\n);\nbuiltInIcons.putEntry(flag);\nconst place = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.88-2.88 7.19-5 9.88C9.92 16.21 7 11.85 7 9z\"/><circle cx=\"12\" cy=\"9\" r=\"2.5\"/></svg>',\n  'Place',\n  ['flag', 'location', 'border'],\n);\nbuiltInIcons.putEntry(place);\nconst car = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.85 7h10.29l1.08 3.11H5.77L6.85 7zM19 17H5v-5h14v5z\"/><circle cx=\"7.5\" cy=\"14.5\" r=\"1.5\"/><circle cx=\"16.5\" cy=\"14.5\" r=\"1.5\"/></svg>',\n  'Car',\n  [...vehicle],\n);\nbuiltInIcons.putEntry(car);\nconst bus = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 2c-4.42 0-8 .5-8 4v10c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4zm5.66 2.99H6.34C6.89 4.46 8.31 4 12 4s5.11.46 5.66.99zm.34 2V10H6V6.99h12zm-.34 9.74l-.29.27H6.63l-.29-.27C6.21 16.62 6 16.37 6 16v-4h12v4c0 .37-.21.62-.34.73z\"/><circle cx=\"8.5\" cy=\"14.5\" r=\"1.5\"/><circle cx=\"15.5\" cy=\"14.5\" r=\"1.5\"/></svg>',\n  'Bus',\n  [...vehicle],\n);\nbuiltInIcons.putEntry(bus);\nconst train = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><circle cx=\"8.5\" cy=\"14.5\" r=\"1.5\"/><circle cx=\"15.5\" cy=\"14.5\" r=\"1.5\"/><path d=\"M12 2c-4 0-8 .5-8 4v9.5C4 17.43 5.57 19 7.5 19L6 20.5v.5h2l2-2h4l2 2h2v-.5L16.5 19c1.93 0 3.5-1.57 3.5-3.5V6c0-3.5-4-4-8-4zm0 2c3.51 0 4.96.48 5.57 1H6.43c.61-.52 2.06-1 5.57-1zM6 7h5v3H6V7zm12 8.5c0 .83-.67 1.5-1.5 1.5h-9c-.83 0-1.5-.67-1.5-1.5V12h12v3.5zm0-5.5h-5V7h5v3z\"/></svg>',\n  'Train',\n  [...vehicle],\n);\nbuiltInIcons.putEntry(train);\nconst truck = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zm-.5 1.5l1.96 2.5H17V9.5h2.5zM6 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2.22-3c-.55-.61-1.33-1-2.22-1s-1.67.39-2.22 1H3V6h12v9H8.22zM18 18c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z\"/></svg>',\n  'Truck',\n  [...vehicle],\n);\nbuiltInIcons.putEntry(truck);\nconst taxi = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M18.92 6.01C18.72 5.42 18.16 5 17.5 5H15V3H9v2H6.5c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8l-2.08-5.99zM6.85 7h10.29l1.04 3H5.81l1.04-3zM19 17H5v-4.66l.12-.34h13.77l.11.34V17z\"/><circle cx=\"7.5\" cy=\"14.5\" r=\"1.5\"/><circle cx=\"16.5\" cy=\"14.5\" r=\"1.5\"/></svg>',\n  'Taxi',\n  [...vehicle],\n);\nbuiltInIcons.putEntry(taxi);\nconst bike = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M15.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM5 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5zm5.8-10l2.4-2.4.8.8c1.3 1.3 3 2.1 5.1 2.1V9c-1.5 0-2.7-.6-3.6-1.5l-1.9-1.9c-.5-.4-1-.6-1.6-.6s-1.1.2-1.4.6L7.8 8.4c-.4.4-.6.9-.6 1.4 0 .6.2 1.1.6 1.4L11 14v5h2v-6.2l-2.2-2.3zM19 12c-2.8 0-5 2.2-5 5s2.2 5 5 5 5-2.2 5-5-2.2-5-5-5zm0 8.5c-1.9 0-3.5-1.6-3.5-3.5s1.6-3.5 3.5-3.5 3.5 1.6 3.5 3.5-1.6 3.5-3.5 3.5z\"/></svg>',\n  'Bike',\n  [...vehicle],\n);\nbuiltInIcons.putEntry(bike);\nconst boat = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M13 3v1h-2V3h2m-1 7.11l5.38 1.77 2.39.78-1.12 3.97c-.54-.3-.94-.71-1.14-.94L16 13.96l-1.51 1.72c-.34.4-1.28 1.32-2.49 1.32s-2.15-.92-2.49-1.32L8 13.96l-1.51 1.72c-.2.23-.6.63-1.14.93l-1.13-3.96 2.4-.79L12 10.11M15 1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.26.08-.48.26-.6.5s-.15.52-.06.78L3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.89-6.68c.08-.26.06-.54-.06-.78s-.34-.42-.6-.5L20 10.62V6c0-1.1-.9-2-2-2h-3V1zM6 9.97V6h12v3.97L12 8 6 9.97zm10 9.71c-1.22.85-2.61 1.28-4 1.28s-2.78-.43-4-1.28C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 1.26.64 2.63.97 4 .97s2.74-.32 4-.97c1.26.65 2.62.99 4 .99h2v-2h-2c-1.39 0-2.78-.47-4-1.32z\"/></svg>',\n  'Boat',\n  [...vehicle],\n);\nbuiltInIcons.putEntry(boat);\nconst motorcycle = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0z\"/><path d=\"M12.72 11l-2 2h-.77l-.25-.69c-.18-.48-.42-.92-.72-1.31h3.74m2.69-6H11v2h3.59l2 2H5c-2.8 0-5 2.2-5 5s2.2 5 5 5c2.46 0 4.45-1.69 4.9-4h1.65l2.77-2.77c-.21.54-.32 1.14-.32 1.77 0 2.8 2.2 5 5 5s5-2.2 5-5c0-2.65-1.97-4.77-4.56-4.97L15.41 5zM19 17c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zM5 17c-1.63 0-3-1.37-3-3s1.37-3 3-3c1.28 0 2.4.85 2.82 2H5v2h2.82C7.4 16.15 6.28 17 5 17z\"/></svg>',\n  'Motorcycle',\n  [...vehicle],\n);\nbuiltInIcons.putEntry(motorcycle);\nconst plane = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z\"/></svg>',\n  'Plane',\n  [...vehicle, ...airport],\n);\nbuiltInIcons.putEntry(plane);\nconst flightTakeoff = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M2.5 19h19v2h-19v-2zm19.57-9.36c-.21-.8-1.04-1.28-1.84-1.06L14.92 10l-6.9-6.43-1.93.51 4.14 7.17-4.97 1.33-1.97-1.54-1.45.39 2.59 4.49L21 11.49c.81-.23 1.28-1.05 1.07-1.85z\"/></svg>',\n  'Flight-takeoff',\n  [...airport],\n);\nbuiltInIcons.putEntry(flightTakeoff);\nconst flightLanding = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M2.5 19h19v2h-19v-2zm16.84-3.15c.8.21 1.62-.26 1.84-1.06.21-.8-.26-1.62-1.06-1.84l-5.31-1.42-2.76-9.02L10.12 2v8.28L5.15 8.95l-.93-2.32-1.45-.39v5.17l16.57 4.44z\"/></svg>',\n  'Flight-landing',\n  [...airport],\n);\nbuiltInIcons.putEntry(flightLanding);\nconst shuttle = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M17 5H3c-1.1 0-2 .89-2 2v9h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-6-6zm-2 2h1l3 3h-4V7zM9 7h4v3H9V7zM3 7h4v3H3V7zm3 10.25c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25zm12 0c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25zM21 14h-.78c-.55-.61-1.34-1-2.22-1s-1.67.39-2.22 1H8.22c-.55-.61-1.33-1-2.22-1s-1.67.39-2.22 1H3v-2h18v2z\"/></svg>',\n  'Shuttle',\n  [...vehicle, ...airport],\n);\nbuiltInIcons.putEntry(shuttle);\nconst walking = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.56-.89-1.68-1.25-2.65-.84L6 8.3V13h2V9.6l1.8-.7\"/></svg>',\n  'Walking',\n  [...driving],\n);\nbuiltInIcons.putEntry(walking);\nconst traffic = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M20 10h-3V8.86c1.72-.45 3-2 3-3.86h-3V4c0-.55-.45-1-1-1H8c-.55 0-1 .45-1 1v1H4c0 1.86 1.28 3.41 3 3.86V10H4c0 1.86 1.28 3.41 3 3.86V15H4c0 1.86 1.28 3.41 3 3.86V20c0 .55.45 1 1 1h8c.55 0 1-.45 1-1v-1.14c1.72-.45 3-2 3-3.86h-3v-1.14c1.72-.45 3-2 3-3.86zm-5 9H9V5h6v14zm-3-1c.83 0 1.5-.67 1.5-1.5S12.83 15 12 15s-1.5.67-1.5 1.5.67 1.5 1.5 1.5zm0-4.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5-1.5.67-1.5 1.5.67 1.5 1.5 1.5zM12 9c.83 0 1.5-.67 1.5-1.5S12.83 6 12 6s-1.5.67-1.5 1.5S11.17 9 12 9z\"/></svg>',\n  'Traffic',\n  [...driving],\n);\nbuiltInIcons.putEntry(traffic);\nconst commute = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 4H5C3.34 4 2 5.34 2 7v8c0 1.66 1.34 3 3 3l-1 1v1h1l2-2h2v-5H4V6h9v2h2V7c0-1.66-1.34-3-3-3zM5 14c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm15.57-4.34c-.14-.4-.52-.66-.97-.66h-7.19c-.46 0-.83.26-.98.66l-1.42 4.11v5.51c0 .38.31.72.69.72h.62c.38 0 .68-.38.68-.76V18h8v1.24c0 .38.31.76.69.76h.61c.38 0 .69-.34.69-.72l.01-1.37v-4.14l-1.43-4.11zm-8.16.34h7.19l1.03 3h-9.25l1.03-3zM12 16c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm8 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z\"/></svg>',\n  'Commute',\n  [...driving],\n);\nbuiltInIcons.putEntry(commute);\nconst system = new Entry(\n  '<svg viewBox=\"0 0 24 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M20,18c1.1,0,2-0.9,2-2V6c0-1.1-0.9-2-2-2H4C2.9,4,2,4.9,2,6v10c0,1.1,0.9,2,2,2H0v2h24v-2H20z M4,6h16v10H4V6z\"/></svg>',\n  'System',\n  ['update', 'media', 'microservice', 'pc', 'computer'],\n);\nbuiltInIcons.putEntry(system);\nconst printer = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19 8h-1V3H6v5H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3zM8 5h8v3H8V5zm8 12v2H8v-4h8v2zm2-2v-2H6v2H4v-4c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v4h-2z\"/><circle cx=\"18\" cy=\"11.5\" r=\"1\"/></svg>',\n  'Printer',\n  [...print],\n);\nbuiltInIcons.putEntry(printer);\nconst document = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M8 16h8v2H8zm0-4h8v2H8zm6-10H6c-1.1 0-2 .9-2 2v16c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm4 18H6V4h7v5h5v11z\"/></svg>',\n  'Document',\n  ['folder', 'article', 'file', 'draft', 'paper', ...print],\n);\nbuiltInIcons.putEntry(document);\nconst folder = new Entry(\n  '<svg viewBox=\"0 0 24 26\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" d=\"M0,0h24v24H0V0z\"/><path d=\"M9.17,6l2,2H20v10L4,18V6H9.17 M10,4H4C2.9,4,2.01,4.9,2.01,6L2,18c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V8c0-1.1-0.9-2-2-2 h-8L10,4L10,4z\"/></svg>',\n  'Folder',\n  [...print],\n);\nbuiltInIcons.putEntry(folder);\nconst call = new Entry(\n  '<svg viewBox=\"0 0 24 26\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" d=\"M0,0h24v24H0V0z\"/><path d=\"M6.54,5C6.6,5.89,6.75,6.76,6.99,7.59l-1.2,1.2C5.38,7.59,5.12,6.32,5.03,5H6.54 M16.4,17.02c0.85,0.24,1.72,0.39,2.6,0.45 v1.49c-1.32-0.09-2.59-0.35-3.8-0.75L16.4,17.02 M7.5,3H4C3.45,3,3,3.45,3,4c0,9.39,7.61,17,17,17c0.55,0,1-0.45,1-1v-3.49\\tc0-0.55-0.45-1-1-1c-1.24,0-2.45-0.2-3.57-0.57c-0.1-0.04-0.21-0.05-0.31-0.05c-0.26,0-0.51,0.1-0.71,0.29l-2.2,2.2 c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2C9.1,8.31,9.18,7.92,9.07,7.57C8.7,6.45,8.5,5.25,8.5,4C8.5,3.45,8.05,3,7.5,3L7.5,3z\"/></svg>',\n  'Call',\n  [...calling],\n);\nbuiltInIcons.putEntry(call);\nconst email = new Entry(\n  '<svg viewBox=\"0 0 24 26\" xmlns=\"http://www.w3.org/2000/svg\"><path fill=\"none\" d=\"M0,0h24v24H0V0z\"/><path fill-opacity=\"0.9\" d=\"M12,1.95c-5.52,0-10,4.48-10,10s4.48,10,10,10h5v-2h-5c-4.34,0-8-3.66-8-8s3.66-8,8-8s8,3.66,8,8v1.43 c0,0.79-0.71,1.57-1.5,1.57S17,14.17,17,13.38v-1.43c0-2.76-2.24-5-5-5s-5,2.24-5,5s2.24,5,5,5c1.38,0,2.64-0.56,3.54-1.47 c0.65,0.89,1.77,1.47,2.96,1.47c1.97,0,3.5-1.6,3.5-3.57v-1.43C22,6.43,17.52,1.95,12,1.95z M12,14.95c-1.66,0-3-1.34-3-3 s1.34-3,3-3s3,1.34,3,3S13.66,14.95,12,14.95z\"/></svg>',\n  'Email',\n  [...calling],\n);\nbuiltInIcons.putEntry(email);\nconst copyright = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M10.08 10.86c.05-.33.16-.62.3-.87s.34-.46.59-.62c.24-.15.54-.22.91-.23.23.01.44.05.63.13.2.09.38.21.52.36s.25.33.34.53.13.42.14.64h1.79c-.02-.47-.11-.9-.28-1.29s-.4-.73-.7-1.01-.66-.5-1.08-.66-.88-.23-1.39-.23c-.65 0-1.22.11-1.7.34s-.88.53-1.2.92-.56.84-.71 1.36S8 11.29 8 11.87v.27c0 .58.08 1.12.23 1.64s.39.97.71 1.35.72.69 1.2.91c.48.22 1.05.34 1.7.34.47 0 .91-.08 1.32-.23s.77-.36 1.08-.63.56-.58.74-.94.29-.74.3-1.15h-1.79c-.01.21-.06.4-.15.58s-.21.33-.36.46-.32.23-.52.3c-.19.07-.39.09-.6.1-.36-.01-.66-.08-.89-.23-.25-.16-.45-.37-.59-.62s-.25-.55-.3-.88-.08-.67-.08-1v-.27c0-.35.03-.68.08-1.01zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/></svg>',\n  'Copyright',\n  ['contract', 'legal', 'commercial', 'copyleft'],\n);\nbuiltInIcons.putEntry(copyright);\nconst dns = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19 15v4H5v-4h14m1-2H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zM7 18.5c-.82 0-1.5-.67-1.5-1.5s.68-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM19 5v4H5V5h14m1-2H4c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h16c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1zM7 8.5c-.82 0-1.5-.67-1.5-1.5S6.18 5.5 7 5.5s1.5.68 1.5 1.5S7.83 8.5 7 8.5z\"/></svg>',\n  'DNS',\n  ['server', 'domain', 'system', 'name', 'cloud'],\n);\nbuiltInIcons.putEntry(dns);\nconst settings = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\"/></svg>',\n  'Settings',\n  [...computer],\n);\nbuiltInIcons.putEntry(settings);\nconst cellphone = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M7 22h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2zM16 .01L8 0C6.9 0 6 .9 6 2v16c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V2c0-1.1-.9-1.99-2-1.99zM16 18H8v-1h8v1zm0-3H8V5h8v10zm0-12H8V2h8v1z\"/></svg>',\n  'Cellphone',\n  [...calling],\n);\nbuiltInIcons.putEntry(cellphone);\nconst update = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M11 8v5l4.25 2.52.77-1.28-3.52-2.09V8zm10 2V3l-2.64 2.64C16.74 4.01 14.49 3 12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9h-2c0 3.86-3.14 7-7 7s-7-3.14-7-7 3.14-7 7-7c1.93 0 3.68.79 4.95 2.05L14 10h7z\"/></svg>',\n  'Update',\n  [...computer],\n);\nbuiltInIcons.putEntry(update);\nconst briefcase = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M14 6V4h-4v2h4zM4 8v11h16V8H4zm16-2c1.11 0 2 .89 2 2v11c0 1.11-.89 2-2 2H4c-1.11 0-2-.89-2-2l.01-11c0-1.11.88-2 1.99-2h4V4c0-1.11.89-2 2-2h4c1.11 0 2 .89 2 2v2h4z\"/></svg>',\n  'Briefcase',\n  [...print],\n);\nbuiltInIcons.putEntry(briefcase);\nconst microphone = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1-9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1s-1-.45-1-1V5zm6 6c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z\"/></svg>',\n  'Microphone',\n  [...print],\n);\nbuiltInIcons.putEntry(microphone);\nconst signal = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><circle cx=\"6.18\" cy=\"17.82\" r=\"2.18\"/><path d=\"M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z\"/></svg>',\n  'Signal',\n  [...computer],\n);\nbuiltInIcons.putEntry(signal);\nconst key = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M22 19h-6v-4h-2.68c-1.14 2.42-3.6 4-6.32 4-3.86 0-7-3.14-7-7s3.14-7 7-7c2.72 0 5.17 1.58 6.32 4H24v6h-2v4zm-4-2h2v-4h2v-2H11.94l-.23-.67C11.01 8.34 9.11 7 7 7c-2.76 0-5 2.24-5 5s2.24 5 5 5c2.11 0 4.01-1.34 4.71-3.33l.23-.67H18v4zM7 15c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm0-4c-.55 0-1 .45-1 1s.45 1 1 1 1-.45 1-1-.45-1-1-1z\"/></svg>',\n  'Key',\n  ['keyboard', 'lock', 'security'],\n);\nbuiltInIcons.putEntry(key);\nconst pencil = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19zM20.71 5.63l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z\"/></svg>',\n  'Pencil',\n  [...print],\n);\nbuiltInIcons.putEntry(pencil);\nconst sum = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7V4z\"/></svg>',\n  'Sum',\n  ['subtract', 'result', 'math', 'mathematics'],\n);\nbuiltInIcons.putEntry(sum);\nconst headset = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19 14v4h-2v-4h2M7 14v4H6c-.55 0-1-.45-1-1v-3h2m5-13c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h4v1h-7v2h6c1.66 0 3-1.34 3-3V10c0-4.97-4.03-9-9-9z\"/></svg>',\n  'Headset',\n  ['head', 'sound', 'microphone', 'acoustic', 'speaker', 'speak', 'noise'],\n);\nbuiltInIcons.putEntry(headset);\nconst keyboard = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\"/><path d=\"M20 7v10H4V7h16m0-2H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2zm0 3h2v2h-2zM8 8h2v2H8zm0 3h2v2H8zm-3 0h2v2H5zm0-3h2v2H5zm3 6h8v2H8zm6-3h2v2h-2zm0-3h2v2h-2zm3 3h2v2h-2zm0-3h2v2h-2z\"/></svg>',\n  'Keyboard',\n  [\n    'key',\n    'up',\n    'down',\n    'top',\n    'bottom',\n    'arrow',\n    'space',\n    'tab',\n    'enter',\n    'control',\n    'command',\n    ...computer,\n    'mouse',\n  ],\n);\nbuiltInIcons.putEntry(keyboard);\nconst mouse = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M20 9c-.04-4.39-3.6-7.93-8-7.93S4.04 4.61 4 9v6c0 4.42 3.58 8 8 8s8-3.58 8-8V9zm-2 0h-5V3.16c2.81.47 4.96 2.9 5 5.84zm-7-5.84V9H6c.04-2.94 2.19-5.37 5-5.84zM18 15c0 3.31-2.69 6-6 6s-6-2.69-6-6v-4h12v4z\"/></svg>',\n  'Mouse',\n  ['scrolling', 'click', 'mouse up', 'mouse down', 'move'],\n);\nbuiltInIcons.putEntry(mouse);\nconst router = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\"/><path d=\"M16 4.2c1.5 0 3 .6 4.2 1.7l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2zm-3.3 2.5l.8.8c.7-.7 1.6-1 2.5-1s1.8.3 2.5 1l.8-.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zm0 6H5v-4h14v4zM6 16h2v2H6zm3.5 0h2v2h-2zm3.5 0h2v2h-2z\"/></svg>',\n  'Router',\n  ['net', 'network', 'dns', 'domain', 'wifi', 'wi-fi'],\n);\nbuiltInIcons.putEntry(router);\nconst scanner = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19.8 10.7L4.2 5l-.7 1.9L17.6 12H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-5.5c0-.8-.5-1.6-1.2-1.8zM19 18H5v-4h14v4zM6 15h2v2H6zm4 0h8v2h-8z\"/></svg>',\n  'Scanner',\n  ['qr code', 'bar code', 'document', ...print],\n);\nbuiltInIcons.putEntry(scanner);\nconst security = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z\"/></svg>',\n  'Security',\n  [...computer],\n);\nbuiltInIcons.putEntry(security);\nconst desktop = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M21 2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v2H8v2h8v-2h-2v-2h7c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H3V4h18v12z\"/></svg>',\n  'Desktop',\n  [...computer],\n);\nbuiltInIcons.putEntry(desktop);\nconst speakerPhone = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M7 7.07L8.43 8.5c.91-.91 2.18-1.48 3.57-1.48s2.66.57 3.57 1.48L17 7.07C15.72 5.79 13.95 5 12 5s-3.72.79-5 2.07zM12 1C8.98 1 6.24 2.23 4.25 4.21l1.41 1.41C7.28 4 9.53 3 12 3s4.72 1 6.34 2.62l1.41-1.41C17.76 2.23 15.02 1 12 1zm2.86 9.01L9.14 10C8.51 10 8 10.51 8 11.14v9.71c0 .63.51 1.14 1.14 1.14h5.71c.63 0 1.14-.51 1.14-1.14v-9.71c.01-.63-.5-1.13-1.13-1.13zM15 20H9v-8h6v8z\"/></svg>',\n  'Speaker-phone',\n  [...speaker],\n);\nbuiltInIcons.putEntry(speakerPhone);\nconst tablet = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\"/><path d=\"M18 0H6C4.34 0 3 1.34 3 3v18c0 1.66 1.34 3 3 3h12c1.66 0 3-1.34 3-3V3c0-1.66-1.34-3-3-3zm-4 22h-4v-1h4v1zm5.25-3H4.75V3h14.5v16z\"/></svg>',\n  'Tablet',\n  [...computer],\n);\nbuiltInIcons.putEntry(tablet);\nconst label = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 1.99 2 1.99L16 19c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16zM16 17H5V7h11l3.55 5L16 17z\"/></svg>',\n  'Label',\n  ['book', 'bookmark', 'flag'],\n);\nbuiltInIcons.putEntry(label);\nconst receipt = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19.5 3.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5zM19 19.09H5V4.91h14v14.18zM6 15h12v2H6zm0-4h12v2H6zm0-4h12v2H6z\"/></svg>',\n  'Receipt',\n  ['order', 'email receipt'],\n);\nbuiltInIcons.putEntry(receipt);\nconst calendar = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\" /><path d=\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V9h14v10zm0-12H5V5h14v2zM7 11h5v5H7z\" /></svg>',\n  'Calendar',\n  ['year', 'month', 'day', 'holiday', 'photo', 'meeting'],\n);\nbuiltInIcons.putEntry(calendar);\nconst cloud = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6m0-2C9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96C18.67 6.59 15.64 4 12 4z\"/></svg>',\n  'Cloud',\n  [...computer],\n);\nbuiltInIcons.putEntry(cloud);\nconst assessment = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z\"/></svg>',\n  'Assessment',\n  ['evaluation', 'rating', 'judgment', 'estimate'],\n);\nbuiltInIcons.putEntry(assessment);\nconst dashboard = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19 5v2h-4V5h4M9 5v6H5V5h4m10 8v6h-4v-6h4M9 17v2H5v-2h4M21 3h-8v6h8V3zM11 3H3v10h8V3zm10 8h-8v10h8V11zm-10 4H3v6h8v-6z\"/></svg>',\n  'Dashboard',\n  [...computer],\n);\nbuiltInIcons.putEntry(dashboard);\nconst pieChart = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm7.93 9H13V4.07c3.61.45 6.48 3.32 6.93 6.93zM4 12c0-4.07 3.06-7.44 7-7.93v15.86c-3.94-.49-7-3.86-7-7.93zm9 7.93V13h6.93c-.45 3.61-3.32 6.48-6.93 6.93z\"/></svg>',\n  'Pie-chart',\n  ['business', 'sales', 'financial', 'commercial', 'demographic', 'market'],\n);\nbuiltInIcons.putEntry(pieChart);\nconst problem = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z\"/></svg>',\n  'Problem',\n  [...infoDialogs],\n);\nbuiltInIcons.putEntry(problem);\nconst pictureAsPdf = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm12 6V9c0-.55-.45-1-1-1h-2v5h2c.55 0 1-.45 1-1zm-2-3h1v3h-1V9zm4 2h1v-1h-1V9h1V8h-2v5h1zm-8 0h1c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1H9v5h1v-2zm0-2h1v1h-1V9z\"/></svg>',\n  'Picture-as-PDF',\n  [...print],\n);\nbuiltInIcons.putEntry(pictureAsPdf);\nconst grid = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z\"/></svg>',\n  'Grid',\n  [\n    'table',\n    'matrix',\n    'layout',\n    'grid view',\n    'mesh',\n    'pattern',\n    'dashboard',\n    'window',\n  ],\n);\nbuiltInIcons.putEntry(grid);\nconst watch = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M14.31 2l.41 2.48C13.87 4.17 12.96 4 12 4c-.95 0-1.87.17-2.71.47L9.7 2h4.61m.41 17.52L14.31 22H9.7l-.41-2.47c.84.3 1.76.47 2.71.47.96 0 1.87-.17 2.72-.48M16 0H8l-.95 5.73C5.19 7.19 4 9.45 4 12s1.19 4.81 3.05 6.27L8 24h8l.96-5.73C18.81 16.81 20 14.54 20 12s-1.19-4.81-3.04-6.27L16 0zm-4 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z\"/></svg>',\n  'Watch',\n  [...times],\n);\nbuiltInIcons.putEntry(watch);\nconst euro = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M15 18.5c-2.51 0-4.68-1.42-5.76-3.5H15v-2H8.58c-.05-.33-.08-.66-.08-1s.03-.67.08-1H15V9H9.24C10.32 6.92 12.5 5.5 15 5.5c1.61 0 3.09.59 4.23 1.57L21 5.3C19.41 3.87 17.3 3 15 3c-3.92 0-7.24 2.51-8.48 6H3v2h3.06c-.04.33-.06.66-.06 1s.02.67.06 1H3v2h3.52c1.24 3.49 4.56 6 8.48 6 2.31 0 4.41-.87 6-2.3l-1.78-1.77c-1.13.98-2.6 1.57-4.22 1.57z\"/></svg>',\n  'Euro',\n  [...finance],\n);\nbuiltInIcons.putEntry(euro);\nconst dollar = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z\"/></svg>',\n  'Dollar',\n  [...finance],\n);\nbuiltInIcons.putEntry(dollar);\nconst info = new Entry(\n  '<svg height=\"48\" viewBox=\"0 0 24 26\" width=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M11 17h2v-6h-2v6zm1-15C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zM11 9h2V7h-2v2z\"/></svg>',\n  'Info',\n  [...infoDialogs],\n);\nbuiltInIcons.putEntry(info);\nconst alarm = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12.5 8H11v6l4.75 2.85.75-1.23-4-2.37zm4.837-6.19l4.607 3.845-1.28 1.535-4.61-3.843zm-10.674 0l1.282 1.536L3.337 7.19l-1.28-1.536zM12 4c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7z\"/></svg>',\n  'Alarm',\n  [...infoDialogs],\n);\nbuiltInIcons.putEntry(alarm);\nconst wrench = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M22.61 18.99l-9.08-9.08c.93-2.34.45-5.1-1.44-7C9.79.61 6.21.4 3.66 2.26L7.5 6.11 6.08 7.52 2.25 3.69C.39 6.23.6 9.82 2.9 12.11c1.86 1.86 4.57 2.35 6.89 1.48l9.11 9.11c.39.39 1.02.39 1.41 0l2.3-2.3c.4-.38.4-1.01 0-1.41zm-3 1.6l-9.46-9.46c-.61.45-1.29.72-2 .82-1.36.2-2.79-.21-3.83-1.25C3.37 9.76 2.93 8.5 3 7.26l3.09 3.09 4.24-4.24-3.09-3.09c1.24-.07 2.49.37 3.44 1.31 1.08 1.08 1.49 2.57 1.24 3.96-.12.71-.42 1.37-.88 1.96l9.45 9.45-.88.89z\"/></svg>',\n  'Wrench',\n  [\n    'reset',\n    'build',\n    'plumbing',\n    'construction',\n    'tool',\n    'fix',\n    'repair',\n    'settings',\n    'mechanic',\n    'hardware',\n    'maintenance',\n    'spanner',\n    'tighten',\n  ],\n);\nbuiltInIcons.putEntry(wrench);\nconst circleArrows = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z\"/></svg>',\n  'Circle-Arrows',\n  [\n    'refresh',\n    'reload',\n    'rewind',\n    'cycle',\n    'rotate',\n    'loop',\n    'reset',\n    'continuous',\n    'recycle',\n    'sync',\n    'return',\n  ],\n);\nbuiltInIcons.putEntry(circleArrows);\nconst creditCard = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z\"/></svg>',\n  'Credit-Card',\n  [...finance],\n);\nbuiltInIcons.putEntry(creditCard);\nconst favorite = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z\"/></svg>',\n  'Favorite',\n  [...rating],\n);\nbuiltInIcons.putEntry(favorite);\nconst gavel = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M1 21h12v2H1v-2zM5.24 8.07l2.83-2.83 14.14 14.14-2.83 2.83L5.24 8.07zM12.32 1l5.66 5.66-2.83 2.83-5.66-5.66L12.32 1zM3.83 9.48l5.66 5.66-2.83 2.83L1 12.31l2.83-2.83z\"/></svg>',\n  'Gavel',\n  [...legalSystem],\n);\nbuiltInIcons.putEntry(gavel);\nconst blind = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/><circle cx=\"8\" cy=\"14\" r=\"2\"/><circle cx=\"12\" cy=\"8\" r=\"2\"/><circle cx=\"16\" cy=\"14\" r=\"2\"/></svg>',\n  'Blind',\n  ['curtains', 'blinds', 'roller shades', 'closed', 'no sight', 'low vision'],\n);\nbuiltInIcons.putEntry(blind);\nconst hourglass = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z\"/></svg>',\n  'Hourglass',\n  ['empty', 'top', 'bottom', 'disabled', ...times],\n);\nbuiltInIcons.putEntry(hourglass);\nconst time = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z\"/></svg>',\n  'Time',\n  [...times],\n);\nbuiltInIcons.putEntry(time);\nconst search = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/></svg>',\n  'Search',\n  [\n    ...computer,\n    'query',\n    'zoom in',\n    'zoom out',\n    'since',\n    'policy',\n    'find',\n    'experiment',\n    'labs',\n    'check',\n    'biotech',\n    'signal',\n  ],\n);\nbuiltInIcons.putEntry(search);\nconst shopping = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M15.55 13c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.37-.66-.11-1.48-.87-1.48H5.21l-.94-2H1v2h2l3.6 7.59-1.35 2.44C4.52 15.37 5.48 17 7 17h12v-2H7l1.1-2h7.45zM6.16 6h12.15l-2.76 5H8.53L6.16 6zM7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z\"/></svg>',\n  'Shopping',\n  [\n    ...finance,\n    'sopping card',\n    'selling',\n    'buying',\n    'barcode',\n    'price',\n    'business',\n    'mall',\n    'paid',\n    'scanner',\n    'change',\n    'store',\n  ],\n);\nbuiltInIcons.putEntry(shopping);\nconst thumbUp = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\"/><path d=\"M9 21h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.58 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2zM9 9l4.34-4.34L12 10h9v2l-3 7H9V9zM1 9h4v12H1z\"/></svg>',\n  'Thumb-up',\n  [...rating, 'thumb down', 'thumb up down'],\n);\nbuiltInIcons.putEntry(thumbUp);\nconst thumbDown = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\"/><path d=\"M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v2c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm0 12l-4.34 4.34L12 14H3v-2l3-7h9v10zm4-12h4v12h-4z\"/></svg>',\n  'Thumb-down',\n  [...rating, 'thumb up', 'thumb up down'],\n);\nbuiltInIcons.putEntry(thumbDown);\nconst thumbUpDown = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\"/><path d=\"M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm-2 1.13L7.92 12H2V6.21l1.93-1.93L3.36 7H10v.13zM22.5 10h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5zm-.5 7.79l-1.93 1.93.57-2.72H14v-.13L16.08 12H22v5.79z\"/></svg>',\n  'Thumb-up-down',\n  [...rating, 'thumb down', 'thumb down'],\n);\nbuiltInIcons.putEntry(thumbUpDown);\nconst couch = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M21 9V7c0-1.65-1.35-3-3-3H6C4.35 4 3 5.35 3 7v2c-1.65 0-3 1.35-3 3v5c0 1.65 1.35 3 3 3h18c1.65 0 3-1.35 3-3v-5c0-1.65-1.35-3-3-3zM5 7c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v2.78c-.61.55-1 1.34-1 2.22v2H6v-2c0-.88-.39-1.67-1-2.22V7zm17 10c0 .55-.45 1-1 1H3c-.55 0-1-.45-1-1v-5c0-.55.45-1 1-1s1 .45 1 1v4h16v-4c0-.55.45-1 1-1s1 .45 1 1v5z\"/></svg>',\n  'Couch',\n  [\n    'chair',\n    'weekend',\n    'scene',\n    'living',\n    'sofa',\n    'furniture',\n    'seat',\n    'rest',\n    'relax',\n    'living room',\n    'comfort',\n    'interior design',\n  ],\n);\nbuiltInIcons.putEntry(couch);\nconst attach = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 28\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z\"/></svg>',\n  'Attach',\n  [\n    'file',\n    'ling',\n    'email',\n    'media',\n    'money',\n    'include',\n    'pin',\n    'append',\n    'drag and drop',\n    'combine',\n    'join',\n    'insert',\n    'upload',\n  ],\n);\nbuiltInIcons.putEntry(attach);\nconst ruler = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm0 10H3V8h2v4h2V8h2v4h2V8h2v4h2V8h2v4h2V8h2v8z\"/></svg>',\n  'Ruler',\n  [\n    'design service',\n    'straighten',\n    'square foot',\n    'measuring tool',\n    'scale',\n    'geometry',\n    'math',\n    'length',\n    'inch',\n    'meter',\n    'line',\n    'precision',\n  ],\n);\nbuiltInIcons.putEntry(ruler);\nconst education = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z\"/></svg>',\n  'Education',\n  [\n    'school',\n    'learning',\n    'books',\n    'teacher',\n    'student',\n    'classroom',\n    'knowledge',\n    'graduation',\n    'academics',\n    'academy',\n    'university',\n    'pencil',\n    'e-learning',\n    'literacy',\n    'research',\n    'tutoring',\n  ],\n);\nbuiltInIcons.putEntry(education);\nconst howToReg = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" fill=\"none\" d=\"M0 0h24v24H0z\"/><g fill-rule=\"evenodd\" clip-rule=\"evenodd\"><path d=\"M9 17l3-2.94c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9l-3-3zm2-5c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4\"/><path d=\"M15.47 20.5L12 17l1.4-1.41 2.07 2.08 5.13-5.17 1.4 1.41z\"/></g></svg>',\n  'How-To-Reg',\n  ['registration', 'sign up', 'guid', 'tutorial', 'help', 'support'],\n);\nbuiltInIcons.putEntry(howToReg);\nconst viewList = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 26\"><path opacity=\".87\" fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M3 5v14h17V5H3zm4 2v2H5V7h2zm-2 6v-2h2v2H5zm0 2h2v2H5v-2zm13 2H9v-2h9v2zm0-4H9v-2h9v2zm0-4H9V7h9v2z\"/></svg>',\n  'View-List',\n  [\n    'filtered list',\n    'sorted',\n    'check list',\n    'summarized',\n    'items',\n    'data list',\n    'menu',\n    'catalog',\n    'overview',\n    'table',\n    'content List',\n    'grid view',\n  ],\n);\nbuiltInIcons.putEntry(viewList);\nconst accessible = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><circle cx=\"12\" cy=\"4\" r=\"2\"/><path d=\"M19 13v-2c-1.54.02-3.09-.75-4.07-1.83l-1.29-1.43c-.17-.19-.38-.34-.61-.45-.01 0-.01-.01-.02-.01H13c-.35-.2-.75-.3-1.19-.26C10.76 7.11 10 8.04 10 9.09V15c0 1.1.9 2 2 2h5v5h2v-5.5c0-1.1-.9-2-2-2h-3v-3.45c1.29 1.07 3.25 1.94 5 1.95zm-9 7c-1.66 0-3-1.34-3-3 0-1.31.84-2.41 2-2.83V12.1c-2.28.46-4 2.48-4 4.9 0 2.76 2.24 5 5 5 2.42 0 4.44-1.72 4.9-4h-2.07c-.41 1.16-1.52 2-2.83 2z\"/></svg>',\n  'Accessible',\n  [\n    'subtitles',\n    'caption',\n    'forward',\n    'blind',\n    'disability',\n    'wheelchair',\n    'hearing',\n    'support',\n    'handicap',\n    'barrier free',\n  ],\n);\nbuiltInIcons.putEntry(accessible);\nconst accountCircle = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><g><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7.35 18.5C8.66 17.56 10.26 17 12 17s3.34.56 4.65 1.5c-1.31.94-2.91 1.5-4.65 1.5s-3.34-.56-4.65-1.5zm10.79-1.38C16.45 15.8 14.32 15 12 15s-4.45.8-6.14 2.12C4.7 15.73 4 13.95 4 12c0-4.42 3.58-8 8-8s8 3.58 8 8c0 1.95-.7 3.73-1.86 5.12z\"/><path d=\"M12 6c-1.93 0-3.5 1.57-3.5 3.5S10.07 13 12 13s3.5-1.57 3.5-3.5S13.93 6 12 6zm0 5c-.83 0-1.5-.67-1.5-1.5S11.17 8 12 8s1.5.67 1.5 1.5S12.83 11 12 11z\"/></g></g></svg>',\n  'Account-Circle',\n  [...people],\n);\nbuiltInIcons.putEntry(accountCircle);\nconst assignment = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24px\" height=\"24px\" viewBox=\"0 0 24 24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M7 15h7v2H7zm0-4h10v2H7zm0-4h10v2H7zm12-4h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-.14 0-.27.01-.4.04-.39.08-.74.28-1.01.55-.18.18-.33.4-.43.64-.1.23-.16.49-.16.77v14c0 .27.06.54.16.78s.25.45.43.64c.27.27.62.47 1.01.55.13.02.26.03.4.03h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-.25c.41 0 .75.34.75.75s-.34.75-.75.75-.75-.34-.75-.75.34-.75.75-.75zM19 19H5V5h14v14z\"/></svg>',\n  'Assignment',\n  [\n    'task',\n    'projekt',\n    'work',\n    'due date',\n    'homework',\n    'list',\n    'checklist',\n    'introduction',\n    'schedule',\n  ],\n);\nbuiltInIcons.putEntry(assignment);\nconst battery = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><path d=\"M17,5v16c0,0.55-0.45,1-1,1H8c-0.55,0-1-0.45-1-1V5c0-0.55,0.45-1,1-1h2V2h4v2h2C16.55,4,17,4.45,17,5z M15,6H9v14h6V6z\"/></g></svg>',\n  'Battery',\n  [\n    'full',\n    'empty',\n    'charge',\n    'low',\n    'charging 90',\n    'charging 80',\n    'status',\n    'power',\n    'capacity',\n    'recharge',\n    'ac/dc',\n    'power source',\n    'lithium ion',\n    'power bank',\n    'electronics',\n    'energy',\n    'voltage',\n  ],\n);\nbuiltInIcons.putEntry(battery);\nconst book = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M18 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM9 4h2v5l-1-.75L9 9V4zm9 16H6V4h1v9l3-2.25L13 13V4h5v16z\"/></svg>',\n  'Book',\n  [...rating],\n);\nbuiltInIcons.putEntry(book);\nconst bug = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5s-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20V8zm-4 4v3c0 .22-.03.47-.07.7l-.1.65-.37.65c-.72 1.24-2.04 2-3.46 2s-2.74-.77-3.46-2l-.37-.64-.1-.65C8.03 15.48 8 15.23 8 15v-4c0-.23.03-.48.07-.7l.1-.65.37-.65c.3-.52.72-.97 1.21-1.31l.57-.39.74-.18c.31-.08.63-.12.94-.12.32 0 .63.04.95.12l.68.16.61.42c.5.34.91.78 1.21 1.31l.38.65.1.65c.04.22.07.47.07.69v1zm-6 2h4v2h-4zm0-4h4v2h-4z\"/></svg>',\n  'Bug',\n  [\n    ...infoDialogs,\n    'report',\n    'nature',\n    'software',\n    'code',\n    'defect',\n    'fault',\n    'malfunction',\n    'debugging',\n    'insect',\n  ],\n);\nbuiltInIcons.putEntry(bug);\nconst changeHistory = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 7.77L18.39 18H5.61L12 7.77M12 4L2 20h20L12 4z\"/></svg>',\n  'Change-History',\n  [\n    'schedule',\n    'update',\n    'timeline',\n    'logging',\n    'backup',\n    'restore',\n    'documentation',\n    'tracking',\n    'vision control',\n  ],\n);\nbuiltInIcons.putEntry(changeHistory);\nconst checkCircle = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z\"/></svg>',\n  'Check-Circle',\n  [\n    'confirmation',\n    'done',\n    'verified',\n    'approval',\n    'checked',\n    'complete',\n    'green check',\n    'mark',\n    'success',\n    'finish',\n    'good',\n  ],\n);\nbuiltInIcons.putEntry(checkCircle);\nconst code = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"/></svg>',\n  'Code',\n  [\n    'terminal',\n    'console',\n    ...computer,\n    'password',\n    'barcode',\n    'programming',\n    'developer',\n    'script',\n    'software',\n    'syntax',\n    'security',\n  ],\n);\nbuiltInIcons.putEntry(code);\nconst contactMail = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2zm0 16H2V5h20v14zM21 6h-7v5h7V6zm-1 2l-2.5 1.75L15 8V7l2.5 1.75L20 7v1zM9 12c1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3 1.35 3 3 3zm0-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm6 8.59c0-2.5-3.97-3.58-6-3.58s-6 1.08-6 3.58V18h12v-1.41zM5.48 16c.74-.5 2.22-1 3.52-1s2.77.49 3.52 1H5.48z\"/></svg>',\n  'Contact-Mail',\n  [...calling],\n);\nbuiltInIcons.putEntry(contactMail);\nconst crop = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z\"/></svg>',\n  'Crop',\n  [\n    'screenshot',\n    'landscape',\n    'transform',\n    'cut',\n    'framing',\n    'select area',\n    'trimming',\n    'crop tool',\n    'rectangle',\n    'square',\n  ],\n);\nbuiltInIcons.putEntry(crop);\nconst dvr = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 14H3V5h18v12zm-2-9H8v2h11V8zm0 4H8v2h11v-2zM7 8H5v2h2V8zm0 4H5v2h2v-2z\"/></svg>',\n  'DVR',\n  [...entertainment],\n);\nbuiltInIcons.putEntry(dvr);\nconst error = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z\"/></svg>',\n  'Error',\n  [...infoDialogs],\n);\nbuiltInIcons.putEntry(error);\nconst extension = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M10.5 4.5c.28 0 .5.22.5.5v2h6v6h2c.28 0 .5.22.5.5s-.22.5-.5.5h-2v6h-2.12c-.68-1.75-2.39-3-4.38-3s-3.7 1.25-4.38 3H4v-2.12c1.75-.68 3-2.39 3-4.38 0-1.99-1.24-3.7-2.99-4.38L4 7h6V5c0-.28.22-.5.5-.5m0-2C9.12 2.5 8 3.62 8 5H4c-1.1 0-1.99.9-1.99 2v3.8h.29c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-.3c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7v.3H17c1.1 0 2-.9 2-2v-4c1.38 0 2.5-1.12 2.5-2.5S20.38 11 19 11V7c0-1.1-.9-2-2-2h-4c0-1.38-1.12-2.5-2.5-2.5z\"/></svg>',\n  'Extension',\n  [\n    'add on',\n    'plugin',\n    'feature',\n    'modification',\n    'utility',\n    'package',\n    'upgrade',\n    'update',\n    'software',\n    'tool',\n  ],\n);\nbuiltInIcons.putEntry(extension);\nconst face = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M10.25 13c0 .69-.56 1.25-1.25 1.25S7.75 13.69 7.75 13s.56-1.25 1.25-1.25 1.25.56 1.25 1.25zM15 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm7 .25c0 5.52-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2s10 4.48 10 10zM10.66 4.12C12.06 6.44 14.6 8 17.5 8c.46 0 .91-.05 1.34-.12C17.44 5.56 14.9 4 12 4c-.46 0-.91.05-1.34.12zM4.42 9.47c1.71-.97 3.03-2.55 3.66-4.44C6.37 6 5.05 7.58 4.42 9.47zM20 12c0-.78-.12-1.53-.33-2.24-.7.15-1.42.24-2.17.24-3.13 0-5.92-1.44-7.76-3.69C8.69 8.87 6.6 10.88 4 11.86c.01.04 0 .09 0 .14 0 4.41 3.59 8 8 8s8-3.59 8-8z\"/></svg>',\n  'Face',\n  [\n    ...people,\n    'smile',\n    'emotion',\n    'expression',\n    'head',\n    'mask',\n    'appearance',\n    'character',\n  ],\n);\nbuiltInIcons.putEntry(face);\nconst fastfood = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M1 21.98c0 .56.45 1.01 1.01 1.01H15c.56 0 1.01-.45 1.01-1.01V21H1v.98zM8.5 8.99C4.75 8.99 1 11 1 15h15c0-4-3.75-6.01-7.5-6.01zM3.62 13c1.11-1.55 3.47-2.01 4.88-2.01s3.77.46 4.88 2.01H3.62zM1 17h15v2H1zM18 5V1h-2v4h-5l.23 2h9.56l-1.4 14H18v2h1.72c.84 0 1.53-.65 1.63-1.47L23 5h-5z\"/></svg>',\n  'Fastfood',\n  [...groceries],\n);\nbuiltInIcons.putEntry(fastfood);\nconst fingerprint = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39s-4.66 1.97-4.66 4.39c0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94s3.08 1.32 3.08 2.94c0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z\"/></svg>',\n  'Fingerprint',\n  ['security', 'crime', 'authentication', 'identity', 'access', 'login'],\n);\nbuiltInIcons.putEntry(fingerprint);\nconst hand = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M18 24h-6.55c-1.08 0-2.14-.45-2.89-1.23l-7.3-7.61 2.07-1.83c.62-.55 1.53-.66 2.26-.27L8 14.34V4.79c0-1.38 1.12-2.5 2.5-2.5.17 0 .34.02.51.05.09-1.3 1.17-2.33 2.49-2.33.86 0 1.61.43 2.06 1.09.29-.12.61-.18.94-.18 1.38 0 2.5 1.12 2.5 2.5v.28c.16-.03.33-.05.5-.05 1.38 0 2.5 1.12 2.5 2.5V20c0 2.21-1.79 4-4 4zM4.14 15.28l5.86 6.1c.38.39.9.62 1.44.62H18c1.1 0 2-.9 2-2V6.15c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V3.42c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V2.51c0-.28-.22-.5-.5-.5s-.5.22-.5.5V12h-2V4.79c0-.28-.22-.5-.5-.5s-.5.23-.5.5v12.87l-5.35-2.83-.51.45z\"/></svg>',\n  'Hand',\n  [...fingers],\n);\nbuiltInIcons.putEntry(hand);\nconst help = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\"/></svg>',\n  'Help',\n  [...fingers],\n);\nbuiltInIcons.putEntry(help);\nconst image = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L9 13.14 6 17h12l-3.86-5.14z\"/></svg>',\n  'Image',\n  [...print],\n);\nbuiltInIcons.putEntry(image);\nconst lightbulb = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z\"/></svg>',\n  'Lightbulb',\n  [\n    'fluorescent',\n    'circle',\n    'idea',\n    'inspiration',\n    'creativity',\n    'illumination',\n    'energy',\n    'solution',\n    'lightning',\n    'lamp',\n    'vision',\n    'glow',\n    'light source',\n  ],\n);\nbuiltInIcons.putEntry(lightbulb);\nconst lock = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><g fill=\"none\"><path d=\"M0 0h24v24H0V0z\"/><path d=\"M0 0h24v24H0V0z\" opacity=\".87\"/></g><path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\"/></svg>',\n  'Lock',\n  [\n    'key',\n    'timer',\n    'schedule',\n    'grid view',\n    'face',\n    'password',\n    'security',\n    'safety',\n    'secure',\n    'unlock',\n    'access',\n    'protection',\n  ],\n);\nbuiltInIcons.putEntry(lock);\nconst loyalty = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M21.41 11.58l-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42zM13 20.01L4 11V4h7v-.01l9 9-7 7.02z\"/><circle cx=\"6.5\" cy=\"6.5\" r=\"1.5\"/><path d=\"M8.9 12.55c0 .57.23 1.07.6 1.45l3.5 3.5 3.5-3.5c.37-.37.6-.89.6-1.45 0-1.13-.92-2.05-2.05-2.05-.57 0-1.08.23-1.45.6l-.6.6-.6-.59c-.37-.38-.89-.61-1.45-.61-1.13 0-2.05.92-2.05 2.05z\"/></svg>',\n  'Loyalty',\n  ['dog', 'trust', 'partnership', 'honor', 'faithfulness', 'long therm'],\n);\nbuiltInIcons.putEntry(loyalty);\nconst pictureInPicture = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M19 7h-8v6h8V7zm-2 4h-4V9h4v2zm4-8H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z\"/></svg>',\n  'Picture-in-Picture',\n  [...print],\n);\nbuiltInIcons.putEntry(pictureInPicture);\nconst portrait = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M12 12c1.65 0 3-1.35 3-3s-1.35-3-3-3-3 1.35-3 3 1.35 3 3 3zm0-4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm6 8.58c0-2.5-3.97-3.58-6-3.58s-6 1.08-6 3.58V18h12v-1.42zM8.48 16c.74-.51 2.23-1 3.52-1s2.78.49 3.52 1H8.48zM19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z\"/></svg>',\n  'Portrait',\n  [...people, ...print],\n);\nbuiltInIcons.putEntry(portrait);\nconst rocket = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><g><g><path d=\"M14,11c0-1.1-0.9-2-2-2s-2,0.9-2,2s0.9,2,2,2S14,12.1,14,11z M7.98,18.25c-0.29-0.9-0.57-1.94-0.76-3L6,16.07v2.98 L7.98,18.25z M12,2c0,0,5,2,5,11l2.11,1.41c0.56,0.37,0.89,1,0.89,1.66V22l-5-2H9l-5,2v-5.93c0-0.67,0.33-1.29,0.89-1.66L7,13 C7,4,12,2,12,2z M12,4.36c0,0-3,2.02-3,8.64c0,2.25,1,5,1,5h4c0,0,1-2.75,1-5C15,6.38,12,4.36,12,4.36z M18,19.05v-2.98 l-1.22-0.81c-0.19,1.05-0.47,2.1-0.76,3L18,19.05z\"/></g></g></g></svg>',\n  'Rocket',\n  [...vehicle, ...airport],\n);\nbuiltInIcons.putEntry(rocket);\nconst satellite = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><path d=\"M21,14l2,0c0,4.97-4.03,9-9,9l0-2C17.87,21,21,17.87,21,14z M14,17l0,2c2.76,0,5-2.24,5-5l-2,0C17,15.66,15.66,17,14,17z M18.26,0.59l3.54,3.54c0.78,0.78,0.78,2.05,0,2.83l-3.18,3.18c-0.78,0.78-2.05,0.78-2.83,0l-1.24-1.24L13.84,9.6l1.24,1.24 c0.78,0.78,0.78,2.05,0,2.83l-1.41,1.41c-0.78,0.78-2.05,0.78-2.83,0L9.6,13.84l-0.71,0.71l1.24,1.24c0.78,0.78,0.78,2.05,0,2.83 L6.95,21.8c-0.78,0.78-2.05,0.78-2.83,0l-3.54-3.54c-0.78-0.78-0.78-2.05,0-2.83l3.18-3.18c0.78-0.78,2.05-0.78,2.83,0l1.24,1.24 l0.71-0.71L7.3,11.55c-0.78-0.78-0.78-2.05,0-2.83L8.72,7.3c0.78-0.78,2.05-0.78,2.83,0l1.24,1.24l0.71-0.71L12.25,6.6 c-0.78-0.78-0.78-2.05,0-2.83l3.18-3.18C16.22-0.2,17.48-0.2,18.26,0.59z M3.06,15.79L2,16.85l3.54,3.54l1.06-1.06L3.06,15.79z M5.18,13.67l-1.06,1.06l3.54,3.54l1.06-1.06L5.18,13.67z M10.13,8.72l-1.41,1.41l3.54,3.54l1.41-1.41L10.13,8.72z M14.73,4.12 l-1.06,1.06l3.54,3.54l1.06-1.06L14.73,4.12z M16.85,2l-1.06,1.06l3.54,3.54l1.06-1.06L16.85,2z\"/></g></svg>',\n  'Satellite',\n  [...airport],\n);\nbuiltInIcons.putEntry(satellite);\nconst share = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z\"/></svg>',\n  'Share',\n  ['send', 'link', 'mobile', 'location', 'upload', 'download', ...calling],\n);\nbuiltInIcons.putEntry(share);\nconst slideshow = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M10 8v8l5-4-5-4zm9-5H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z\"/></svg>',\n  'Slideshow',\n  ['send', 'link', 'mobile', 'location', 'upload', 'download', ...calling],\n);\nbuiltInIcons.putEntry(slideshow);\nconst star = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>',\n  'Star',\n  [...rating],\n);\nbuiltInIcons.putEntry(star);\nconst sun = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79zM1 10.5h3v2H1zM11 .55h2V3.5h-2zm8.04 2.495l1.408 1.407-1.79 1.79-1.407-1.408zm-1.8 15.115l1.79 1.8 1.41-1.41-1.8-1.79zM20 10.5h3v2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm0 10c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm-1 4h2v2.95h-2zm-7.45-.96l1.41 1.41 1.79-1.8-1.41-1.41z\"/></svg>',\n  'Sun',\n  [\n    'light mode',\n    'solar power',\n    'clear day',\n    'curtains',\n    'star',\n    'summer',\n    'warm',\n    'energy',\n  ],\n);\nbuiltInIcons.putEntry(sun);\nconst table = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/></g><g><g><path d=\"M21.96,9.73l-1.43-5C20.41,4.3,20.02,4,19.57,4H4.43C3.98,4,3.59,4.3,3.47,4.73l-1.43,5C1.86,10.36,2.34,11,3,11h2.2L4,20 h2l0.67-5h10.67L18,20h2l-1.2-9H21C21.66,11,22.14,10.36,21.96,9.73z M6.93,13l0.27-2h9.6l0.27,2H6.93z M4.33,9l0.86-3h13.63 l0.86,3H4.33z\"/></g></g></svg>',\n  'Table',\n  ['device', 'furniture', 'desk', 'dining', 'meeting'],\n);\nbuiltInIcons.putEntry(table);\nconst videocam = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path d=\"M15 8v8H5V8h10m1-2H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4V7c0-.55-.45-1-1-1z\"/></svg>',\n  'Videocam',\n  [...entertainment],\n);\nbuiltInIcons.putEntry(videocam);\nconst wysiwyg = new Entry(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 0 24 24\" width=\"24px\"><g><rect fill=\"none\" height=\"24\" width=\"24\"/><path d=\"M19,3H5C3.89,3,3,3.9,3,5v14c0,1.1,0.89,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.11,3,19,3z M19,19H5V7h14V19z M17,12H7v-2 h10V12z M13,16H7v-2h6V16z\"/></g></svg>',\n  'Wysiwyg',\n  [\n    'editor',\n    'design',\n    'content',\n    'user interface',\n    'page builder',\n    'layout',\n    'preview',\n    'templates',\n  ],\n);\nbuiltInIcons.putEntry(wysiwyg);\n\nexport function addCustomIcons(newIcons: Dictionary): void {\n  for (const key in newIcons.keysArray().entries()) {\n    customIcons.add(newIcons.get(key), key);\n  }\n}\n","\"use strict\";\n\nimport { assign, every, reduce } from \"min-dash\";\n\nimport inherits from \"inherits\";\n\nimport RuleProvider from \"diagram-js/lib/features/rules/RuleProvider\";\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\nimport { is } from \"./util/util\";\n\nconst HIGH_PRIORITY = 1500;\nconst MIN_SIZE = 125;\n\nexport function isGroup(element) {\n  return element && /^domainStory:group/.test(element.type);\n}\n\nfunction isActor(element) {\n  return element && /^domainStory:actor\\w*/.test(element.type);\n}\n\nfunction isWorkObject(element) {\n  return element && /^domainStory:workObject/.test(element.type);\n}\n\nfunction isActivity(element) {\n  return element && /^domainStory:activity/.test(element.type);\n}\n\nfunction isConnection(element) {\n  return element && /^domainStory:connection/.test(element.type);\n}\n\nfunction isAnnotation(element) {\n  return element && /^domainStory:textAnnotation/.test(element.type);\n}\n\n// indirect usage of IMPLICIT_ROOT_ID, constant not used because of Regex\nexport function isBackground(element) {\n  return element && /^__implicitroot/.test(element.id);\n}\n\nexport function isLabel(element) {\n  return element && !!element.labelTarget;\n}\n\nfunction nonExistingOrLabel(element) {\n  return !element || isLabel(element);\n}\n\nfunction canStartConnection(element) {\n  if (nonExistingOrLabel(element)) {\n    return null;\n  }\n  return false;\n}\n\n/**\n * can source and target be connected?\n */\nfunction canConnect(source, target) {\n  // never connect to background; since the direction of the activity can get reversed during dragging, we also have to check if the source\n  if (isBackground(target) || isBackground(source)) {\n    return false;\n  }\n\n  if (isGroup(target)) {\n    return false;\n  }\n\n  // do not allow a connection from one element to itself\n  if (source === target) {\n    return false;\n  }\n\n  // do not allow a connection between two actors\n  if (isActor(source) && isActor(target)) {\n    return false;\n  }\n\n  // do not allow a connection, where the source or target is an activity\n  if (isActivity(source) || isActivity(target)) {\n    return false;\n  }\n\n  // do not allow a connection, where the source or target is an annotation connection\n  if (isConnection(source) || isConnection(target)) {\n    return false;\n  }\n\n  // do not allow a connection to a connection(the special type of connection between an element and a comment box)\n  // when the target is an annotation, the connection type is an annotation connection instead of an activity\n  if (isAnnotation(target)) {\n    return { type: ElementTypes.CONNECTION };\n  }\n\n  return { type: ElementTypes.ACTIVITY };\n}\n\nfunction canResize(shape, newBounds) {\n  if (is(shape, ElementTypes.GROUP)) {\n    if (newBounds) {\n      let lowerLeft = { x: shape.x, y: shape.y + shape.height };\n      let lowerRight = { x: shape.x + shape.width, y: shape.y + shape.height };\n      let upperRight = { x: shape.x + shape.width, y: shape.y };\n\n      if (newBounds.x !== shape.x && newBounds.y !== shape.y) {\n        // upper left\n        if (newBounds.x > lowerRight.x - MIN_SIZE) {\n          assign(newBounds, { x: lowerRight.x - MIN_SIZE });\n        }\n        if (newBounds.y > lowerRight.y - MIN_SIZE) {\n          assign(newBounds, { y: lowerRight.y - MIN_SIZE });\n        }\n      }\n\n      if (newBounds.x !== shape.x && newBounds.y === shape.y) {\n        // lower left\n        if (newBounds.x > upperRight.x - MIN_SIZE) {\n          assign(newBounds, { x: upperRight.x - MIN_SIZE });\n        }\n      }\n\n      if (newBounds.x === shape.x && newBounds.y !== shape.y) {\n        // upper right\n        if (newBounds.y > lowerLeft.y - MIN_SIZE) {\n          assign(newBounds, { y: lowerLeft.y - MIN_SIZE });\n        }\n      }\n\n      if (newBounds.height < MIN_SIZE) {\n        assign(newBounds, {\n          height: MIN_SIZE,\n        });\n      }\n      if (newBounds.width < MIN_SIZE) {\n        assign(newBounds, {\n          width: MIN_SIZE,\n        });\n      }\n    }\n    return true;\n  }\n\n  return false;\n}\n\nfunction canConnectToAnnotation(source, target, connection) {\n  // do not allow an activity connect to an annotation\n  if (isActivity(connection) && isAnnotation(target)) {\n    return false;\n  }\n\n  // do not allow an annotation connection between two annotations\n  if (\n    isConnection(connection) &&\n    isAnnotation(source) &&\n    isAnnotation(target)\n  ) {\n    return false;\n  }\n\n  // do not allow an annotation connection between an actor or workObject and anything except an annotation\n  return !(\n    isConnection(connection) &&\n    !isAnnotation(target) &&\n    (isActor(source) || isWorkObject(source))\n  );\n}\n\nexport default function DomainStoryRules(eventBus) {\n  RuleProvider.call(this, eventBus);\n}\n\ninherits(DomainStoryRules, RuleProvider);\n\nDomainStoryRules.$inject = [\"eventBus\"];\n\nDomainStoryRules.prototype.init = function () {\n  /**\n   * can a shape be created on target?\n   */\n  function canCreate(shape, target) {\n    // allow creation on canvas ||  allow groups on everything || allow everything on groups\n    return isBackground(target) || isGroup(shape) || isGroup(target);\n  }\n\n  this.addRule(\"elements.create\", function (context) {\n    const elements = context.elements,\n      target = context.target;\n\n    return every(elements, function (element) {\n      if (isConnection(element)) {\n        return canConnect(element.source, element.target, element);\n      }\n\n      return canCreate(element, target);\n    });\n  });\n\n  this.addRule(\"elements.move\", HIGH_PRIORITY, function (context) {\n    let target = context.target,\n      shapes = context.shapes;\n\n    // The idea of this code is to make sure that if any of the selected shapes cannot be moved,\n    // then the whole selection cannot be moved. However, it actually only checks\n    // if the shape that is under the mouse cursor is over another shape.\n    // This is probably enough as a full detection over overlapping shapes might make it hard\n    // to move large selections\n    return reduce(\n      shapes,\n      function (result, s) {\n        if (result === false) {\n          return false;\n        }\n        return canCreate(s, target);\n      },\n      undefined,\n    );\n  });\n\n  this.addRule(\"shape.create\", HIGH_PRIORITY, function (context) {\n    let target = context.target,\n      shape = context.shape;\n\n    return canCreate(shape, target);\n  });\n\n  this.addRule(\"connection.create\", HIGH_PRIORITY, function (context) {\n    let source = context.source,\n      target = context.target;\n\n    return canConnect(source, target);\n  });\n\n  this.addRule(\"connection.reconnect\", HIGH_PRIORITY, function (context) {\n    let connection = context.connection,\n      source = context.hover || context.source,\n      target = context.target;\n\n    let result = canConnectToAnnotation(source, target, connection);\n\n    if (!result) {\n      return;\n    }\n\n    return canConnect(source, target, connection);\n  });\n\n  this.addRule(\"shape.resize\", function (context) {\n    let shape = context.shape,\n      newBounds = context.newBounds;\n\n    return canResize(shape, newBounds);\n  });\n\n  this.addRule(\"connection.start\", function (context) {\n    var source = context.source;\n\n    return canStartConnection(source);\n  });\n\n  this.addRule(\"connection.updateWaypoints\", function (context) {\n    return {\n      type: context.connection.type,\n    };\n  });\n\n  // CopyPaste.js requires this empty-looking rule to exist\n  this.addRule(\"element.copy\", function (context) {\n    return true;\n  });\n};\n\nDomainStoryRules.prototype.canConnect = canConnect;\nDomainStoryRules.prototype.canResize = canResize;\n","\"use strict\";\n\nimport { assign } from \"min-dash\";\n\nimport inherits from \"inherits\";\n\nimport BaseElementFactory from \"diagram-js/lib/core/ElementFactory\";\n\nimport DomainStoryIdFactory from \"./domainStoryIdFactory\";\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\n\nexport default function DomainStoryElementFactory() {\n  let self = this;\n  let domainStoryIdFactory = new DomainStoryIdFactory();\n\n  /**\n   * create a diagram-js element\n   *\n   * @param  {String} djsElementType\n   * @param  {Object} attrs\n   *\n   * @return {djs.model.Base}\n   */\n  this.create = function (djsElementType, attrs) {\n    let dstElementType = attrs.type;\n\n    if (!attrs.businessObject) {\n      attrs.businessObject = {\n        type: dstElementType,\n        name: attrs.name ? attrs.name : \"\",\n      };\n    }\n\n    if (attrs.id) {\n      domainStoryIdFactory.registerId(attrs.id);\n    } else {\n      attrs.id = domainStoryIdFactory.getId(djsElementType);\n    }\n    assign(attrs.businessObject, {\n      id: attrs.id,\n    });\n\n    let id = attrs.id;\n    attrs.businessObject.get = function (key) {\n      if (key === \"id\") {\n        return id;\n      }\n    };\n    attrs.businessObject.set = function (key, value) {\n      if (key === \"id\") {\n        assign(attrs.businessObject, { id: value });\n      }\n    };\n\n    // add width and height if shape\n    if (djsElementType === \"shape\") {\n      let alreadyHasSize = attrs.height || attrs.width; // if a story is imported, groups and annotations already have dimensions; we must not overwrite them with default values\n\n      if (!alreadyHasSize) {\n        assign(attrs, self._getShapeSize(dstElementType));\n      }\n    }\n\n    if (!(\"$instanceOf\" in attrs.businessObject)) {\n      // ensure we can use ModelUtil#is for type checks\n      Object.defineProperty(attrs.businessObject, \"$instanceOf\", {\n        value: function (type) {\n          return this.type === type;\n        },\n      });\n    }\n\n    return self.baseCreate(djsElementType, attrs);\n  };\n}\n\ninherits(DomainStoryElementFactory, BaseElementFactory);\n\nDomainStoryElementFactory.prototype.baseCreate =\n  BaseElementFactory.prototype.create;\n\n/**\n * returns the default size for shapes.\n * *\n * @param {String} dstElementType\n *\n * @return {width, height} object representing the size of the element\n */\nDomainStoryElementFactory.prototype._getShapeSize = function (dstElementType) {\n  let shapes = {\n    __default: { width: 75, height: 75 },\n    [ElementTypes.TEXTANNOTATION]: { width: 100, height: 30 },\n    [ElementTypes.GROUP]: { width: 300, height: 200 },\n  };\n\n  return shapes[dstElementType] || shapes.__default;\n};\n","'use strict';\n\n// convert rad to deg\nexport function degrees(radians: number): number {\n  return (radians * 180) / Math.PI;\n}\n\n// calculate the angle between two points in 2D\nexport function angleBetween(\n  startPoint: Point,\n  endPoint: Point,\n): number | undefined {\n  let quadrant;\n\n  // determine in which quadrant we are\n  if (startPoint.x <= endPoint.x) {\n    if (startPoint.y >= endPoint.y) {\n      quadrant = 0;\n    } // upper right quadrant\n    else {\n      quadrant = 3;\n    } // lower right quadrant\n  } else {\n    if (startPoint.y >= endPoint.y) {\n      quadrant = 1;\n    } // upper left Quadrant\n    else {\n      quadrant = 2;\n    } // lower left quadrant\n  }\n\n  const adjacent = Math.abs(startPoint.y - endPoint.y);\n  const opposite = Math.abs(startPoint.x - endPoint.x);\n\n  // since the arcus-tangens only gives values between 0 and 90, we have to adjust for the quadrant we are in\n\n  if (quadrant === 0) {\n    return 90 - degrees(Math.atan2(opposite, adjacent));\n  }\n  if (quadrant === 1) {\n    return 90 + degrees(Math.atan2(opposite, adjacent));\n  }\n  if (quadrant === 2) {\n    return 270 - degrees(Math.atan2(opposite, adjacent));\n  }\n  if (quadrant === 3) {\n    return 270 + degrees(Math.atan2(opposite, adjacent));\n  }\n  return undefined;\n}\n\nexport function positionsMatch(\n  width: number,\n  height: number,\n  elementX: number,\n  elementY: number,\n  clickX: number,\n  clickY: number,\n): boolean {\n  if (clickX > elementX && clickX < elementX + width) {\n    if (clickY > elementY && clickY < elementY + height) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport class Point {\n  y = 0;\n  x = 0;\n}\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-label-dictionary-dialog',\n  templateUrl: './label-dictionary-dialog.component.html',\n  styleUrls: ['./label-dictionary-dialog.component.scss'],\n  standalone: false,\n})\nexport class LabelDictionaryDialogComponent {\n  constructor(\n    private dialogRef: MatDialogRef<LabelDictionaryDialogComponent>,\n  ) {}\n\n  close(): void {\n    this.dialogRef.close();\n  }\n}\n","<mat-dialog-content>\n  <h2 class=\"sticky-top\">Label Dictionary</h2>\n  <app-label-dictionary (closeEmitter)=\"close()\"></app-label-dictionary>\n</mat-dialog-content>\n","import { Injectable } from '@angular/core';\nimport { ElementRegistryService } from 'src/app/domain/services/element-registry.service';\nimport { ElementTypes } from 'src/app/domain/entities/elementTypes';\nimport { MassNamingService } from 'src/app/tools/label-dictionary/services/mass-naming.service';\nimport { IconDictionaryService } from '../../icon-set-config/services/icon-dictionary.service';\nimport { WorkObjectLabelEntry } from '../domain/workObjectLabelEntry';\nimport { LabelEntry } from '../domain/labelEntry';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport { LabelDictionaryDialogComponent } from '../presentation/label-dictionary-dialog/label-dictionary-dialog.component';\nimport {\n  SNACKBAR_DURATION_LONGER,\n  SNACKBAR_INFO,\n} from '../../../domain/entities/constants';\nimport { DialogService } from '../../../domain/services/dialog.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { CanvasObject } from '../../../domain/entities/canvasObject';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LabelDictionaryService {\n  activityLabels: LabelEntry[] = [];\n  workObjektLabels: WorkObjectLabelEntry[] = [];\n\n  constructor(\n    private massNamingService: MassNamingService,\n    private elementRegistryService: ElementRegistryService,\n    private iconDictionaryService: IconDictionaryService,\n    private dialogService: DialogService,\n    private snackbar: MatSnackBar,\n  ) {}\n\n  openLabelDictionary() {\n    const isActivityWithLabel = (element: CanvasObject) =>\n      element.type.includes(ElementTypes.ACTIVITY) &&\n      element.businessObject.name;\n    const isWorkObjectWithLabel = (element: CanvasObject) =>\n      element.type.includes(ElementTypes.WORKOBJECT) &&\n      element.businessObject.name;\n\n    const hasAtLeastOneLabel = this.elementRegistryService\n      .getAllCanvasObjects()\n      .some(\n        (element) =>\n          isActivityWithLabel(element) || isWorkObjectWithLabel(element),\n      );\n    if (hasAtLeastOneLabel) {\n      const config = new MatDialogConfig();\n      config.disableClose = false;\n      config.autoFocus = true;\n\n      this.dialogService.openDialog(LabelDictionaryDialogComponent, config);\n    } else {\n      this.snackbar.open(\n        'There are currently no activities or work objects with labels on the canvas',\n        undefined,\n        {\n          duration: SNACKBAR_DURATION_LONGER,\n          panelClass: SNACKBAR_INFO,\n        },\n      );\n    }\n  }\n\n  createLabelDictionaries(): void {\n    this.activityLabels = [];\n    this.workObjektLabels = [];\n\n    const allObjects = this.elementRegistryService.getAllCanvasObjects();\n\n    allObjects.forEach((element) => {\n      const name = element.businessObject.name;\n      if (\n        name &&\n        name.length > 0 &&\n        element.type.includes(ElementTypes.ACTIVITY) &&\n        !this.activityLabels.map((a) => a.name).includes(name)\n      ) {\n        this.activityLabels.push({\n          name,\n          originalName: name,\n        });\n      } else if (\n        name &&\n        name.length > 0 &&\n        element.type.includes(ElementTypes.WORKOBJECT) &&\n        !this.workObjektLabels.map((e) => e.name).includes(name)\n      ) {\n        const iconName = element.type.replace(ElementTypes.WORKOBJECT, '');\n        let icon = this.iconDictionaryService.getIconSource(iconName);\n        if (!icon) {\n          return;\n        }\n        if (!icon.startsWith('data')) {\n          icon = 'data:image/svg+xml,' + icon;\n        }\n        this.workObjektLabels.push({\n          name,\n          originalName: name,\n          icon,\n        });\n      }\n    });\n    this.activityLabels.sort((a, b) => {\n      return a.name.toLowerCase().localeCompare(b.name.toLowerCase());\n    });\n    this.workObjektLabels.sort((a, b) => {\n      return a.name.toLowerCase().localeCompare(b.name.toLowerCase());\n    });\n  }\n\n  getActivityLabels(): LabelEntry[] {\n    return this.activityLabels.slice();\n  }\n\n  getWorkObjectLabels(): WorkObjectLabelEntry[] {\n    return this.workObjektLabels.slice();\n  }\n\n  getUniqueWorkObjectNames(): String[] {\n    const workObjects = this.elementRegistryService.getAllWorkobjects();\n    return [\n      ...new Set(\n        workObjects\n          .filter((workObject) => {\n            return !!workObject.businessObject.name;\n          })\n          .map((workObject) => workObject.businessObject.name),\n      ),\n    ];\n  }\n\n  massRenameLabels(\n    activityNames: string[],\n    originalActivityNames: string[],\n    workObjectNames: string[],\n    originalWorkObjectNames: string[],\n  ): void {\n    for (let i = 0; i < originalActivityNames.length; i++) {\n      if (!activityNames[i]) {\n        activityNames[i] = '';\n      }\n      if (!(activityNames[i] == originalActivityNames[i])) {\n        this.massNamingService.massChangeNames(\n          originalActivityNames[i],\n          activityNames[i],\n          ElementTypes.ACTIVITY,\n        );\n      }\n    }\n    for (let i = 0; i < originalWorkObjectNames.length; i++) {\n      if (!workObjectNames[i]) {\n        workObjectNames[i] = '';\n      }\n      if (!(workObjectNames[i] == originalWorkObjectNames[i])) {\n        this.massNamingService.massChangeNames(\n          originalWorkObjectNames[i],\n          workObjectNames[i],\n          ElementTypes.WORKOBJECT,\n        );\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ActivityDialogComponent } from './activity-dialog/activity-dialog.component';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../../../material.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [ActivityDialogComponent],\n  exports: [ActivityDialogComponent],\n  imports: [CommonModule, MaterialModule, ReactiveFormsModule],\n})\nexport class ModelerModule {}\n","\"use strict\";\n\nlet idList = [];\n\nexport default function DomainStoryIdFactory() {}\n\nDomainStoryIdFactory.prototype.getId = function (type) {\n  return generateId(type);\n};\n\nDomainStoryIdFactory.prototype.registerId = function (id) {\n  idList.push(id);\n};\n\nfunction generateId(type) {\n  let idNumber = fourDigitsId();\n\n  let id = type + \"_\" + idSuffix(idNumber);\n\n  while (containsId(id)) {\n    idNumber++;\n\n    id = type + \"_\" + idSuffix(idNumber);\n  }\n\n  idList.push(id);\n  return id;\n}\n\nfunction idSuffix(idNumber) {\n  let id;\n  if (idNumber > 9999) {\n    id = 0;\n  } else if (idNumber < 10) {\n    id = \"000\" + idNumber;\n  } else if (idNumber < 100) {\n    id = \"00\" + idNumber;\n  } else if (idNumber < 1000) {\n    id = \"0\" + idNumber;\n  } else {\n    id = \"\" + idNumber;\n  }\n  return id;\n}\n\nfunction fourDigitsId() {\n  return Math.floor(Math.random() * 10000);\n}\n\nexport function containsId(id) {\n  let same = false;\n  idList.forEach((element) => {\n    if (id === element) {\n      same = true;\n    }\n  });\n  return same;\n}\n","export enum ElementTypes {\n  ACTIVITY = 'domainStory:activity',\n  CONNECTION = 'domainStory:connection',\n  ACTOR = 'domainStory:actor',\n  WORKOBJECT = 'domainStory:workObject',\n  GROUP = 'domainStory:group',\n  TEXTANNOTATION = 'domainStory:textAnnotation',\n}\n\nexport namespace ElementTypes {\n  export function getIconId(type: string): string {\n    if (type.startsWith(ElementTypes.ACTOR)) {\n      return type.replace(ElementTypes.ACTOR, '');\n    } else if (type.startsWith(ElementTypes.WORKOBJECT)) {\n      return type.replace(ElementTypes.WORKOBJECT, '');\n    }\n    return '';\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MaterialModule } from '../../material.module';\nimport { HeaderComponent } from './header/header/header.component';\nimport { HeaderButtonsComponent } from './header/header-buttons/header-buttons.component';\nimport { SettingsComponent } from './settings/settings.component';\nimport { IconSetConfigModule } from '../../tools/icon-set-config/presentation/icon-set-config.module';\nimport { AutosaveModule } from '../../tools/autosave/presentation/autosave.module';\n\n@NgModule({\n  declarations: [HeaderComponent, HeaderButtonsComponent, SettingsComponent],\n  exports: [HeaderComponent, HeaderButtonsComponent, SettingsComponent],\n  imports: [\n    CommonModule,\n    FormsModule,\n    MaterialModule,\n    IconSetConfigModule,\n    AutosaveModule,\n  ],\n})\nexport class WorkbenchModule {}\n","import { Injectable } from '@angular/core';\nimport { ElementRegistryService } from 'src/app/domain/services/element-registry.service';\nimport { CanvasObject } from 'src/app/domain/entities/canvasObject';\nimport { ElementTypes } from '../../../domain/entities/elementTypes';\nimport { CommandStackService } from '../../../domain/services/command-stack.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class MassNamingService {\n  constructor(\n    private elementRegistryService: ElementRegistryService,\n    private commandStackService: CommandStackService,\n  ) {}\n\n  massChangeNames(\n    oldValue: string,\n    newValue: string,\n    type: ElementTypes,\n  ): void {\n    const allRelevantObjects: CanvasObject[] = [];\n\n    this.elementRegistryService.getAllCanvasObjects().forEach((element) => {\n      if (\n        element.type.includes(type) &&\n        element.businessObject.name === oldValue\n      ) {\n        allRelevantObjects.push(element);\n      }\n    });\n\n    const context = {\n      elements: allRelevantObjects,\n      newValue,\n    };\n\n    this.commandStackService.execute('domainStoryObjects.massRename', context);\n  }\n}\n","\"use strict\";\n\nimport LassoTool from \"diagram-js/lib/features/lasso-tool\";\nimport SpaceTool from \"diagram-js/lib/features/space-tool\";\nimport Palette from \"diagram-js/lib/features/palette\";\nimport TextRenderer from \"./util/TextRenderer\";\nimport DomainStoryElementFactory from \"./domainStoryElementFactory\";\nimport DomainStoryRenderer from \"./domainStoryRenderer\";\nimport DomainStoryPalette from \"./palette/domainStoryPalette\";\nimport DomainStoryRules from \"./domainStoryRules\";\nimport DomainStoryUpdater from \"./domainStoryUpdater\";\nimport CreateModule from \"diagram-js/lib/features/create\";\nimport ContextPadModule from \"diagram-js/lib/features/context-pad\";\nimport CommandStack from \"diagram-js/lib/command/CommandStack\";\nimport UpdateLabelHandler from \"./updateHandler/updateLabelHandler\";\nimport headlineAndDescriptionUpdateHandler from \"./updateHandler/headlineAndDescriptionUpdateHandler\";\nimport DomainStoryContextPadProvider from \"./context-pad/domainStoryContextPadProvider\";\nimport ReplaceMenuProvider from \"./change-icon/replaceMenuProvider\";\nimport DSModeling from \"./modeling/dSModeling\";\nimport BaseLayouter from \"diagram-js/lib/layout/BaseLayouter\";\nimport CroppingConnectionDocking from \"diagram-js/lib/layout/CroppingConnectionDocking\";\n\nexport default {\n  __depends__: [CreateModule, ContextPadModule, Palette, SpaceTool, LassoTool],\n  __init__: [\n    \"domainStoryRenderer\",\n    \"paletteProvider\",\n    \"domainStoryRules\",\n    \"domainStoryUpdater\",\n    \"contextPadProvider\",\n    \"replaceMenuProvider\",\n  ],\n  connectionDocking: [\"type\", CroppingConnectionDocking],\n  layouter: [\"type\", BaseLayouter],\n  textRenderer: [\"type\", TextRenderer],\n  elementFactory: [\"type\", DomainStoryElementFactory],\n  domainStoryRenderer: [\"type\", DomainStoryRenderer],\n  paletteProvider: [\"type\", DomainStoryPalette],\n  domainStoryRules: [\"type\", DomainStoryRules],\n  domainStoryUpdater: [\"type\", DomainStoryUpdater],\n  contextPadProvider: [\"type\", DomainStoryContextPadProvider],\n  replaceMenuProvider: [\"type\", ReplaceMenuProvider],\n  commandStack: [\"type\", CommandStack],\n  updateLabelHandler: [\"type\", UpdateLabelHandler],\n  headlineAndDescriptionUpdateHandler: [\n    \"type\",\n    headlineAndDescriptionUpdateHandler,\n  ],\n  modeling: [\"type\", DSModeling],\n};\n","export enum IconFilterOptions {\n  ONLY_ACTORS = 'ICON_FILTER_ACTOR',\n  ONLY_WORKOBJECTS = 'ICON_FILTER_WORKOBJECT',\n  ONLY_UNASSIGNED = 'ICON_FILTER_UNASSIGNED',\n  NO_FILTER = '',\n}\n","import { NgModule } from '@angular/core';\nimport { TitleDialogComponent } from './title-dialog/title-dialog.component';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../../../material.module';\nimport { ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  declarations: [TitleDialogComponent],\n  exports: [TitleDialogComponent],\n  imports: [CommonModule, MaterialModule, ReactiveFormsModule],\n})\nexport class TitleModule {}\n","import { assign } from \"min-dash\";\n\nimport TextUtil from \"diagram-js/lib/util/Text\";\n\nvar DEFAULT_FONT_SIZE = 12;\nvar LINE_HEIGHT_RATIO = 1.2;\n\nvar MIN_TEXT_ANNOTATION_HEIGHT = 30;\n\n/**\n * @typedef { {\n *   fontFamily: string;\n *   fontSize: number;\n *   fontWeight: string;\n *   lineHeight: number;\n * } } TextRendererStyle\n *\n * @typedef { {\n *   defaultStyle?: Partial<TextRendererStyle>;\n *   externalStyle?: Partial<TextRendererStyle>;\n * } } TextRendererConfig\n *\n * @typedef { import('diagram-js/lib/util/Text').TextLayoutConfig } TextLayoutConfig\n *\n * @typedef { import('diagram-js/lib/util/Types').Rect } Rect\n */\n\n/**\n * Renders text and computes text bounding boxes.\n *\n * @param {TextRendererConfig} [config]\n */\nexport default function TextRenderer(config) {\n  var defaultStyle = assign(\n    {\n      fontFamily: \"Arial, sans-serif\",\n      fontSize: DEFAULT_FONT_SIZE,\n      fontWeight: \"normal\",\n      lineHeight: LINE_HEIGHT_RATIO,\n    },\n    (config && config.defaultStyle) || {},\n  );\n\n  var fontSize = parseInt(defaultStyle.fontSize, 10) - 1;\n\n  var externalStyle = assign(\n    {},\n    defaultStyle,\n    {\n      fontSize: fontSize,\n    },\n    (config && config.externalStyle) || {},\n  );\n\n  var textUtil = new TextUtil({\n    style: defaultStyle,\n  });\n\n  /**\n   * Get the new bounds of an externally rendered,\n   * layouted label.\n   *\n   * @param {Rect} bounds\n   * @param {string} text\n   *\n   * @return {Rect}\n   */\n  this.getExternalLabelBounds = function (bounds, text) {\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: {\n        width: 90,\n        height: 30,\n      },\n      style: externalStyle,\n    });\n\n    // resize label shape to fit label text\n    return {\n      x: Math.round(bounds.x + bounds.width / 2 - layoutedDimensions.width / 2),\n      y: Math.round(bounds.y),\n      width: Math.ceil(layoutedDimensions.width),\n      height: Math.ceil(layoutedDimensions.height),\n    };\n  };\n\n  /**\n   * Get the new bounds of text annotation.\n   *\n   * @param {Rect} bounds\n   * @param {string} text\n   *\n   * @return {Rect}\n   */\n  this.getTextAnnotationBounds = function (bounds, text) {\n    var layoutedDimensions = textUtil.getDimensions(text, {\n      box: bounds,\n      style: defaultStyle,\n      align: \"left-top\",\n      padding: 5,\n    });\n\n    return {\n      x: bounds.x,\n      y: bounds.y,\n      width: bounds.width,\n      height: Math.max(\n        MIN_TEXT_ANNOTATION_HEIGHT,\n        Math.round(layoutedDimensions.height),\n      ),\n    };\n  };\n\n  /**\n   * Create a layouted text element.\n   *\n   * @param {string} text\n   * @param {TextLayoutConfig} [options]\n   *\n   * @return {SVGElement} rendered text\n   */\n  this.createText = function (text, options) {\n    return textUtil.createText(text, options || {});\n  };\n\n  /**\n   * Get default text style.\n   */\n  this.getDefaultStyle = function () {\n    return defaultStyle;\n  };\n\n  /**\n   * Get the external text style.\n   */\n  this.getExternalStyle = function () {\n    return externalStyle;\n  };\n}\n\nTextRenderer.$inject = [\"config.textRenderer\"];\n","import { Injectable } from '@angular/core';\nimport { createTitleAndDescriptionSVGElement } from 'src/app/tools/export/services/exportUtil';\nimport { BrowserSpecs } from 'src/app/tools/export/domain/export/browserSpecs';\nimport { Box } from 'src/app/tools/export/domain/export/box';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PngService {\n  private width: number;\n  private height: number;\n\n  constructor() {\n    this.width = 0;\n    this.height = 0;\n  }\n\n  private browserSpecs(): BrowserSpecs {\n    const ua = navigator.userAgent;\n    let tem;\n    let M =\n      ua.match(\n        /(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i,\n      ) || [];\n    if (/trident/i.test(M[1])) {\n      tem = /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n      return { name: 'IE', version: tem[1] || '' };\n    }\n    if (M[1] === 'Chrome') {\n      tem = ua.match(/\\b(OPR|Edge)\\/(\\d+)/);\n      if (tem != null) {\n        return { name: tem[1].replace('OPR', 'Opera'), version: tem[2] };\n      }\n    }\n    M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];\n    // tslint:disable-next-line:no-conditional-assignment\n    if ((tem = ua.match(/version\\/(\\d+)/i)) != null) {\n      M.splice(1, 1, tem[1]);\n    }\n    return { name: M[0], version: M[1] };\n  }\n\n  /** Needed for an SVG-Fix in CHrome where the # needs to be replaced by %23 **/\n  private URIHashtagFix(svg: string): string {\n    let fix = false;\n\n    const browser = this.browserSpecs();\n\n    const name = browser.name;\n    const version = parseInt(browser.version);\n\n    // only implemented in chrome and firefox at the moment\n    if (name.includes('Chrome')) {\n      if (version >= 72) {\n        fix = true;\n        // https://www.chromestatus.com/features/5656049583390720\n      }\n    } else if (name.includes('Firefox')) {\n      fix = true;\n\n      // versionNumber of implementation unknown\n    }\n    if (fix) {\n      while (svg.includes('#')) {\n        svg = svg.replace('#', '%23');\n      }\n    }\n    return svg;\n  }\n\n  private findMostOuterElements(\n    svg: HTMLElement,\n    includeSpaceForDescription: boolean,\n  ): Box {\n    let xLeft = 0;\n    let xRight = 0;\n    let yUp = 0;\n    let yDown = 0;\n\n    const elements = svg.getElementsByClassName('djs-group');\n\n    // tslint:disable-next-line:prefer-for-of\n    for (let i = 0; i < elements.length; i++) {\n      const element = elements[i];\n      const sub = element.children;\n\n      let elXLeft: number;\n      let elXRight: number;\n      let elYUp: number;\n      let elYDown: number;\n\n      const transform = sub[0].getAttribute('transform');\n      if (transform) {\n        let nums;\n\n        if (transform.includes('matrix')) {\n          transform.replace('matrix(', '');\n          transform.replace(')', '');\n          nums = transform.split(' ');\n          elXLeft = parseInt(nums[4]);\n          elYUp = parseInt(nums[5]);\n        } else {\n          transform.replace('translate(', '');\n          transform.replace(')', '');\n          nums = transform.split(' ');\n          elXLeft = parseInt(nums[0]);\n          elYUp = parseInt(nums[1]);\n        }\n\n        const rects = sub[0].getElementsByTagName('rect');\n        const outerRect = rects[rects.length - 1];\n\n        const width = outerRect.getAttribute('width');\n\n        elXRight = elXLeft + parseInt(width != null ? width : '0');\n        elYDown = elYUp + sub[0].getBoundingClientRect().height;\n      } else {\n        const rects = element.getElementsByTagName('rect');\n        const outerRect = rects[rects.length - 1];\n\n        const x = outerRect.getAttribute('x');\n        const y = outerRect.getAttribute('y');\n\n        elXLeft = parseInt(x != null ? x : '0');\n        elYUp = parseInt(y != null ? y : '0');\n\n        const width = outerRect.getAttribute('width');\n        const height = outerRect.getAttribute('height');\n\n        elXRight = elXLeft + parseInt(width != null ? width : '0');\n        elYDown = elYUp + parseInt(height != null ? height : '0') + 20; // Add 20 px as Padding for text at the bottom\n      }\n      if (elXLeft < xLeft) {\n        xLeft = elXLeft;\n      }\n      if (elXRight > xRight) {\n        xRight = elXRight;\n      }\n      if (elYUp < yUp) {\n        yUp = elYUp;\n      }\n      if (elYDown > yDown) {\n        yDown = elYDown;\n      }\n    }\n\n    // we need to adjust yUp to have space for the description if necessary\n    if (includeSpaceForDescription) {\n      yUp -= 75;\n    }\n\n    return {\n      xLeft,\n      xRight,\n      yUp,\n      yDown,\n    };\n  }\n\n  prepareSVG(\n    svg: string,\n    layerBase: any,\n    description: string,\n    title: string,\n    withTitle: boolean,\n  ): string {\n    const box = this.findMostOuterElements(\n      layerBase,\n      description === undefined,\n    );\n    let viewBoxIndex = svg.indexOf('width=\"');\n\n    this.calculateWidthAndHeight(box);\n\n    const { insertText, dynamicHeightOffset } =\n      createTitleAndDescriptionSVGElement(\n        0,\n        title,\n        description,\n        box.xLeft + 10,\n        box.yUp + 20,\n        this.width,\n      );\n    if (withTitle) {\n      this.height += dynamicHeightOffset;\n    }\n\n    const bounds = this.createBounds(box, withTitle ? dynamicHeightOffset : 0);\n\n    const dataStart = svg.substring(0, viewBoxIndex);\n    viewBoxIndex = svg.indexOf('tabindex=\"');\n\n    const dataEnd = svg.substring(viewBoxIndex);\n    dataEnd.substring(viewBoxIndex);\n\n    svg = dataStart + bounds + dataEnd;\n\n    const insertIndex = svg.indexOf('<g class=\"viewport\">') + 20;\n\n    if (withTitle) {\n      svg = [\n        svg.slice(0, insertIndex),\n        insertText,\n        svg.slice(insertIndex),\n      ].join('');\n    }\n    svg = this.URIHashtagFix(svg);\n\n    return svg;\n  }\n\n  private createBounds(box: Box, extraHeight: number) {\n    return (\n      'width=\"' +\n      this.width +\n      '\" height=\"' +\n      this.height +\n      '\" viewBox=\" ' +\n      box.xLeft +\n      ' ' +\n      (box.yUp - extraHeight) +\n      ' ' +\n      this.width +\n      ' ' +\n      this.height +\n      '\" '\n    );\n  }\n\n  /**\n   * Calculate the Width and Height of the Bounding Box for the PNG so no Parts are cut off\n   */\n  private calculateWidthAndHeight(box: Box): [number, number] {\n    if (box.xLeft < 0) {\n      if (box.xRight < 0) {\n        this.width = Math.abs(box.xLeft - box.xRight);\n      } else {\n        this.width = Math.abs(box.xLeft) + box.xRight;\n      }\n    } else {\n      this.width = box.xRight - box.xLeft;\n    }\n\n    if (box.yUp < 0) {\n      if (box.yDown < 0) {\n        this.height = Math.abs(box.yUp - box.yDown);\n      } else {\n        this.height = Math.abs(box.yUp) + box.yDown;\n      }\n    } else {\n      this.height = box.yDown - box.yUp;\n    }\n\n    // if the domain-Story is smaller than 300px in width or height, increase its dimensions\n    if (this.height < 300) {\n      this.height += 300;\n      box.yUp -= 150;\n      box.yDown += 150;\n    }\n    if (this.width < 300) {\n      this.width += 300;\n      box.xLeft -= 150;\n      box.xRight += 150;\n    }\n    return [this.height, this.width];\n  }\n\n  extractSVG(viewport: any, outerSVGElement: any): string {\n    const layerResizers = viewport.getElementsByClassName('layer-resizers');\n    const layerOverlays = viewport.getElementsByClassName('layer-overlays');\n    const transform = viewport.getAttribute('transform');\n    const translate = viewport.getAttribute('translate');\n\n    if (layerResizers[0]) {\n      layerResizers[0].parentNode.removeChild(layerResizers[0]);\n    }\n    if (layerOverlays[0]) {\n      layerOverlays[0].parentNode.removeChild(layerOverlays[0]);\n    }\n\n    // remove canvas scrolling and scaling before serializeToString of SVG\n    if (transform) {\n      viewport.removeAttribute('transform');\n    }\n    if (translate) {\n      viewport.removeAttribute('translate');\n    }\n\n    const svg = new XMLSerializer().serializeToString(outerSVGElement);\n\n    // re-add canvas scrolling and scaling\n    if (transform) {\n      viewport.setAttribute('transform', transform);\n    }\n    if (translate) {\n      viewport.setAttribute('translate', translate);\n    }\n    return svg;\n  }\n\n  getWidth(): number {\n    return this.width;\n  }\n\n  getHeight(): number {\n    return this.height;\n  }\n}\n","// TODO: this will not work for actors and work objects as the name of the icon is part of the type\nexport function is(element, type) {\n  const bo = getBusinessObject(element);\n\n  return bo && bo.type === type;\n}\n\nexport function getBusinessObject(element) {\n  return (element && element.businessObject) || element;\n}\n\nexport function reworkGroupElements(parent, shape) {\n  parent.children.slice().forEach((innerShape) => {\n    if (innerShape.id !== shape.id) {\n      if (innerShape.x >= shape.x && innerShape.x <= shape.x + shape.width) {\n        if (innerShape.y >= shape.y && innerShape.y <= shape.y + shape.height) {\n          if (innerShape.children.includes(shape)) {\n            innerShape.children.remove(shape);\n          }\n          innerShape.parent = shape;\n          if (!shape.children.includes(innerShape)) {\n            shape.children.push(innerShape);\n          }\n        }\n      }\n    }\n  });\n}\n\nexport function undoGroupRework(parent, shape) {\n  const superParent = parent.parent;\n\n  parent.children.remove(shape);\n  superParent.children.add(shape);\n\n  shape.parent = superParent;\n\n  const svgShape = document.querySelector(\n    \"[data-element-id=\" + shape.id + \"]\",\n  ).parentElement;\n  const svgGroup = svgShape.parentElement;\n  const svgGroupParent = svgGroup.parentElement.parentElement;\n  svgGroup.removeChild(svgShape);\n  svgGroupParent.appendChild(svgShape);\n}\n\nexport function isCustomIcon(icon) {\n  // default icons are provided as SVG\n  // custom icons are provided as \"Data URL\" with a base64-encoded image as payload\n  return icon.startsWith(\"data\");\n}\n\nexport function isCustomSvgIcon(icon) {\n  // default icons are provided as SVG\n  // custom icons are provided as \"Data URL\" with a base64-encoded image as payload\n  return icon.startsWith(\"data:image/svg\");\n}\n\n/**\n * TODO: This is copied from bpmn-js 8.8.3 and might be simplified because we only use it for rendering annotations\n * ---\n * Scales the path to the given height and width.\n * <h1>Use case</h1>\n * <p>Use case is to scale the content of elements (event, gateways) based\n * on the element bounding box's size.\n * </p>\n * <h1>Why not transform</h1>\n * <p>Scaling a path with transform() will also scale the stroke and IE does not support\n * the option 'non-scaling-stroke' to prevent this.\n * Also there are use cases where only some parts of a path should be\n * scaled.</p>\n *\n * @param {string} pathId The ID of the path.\n * @param {Object} param <p>\n *   Example param object scales the path to 60% size of the container (data.width, data.height).\n *   <pre>\n *   {\n *     xScaleFactor: 0.6,\n *     yScaleFactor:0.6,\n *     containerWidth: data.width,\n *     containerHeight: data.height,\n *     position: {\n *       mx: 0.46,\n *       my: 0.2,\n *     }\n *   }\n *   </pre>\n *   <ul>\n *    <li>targetpathwidth = xScaleFactor * containerWidth</li>\n *    <li>targetpathheight = yScaleFactor * containerHeight</li>\n *    <li>Position is used to set the starting coordinate of the path. M is computed:\n *    <ul>\n *      <li>position.x * containerWidth</li>\n *      <li>position.y * containerHeight</li>\n *    </ul>\n *    Center of the container <pre> position: {\n *       mx: 0.5,\n *       my: 0.5,\n *     }</pre>\n *     Upper left corner of the container\n *     <pre> position: {\n *       mx: 0.0,\n *       my: 0.0,\n *     }</pre>\n *    </li>\n *   </ul>\n * </p>\n *\n */\nexport function getScaledPath(param) {\n  const rawPath = {\n    d: \"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0\",\n    height: 30,\n    width: 10,\n    heightElements: [30],\n    widthElements: [10],\n  };\n\n  // positioning\n  // compute the start point of the path\n  var mx, my;\n\n  if (param.abspos) {\n    mx = param.abspos.x;\n    my = param.abspos.y;\n  } else {\n    mx = param.containerWidth * param.position.mx;\n    my = param.containerHeight * param.position.my;\n  }\n\n  var coordinates = {}; // map for the scaled coordinates\n  if (param.position) {\n    // path\n    var heightRatio =\n      (param.containerHeight / rawPath.height) * param.yScaleFactor;\n    var widthRatio =\n      (param.containerWidth / rawPath.width) * param.xScaleFactor;\n\n    // Apply height ratio\n    for (\n      var heightIndex = 0;\n      heightIndex < rawPath.heightElements.length;\n      heightIndex++\n    ) {\n      coordinates[\"y\" + heightIndex] =\n        rawPath.heightElements[heightIndex] * heightRatio;\n    }\n\n    // Apply width ratio\n    for (\n      var widthIndex = 0;\n      widthIndex < rawPath.widthElements.length;\n      widthIndex++\n    ) {\n      coordinates[\"x\" + widthIndex] =\n        rawPath.widthElements[widthIndex] * widthRatio;\n    }\n  }\n\n  // Apply value to raw path\n  var path = format(rawPath.d, {\n    mx: mx,\n    my: my,\n    e: coordinates,\n  });\n  return path;\n}\n\nfunction format(str, obj) {\n  return String(str).replace(tokenRegex, function (all, key) {\n    return replacer(all, key, obj);\n  });\n}\n\n// copied and adjusted from https://github.com/adobe-webplatform/Snap.svg/blob/master/src/svg.js\nvar tokenRegex = /\\{([^{}]+)\\}/g,\n  objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g; // matches .xxxxx or [\"xxxxx\"] to run over object properties\n\nfunction replacer(all, key, obj) {\n  var res = obj;\n  key.replace(\n    objNotationRegex,\n    function (all, name, quote, quotedName, isFunc) {\n      name = name || quotedName;\n      if (res) {\n        if (name in res) {\n          res = res[name];\n        }\n        typeof res == \"function\" && isFunc && (res = res());\n      }\n    },\n  );\n  res = (res == null || res == obj ? all : res) + \"\";\n\n  return res;\n}\n","\"use strict\";\n\nimport inherits from \"inherits-browser\";\nimport BaseRenderer from \"diagram-js/lib/draw/BaseRenderer\";\nimport Ids from \"ids\";\nimport { componentsToPath, createLine } from \"diagram-js/lib/util/RenderUtil\";\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  create as svgCreate,\n} from \"tiny-svg\";\nimport { query as domQuery } from \"min-dom\";\nimport { assign, isObject } from \"min-dash\";\nimport { getNumberStash } from \"src/app/tools/modeler/diagram-js/features/labeling/dsLabelEditingProvider\";\nimport {\n  addNumberToRegistry,\n  generateAutomaticNumber,\n  numberBoxDefinitions,\n} from \"src/app/tools/modeler/diagram-js/features/numbering/numbering\";\n\nimport { calculateTextWidth } from \"src/app/tools/modeler/diagram-js/features/labeling/dsLabelUtil\";\nimport {\n  countLines,\n  labelPosition,\n} from \"src/app/tools/modeler/diagram-js/features/labeling/position\";\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\nimport { angleBetween } from \"../../../../utils/mathExtensions\";\nimport { isCustomIcon, isCustomSvgIcon, getScaledPath } from \"./util/util\";\n\nlet RENDERER_IDS = new Ids();\nlet numbers = [];\nconst DEFAULT_COLOR = \"#000000\";\n\nlet _iconDictionaryService;\nlet _elementRegistryService;\nlet _dirtyFlagService;\n\nexport function initializeRenderer(\n  iconDictionaryService,\n  elementRegistryService,\n  dirtyFlagService,\n) {\n  _iconDictionaryService = iconDictionaryService;\n  _elementRegistryService = elementRegistryService;\n  _dirtyFlagService = dirtyFlagService;\n}\n\nexport default function DomainStoryRenderer(\n  eventBus,\n  styles,\n  canvas,\n  textRenderer,\n  commandStack,\n) {\n  BaseRenderer.call(this, eventBus, 2000);\n\n  let rendererId = RENDERER_IDS.next();\n  let markers = {};\n  let computeStyle = styles.computeStyle;\n\n  // generate the automatic Number for an activity originating from an actor\n  function generateActivityNumber(parentGfx, element, box) {\n    // whenever we want to edit an activity, it gets redrawn as a new object\n    // and the custom information is lost,\n    // so we stash it before the editing occurs and set the value here\n\n    let numberStash = getNumberStash();\n    let semantic = element.businessObject;\n\n    if (numberStash.use) {\n      semantic.number = numberStash.number;\n    }\n\n    numbers[semantic.number] = true;\n    box.x -= 26;\n    box.y -= 16;\n\n    if (semantic.number < 10) {\n      box.x += 3;\n    }\n\n    let newRenderedNumber = renderNumber(\n      parentGfx,\n      semantic.number,\n      numberStyle(box),\n      element.type,\n    );\n    addNumberToRegistry(newRenderedNumber, semantic.number);\n  }\n\n  // style functions\n  function numberStyle(box) {\n    return {\n      box: box,\n      fitBox: true,\n      style: assign({}, textRenderer.getExternalStyle(), {\n        fill: \"black\",\n        position: \"absolute\",\n      }),\n    };\n  }\n\n  function renderActorAndWorkObjectLabel(parentGfx, element, align, padding) {\n    let businessObject = element.businessObject;\n    return renderLabel(\n      parentGfx,\n      businessObject.name,\n      {\n        box: element,\n        align: align,\n        padding: padding ? padding : 0,\n        style: {\n          fill: \"#000000\",\n        },\n      },\n      element.type,\n    );\n  }\n\n  function renderActivityLabel(parentGfx, element) {\n    let semantic = element.businessObject;\n    let waypoints = element.waypoints;\n    let lines = countLines(semantic.name);\n\n    if (element.waypoints != null) {\n      let position = labelPosition(waypoints, lines);\n      let startPoint = element.waypoints[position.selected];\n      let endPoint = element.waypoints[position.selected + 1];\n      let angle = angleBetween(startPoint, endPoint);\n      let alignment = \"left\";\n      let boxWidth = 500;\n      let xStart = position.x;\n\n      // if the activity is horizontal, we want to center the label\n      if (angle === 0 || angle === 180) {\n        boxWidth = Math.abs(startPoint.x - endPoint.x);\n        alignment = \"center\";\n        xStart =\n          (startPoint.x + endPoint.x) / 2 - calculateTextWidth(semantic.name);\n      }\n\n      let box = {\n        textAlign: alignment,\n        width: boxWidth,\n        height: 30,\n        x: xStart,\n        y: position.y,\n      };\n\n      if (semantic.name && semantic.name.length) {\n        return renderLabel(\n          parentGfx,\n          semantic.name,\n          {\n            box: box,\n            fitBox: true,\n            style: assign({}, textRenderer.getExternalStyle(), {\n              fill: \"black\",\n              wordWrap: \"break-word\",\n              overflowWrap: \"break-word\",\n              hyphens: \"auto\",\n            }),\n          },\n          element.type,\n        );\n      }\n    }\n  }\n\n  // render the number associated with an activity\n  function renderExternalNumber(parentGfx, element) {\n    if (element && element.source) {\n      let semantic = element.businessObject;\n\n      let box = numberBoxDefinitions(element);\n\n      if (\n        semantic.number == null &&\n        element.source.type &&\n        element.source.type.includes(ElementTypes.ACTOR)\n      ) {\n        generateAutomaticNumber(element, commandStack);\n      }\n\n      // render the background for the number\n      if (semantic.number && element.source.type.includes(ElementTypes.ACTOR)) {\n        generateActivityNumber(parentGfx, element, box);\n      } else {\n        semantic.number = null;\n      }\n    }\n  }\n\n  // render a number on the canvas\n  function renderNumber(parentGfx, number, options, type) {\n    if (number < 10) {\n      number = String(number);\n    }\n    number = String(number);\n    let text = textRenderer.createText(number || \"\", options);\n    let height = 0;\n\n    svgClasses(text).add(\"djs-labelNumber\");\n\n    setCoordinates(type, text, options, height, parentGfx);\n\n    // !IMPORTANT!\n    // When converting svg-files via Inkscape or Photoshop the svg-circle is converted to a black dot that obscures the number.\n    // To circumvent this, we draw an arc.\n    let circle = svgCreate(\"path\");\n    let radius = 11;\n    let x = options.box.x + 18 + (number > 9 ? 3 : 0);\n    let y = options.box.y - radius + 7;\n    svgAttr(circle, {\n      d: `\n      M ${x} ${y}\n      m ${radius},0\n      a ${radius},${radius} 0 1,0 ${-radius * 2},0\n      a ${radius},${radius} 0 1,0 ${radius * 2},0\n      `,\n      fill: \"white\",\n      stroke: \"black\",\n    });\n\n    svgAppend(parentGfx, circle);\n    svgAppend(parentGfx, text);\n\n    return text;\n  }\n\n  // the coordinates of the activity label must be set directly and will not be taken from the box\n  function setCoordinates(type, text, options, height, parentGfx) {\n    if (/:activity$/.test(type)) {\n      text.innerHTML = manipulateInnerHTMLXLabel(\n        text.children,\n        options.box.x,\n        0,\n      );\n      text.innerHTML = manipulateInnerHTMLYLabel(\n        text.children,\n        options.box.y,\n        0,\n      );\n    } else if (/:actor/.test(type)) {\n      height = parentGfx.firstChild.attributes.height.nodeValue;\n      text.innerHTML = manipulateInnerHTMLYLabel(text.children, height, 0);\n    } else if (/:workObject/.test(type)) {\n      height = parentGfx.firstChild.attributes.height.nodeValue;\n      text.innerHTML = manipulateInnerHTMLYLabel(text.children, height, 26);\n    }\n  }\n\n  // render a label on the canvas\n  function renderLabel(parentGfx, label, options, type) {\n    let text = textRenderer.createText(label || \"\", options);\n    let height = 0;\n\n    svgClasses(text).add(\"djs-label\");\n    setCoordinates(type, text, options, height, parentGfx);\n\n    svgAppend(parentGfx, text);\n    return text;\n  }\n\n  // determine the Y-coordinate of the label / number to be rendered\n  function manipulateInnerHTMLYLabel(children, y, offset) {\n    if (children) {\n      let result = \"\";\n      for (let i = 0; i < children.length; i++) {\n        result += children[i].outerHTML.replace(\n          /y=\"-?\\d*.\\d*\"/,\n          'y=\"' + (Number(y) + offset + 14 * i) + '\"',\n        );\n      }\n      return result;\n    }\n  }\n\n  // determine the X-coordinate of the label / number to be rendered\n  function manipulateInnerHTMLXLabel(children, x, offset) {\n    if (children) {\n      let result = \"\";\n      for (let i = 0; i < children.length; i++) {\n        result += children[i].outerHTML.replace(\n          /x=\"-?\\d*.\\d*\"/,\n          'x=\"' + (Number(x) + offset + 14) + '\"',\n        );\n      }\n      return result;\n    }\n  }\n\n  // draw functions\n  this.drawGroup = function (parentGfx, element) {\n    if (!element.businessObject.pickedColor) {\n      element.businessObject.pickedColor = DEFAULT_COLOR;\n    }\n    let rect = drawRect(\n      parentGfx,\n      element.width,\n      element.height,\n      0,\n      assign(\n        {\n          fill: \"none\",\n          stroke: element.businessObject.pickedColor,\n        },\n        element.attrs,\n      ),\n    );\n    renderActorAndWorkObjectLabel(parentGfx, element, \"left-top\", 8);\n\n    return rect;\n  };\n\n  function applyColorToCustomSvgIcon(pickedColor, iconSvg) {\n    if (!pickedColor) {\n      return iconSvg;\n    }\n    const [rest, base64Svg] = iconSvg.split(\"base64,\");\n    const svg = atob(base64Svg);\n    const coloredSvg = applyColorToIcon(pickedColor, svg);\n    const encodedColoredSvg = btoa(coloredSvg);\n    return rest + \"base64,\" + encodedColoredSvg;\n  }\n\n  function applyColorToIcon(pickedColor = DEFAULT_COLOR, iconSvg) {\n    const match = iconSvg.match(\n      /fill=\\s*\"(?!none).*?\"|fill:\\s*[#r]\\w*[;\\s]{1}/,\n    );\n    if (match && match.some((it) => it)) {\n      return iconSvg\n        .replaceAll(/fill=\\s*\"(?!none).*?\"/g, `fill=\"${pickedColor} \"`)\n        .replaceAll(/fill:\\s*[#r]\\w*[;\\s]{1}/g, `fill:${pickedColor};`);\n    } else {\n      const index = iconSvg.indexOf(\"<svg \") + 5;\n      return (\n        iconSvg.substring(0, index) +\n        ' fill=\" ' +\n        pickedColor +\n        '\" ' +\n        iconSvg.substring(index)\n      );\n    }\n  }\n\n  function getIconSvg(icon, element) {\n    const pickedColor = element.businessObject.pickedColor;\n    if (isCustomIcon(icon)) {\n      let dataURL;\n      if (isCustomSvgIcon(icon)) {\n        dataURL = applyColorToCustomSvgIcon(pickedColor, icon);\n      } else {\n        dataURL = icon;\n        if (pickedColor && pickedColor !== DEFAULT_COLOR) {\n          document.dispatchEvent(new CustomEvent(\"errorColoringOnlySvg\"));\n        }\n      }\n      return (\n        '<svg viewBox=\"0 0 24 24\" width=\"48\" height=\"48\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">' +\n        '<image width=\"24\" height=\"24\" xlink:href=\"' +\n        dataURL +\n        '\"/></svg>'\n      );\n    } else {\n      return applyColorToIcon(pickedColor, icon);\n    }\n  }\n\n  this.drawActor = function (parent, element) {\n    let svgDynamicSizeAttributes = {\n      width: element.width,\n      height: element.height,\n    };\n    let iconSRC = _iconDictionaryService.getTypeIconSRC(\n      ElementTypes.ACTOR,\n      ElementTypes.getIconId(element.type),\n    );\n    iconSRC = getIconSvg(iconSRC, element);\n    let actor = svgCreate(iconSRC);\n\n    svgAttr(actor, svgDynamicSizeAttributes);\n    svgAppend(parent, actor);\n\n    renderActorAndWorkObjectLabel(parent, element, \"center\", -5);\n    return actor;\n  };\n\n  this.drawWorkObject = function (parent, element) {\n    let svgDynamicSizeAttributes = {\n        width: element.width * 0.65,\n        height: element.height * 0.65,\n        x: element.width / 2 - 25,\n        y: element.height / 2 - 25,\n      },\n      workObject;\n    let iconSRC = _iconDictionaryService.getTypeIconSRC(\n      ElementTypes.WORKOBJECT,\n      ElementTypes.getIconId(element.type),\n    );\n    iconSRC = getIconSvg(iconSRC, element);\n    workObject = svgCreate(iconSRC);\n\n    svgAttr(workObject, svgDynamicSizeAttributes);\n    svgAppend(parent, workObject);\n    renderActorAndWorkObjectLabel(parent, element, \"center\", -5);\n\n    return workObject;\n  };\n\n  function useColorForActivity(element) {\n    if (!element.businessObject.pickedColor) {\n      element.businessObject.pickedColor = \"black\";\n    }\n    let attrs = \"\";\n    return computeStyle(attrs, {\n      stroke: element.businessObject.pickedColor,\n      fill: \"none\",\n      strokeWidth: 1.5,\n      strokeLinejoin: \"round\",\n      markerEnd: marker(\n        \"activity\",\n        \"black\",\n        element.businessObject.pickedColor,\n      ),\n    });\n  }\n\n  this.drawActivity = function (p, element) {\n    adjustForTextOverlap(element);\n\n    if (element) {\n      let attrs = useColorForActivity(element);\n\n      let x = svgAppend(p, createLine(element.waypoints, attrs));\n      renderActivityLabel(p, element);\n      renderExternalNumber(p, element);\n\n      // just adjusting the start- and endpoint of the connection-element moves only the drawn connection,\n      // not the interactive line. This can be fixed by manually overriding the points of the interactive polyline\n      // in the HTMl with the points of the drawn one.\n      // this however does not adjust the surrounding box of the connection.\n      fixConnectionInHTML(p.parentElement);\n\n      // changes the color of the moved activity back to original instead of blue\n      if (p.className.baseVal === \"djs-dragger\") {\n        svgClasses(p).remove(\"djs-dragger\");\n        svgClasses(p).add(\"djs-connection-preview\");\n      }\n\n      return x;\n    }\n  };\n\n  function checkIfPointOverlapsText(point, source) {\n    if (point.y > source.y + 60) {\n      if (point.x > source.x + 3 && point.x < source.x + 72) {\n        let lineOffset = getLineOffset(source);\n        if (source.y + 75 + lineOffset > point.y) {\n          point.y += lineOffset;\n        }\n      }\n    }\n  }\n\n  function adjustForTextOverlap(element) {\n    let source = element.source;\n    let target = element.target;\n\n    let waypoints = element.waypoints;\n    let startPoint = waypoints[0];\n    let endPoint = waypoints[waypoints.length - 1];\n\n    if (startPoint && endPoint && source && target) {\n      checkIfPointOverlapsText(startPoint, source);\n      checkIfPointOverlapsText(endPoint, source);\n    }\n  }\n\n  function getLineOffset(element) {\n    let id = element.id;\n    let offset = 0;\n\n    let objects = document.getElementsByClassName(\"djs-element djs-shape\");\n    for (let i = 0; i < objects.length; i++) {\n      let data_id = objects.item(i).getAttribute(\"data-element-id\");\n      if (data_id === id) {\n        let object = objects.item(i);\n        let text = object.getElementsByTagName(\"text\")[0];\n        let tspans = text.getElementsByTagName(\"tspan\");\n        let tspan = tspans[tspans.length - 1];\n        offset = tspan.getAttribute(\"y\");\n      }\n    }\n    return offset - 70;\n  }\n\n  function fixConnectionInHTML(wantedConnection) {\n    if (wantedConnection) {\n      let polylines = wantedConnection.getElementsByTagName(\"polyline\");\n      if (polylines.length > 1) {\n        polylines[1].setAttribute(\n          \"points\",\n          polylines[0].getAttribute(\"points\"),\n        );\n      }\n    }\n  }\n\n  this.drawDSConnection = function (p, element) {\n    let attrs = \"\";\n    attrs = computeStyle(attrs, {\n      stroke: element.businessObject.pickedColor ?? \"black\",\n      strokeWidth: 1.5,\n      strokeLinejoin: \"round\",\n      strokeDasharray: \"5, 5\",\n    });\n\n    return svgAppend(p, createLine(element.waypoints, attrs));\n  };\n\n  this.drawAnnotation = function (parentGfx, element) {\n    let style = {\n      fill: \"none\",\n      stroke: \"none\",\n    };\n\n    let text = element.businessObject.text || \"\";\n    if (element.businessObject.text) {\n      let height = element.height ?? 0;\n\n      if (height === 0 && element.businessObject.number) {\n        height = element.businessObject.number;\n      }\n      assign(element, {\n        height: height,\n      });\n\n      // for some reason the keyword height is not exported, so we use another, which we know will be exported,\n      // to ensure persistent annotation heights between sessions\n      assign(element.businessObject, {\n        number: height,\n      });\n    }\n\n    let textElement = drawRect(\n      parentGfx,\n      element.width,\n      element.height,\n      0,\n      0,\n      style,\n    );\n    let textPathData = getScaledPath({\n      xScaleFactor: 1,\n      yScaleFactor: 1,\n      containerWidth: element.width,\n      containerHeight: element.height,\n      position: {\n        mx: 0.0,\n        my: 0.0,\n      },\n    });\n\n    drawPath(parentGfx, textPathData, {\n      stroke: element.businessObject.pickedColor ?? \"black\",\n    });\n\n    renderLabel(parentGfx, text, {\n      box: element,\n      align: \"left-top\",\n      padding: 5,\n      style: {\n        fill: element.businessObject.pickedColor ?? \"black\",\n      },\n    });\n\n    return textElement;\n  };\n\n  // draw helper functions\n  function drawPath(parentGfx, d, attrs) {\n    attrs = computeStyle(attrs, [\"no-fill\"], {\n      strokeWidth: 2,\n      stroke: \"black\",\n    });\n\n    let path = svgCreate(\"path\");\n    svgAttr(path, { d: d });\n    svgAttr(path, attrs);\n\n    svgAppend(parentGfx, path);\n\n    return path;\n  }\n\n  function drawRect(parentGfx, width, height, r, offset, attrs) {\n    if (isObject(offset)) {\n      attrs = offset;\n      offset = 0;\n    }\n\n    offset = offset || 0;\n    attrs = computeStyle(attrs, {\n      stroke: \"black\",\n      strokeWidth: 2,\n      fill: \"white\",\n    });\n\n    let rect = svgCreate(\"rect\");\n    svgAttr(rect, {\n      x: offset,\n      y: offset,\n      width: width - offset * 2,\n      height: height - offset * 2,\n      rx: r,\n      ry: r,\n    });\n\n    svgAttr(rect, attrs);\n    svgAppend(parentGfx, rect);\n\n    return rect;\n  }\n\n  // marker functions (\"markers\" are arrowheads of activities)\n  function marker(type, fill, stroke) {\n    let id = type + \"-\" + fill + \"-\" + stroke + \"-\" + rendererId;\n\n    if (!markers[id]) {\n      createMarker(type, fill, stroke);\n    }\n    return \"url(#\" + id + \")\";\n  }\n\n  function createMarker(type, fill, stroke) {\n    let id = type + \"-\" + fill + \"-\" + stroke + \"-\" + rendererId;\n\n    if (type === \"activity\") {\n      let activityArrow = svgCreate(\"path\");\n      svgAttr(activityArrow, { d: \"M 1 5 L 11 10 L 1 15 Z\" });\n\n      addMarker(id, {\n        element: activityArrow,\n        ref: { x: 11, y: 10 },\n        scale: 0.5,\n        attrs: {\n          fill: stroke,\n          stroke: stroke,\n        },\n      });\n    }\n  }\n\n  function addMarker(id, options) {\n    let attrs = assign(\n      {\n        fill: \"black\",\n        strokeWidth: 1,\n        strokeLinecap: \"round\",\n        strokeDasharray: \"none\",\n      },\n      options.attrs,\n    );\n\n    let ref = options.ref || { x: 0, y: 0 };\n    let scale = options.scale || 1;\n\n    // resetting stroke dash array\n    if (attrs.strokeDasharray === \"none\") {\n      attrs.strokeDasharray = [10000, 1];\n    }\n\n    let marker = svgCreate(\"marker\");\n\n    svgAttr(options.element, attrs);\n    svgAppend(marker, options.element);\n    svgAttr(marker, {\n      id: id,\n      viewBox: \"0 0 20 20\",\n      refX: ref.x,\n      refY: ref.y,\n      markerWidth: 20 * scale,\n      markerHeight: 20 * scale,\n      orient: \"auto\",\n    });\n\n    let defs = domQuery(\"defs\", canvas._svg);\n    if (!defs) {\n      defs = svgCreate(\"defs\");\n      svgAppend(canvas._svg, defs);\n    }\n    svgAppend(defs, marker);\n    markers[id] = marker;\n  }\n\n  // path functions\n  this.getWorkObjectPath = function (shape) {\n    let rectangle = getRectPath(shape);\n    return componentsToPath(rectangle);\n  };\n\n  this.getGroupPath = function (shape) {\n    let rectangle = getRectPath(shape);\n    return componentsToPath(rectangle);\n  };\n\n  this.getActivityPath = function (connection) {\n    let waypoints = connection.waypoints.map(function (p) {\n      return p.original || p;\n    });\n\n    let activityPath = [[\"M\", waypoints[0].x, waypoints[0].y]];\n\n    waypoints.forEach(function (waypoint, index) {\n      if (index !== 0) {\n        activityPath.push([\"L\", waypoint.x, waypoint.y]);\n      }\n    });\n    return componentsToPath(activityPath);\n  };\n\n  this.getActorPath = function (shape) {\n    let rectangle = getRectPath(shape);\n    return componentsToPath(rectangle);\n  };\n\n  eventBus.on(\"bendpoint.move.start\", 200, function (event) {\n    // the bendpoint which we are dragging will otherwise be displayed with 0.3 opacity\n    // through bendpoint-dragging we match the css class more specificly, hence our style applies\n    svgClasses(event.context.draggerGfx).add(\"bendpoint-dragging\");\n    // the old path of the activity will otherwise be displayed in gray\n    canvas.addMarker(event.context.connection, \"djs-element-hidden\");\n  });\n\n  eventBus.on(\"bendpoint.move.end\", 2000, function (event) {\n    // the acitvity will not be displayed if we don't remove the marker we added during bendpoint.move.start\n    // high priority is neccessary, so we come before something that might stop the execution\n    canvas.removeMarker(event.context.connection, \"djs-element-hidden\");\n  });\n}\n\ninherits(DomainStoryRenderer, BaseRenderer);\n\nDomainStoryRenderer.$inject = [\n  \"eventBus\",\n  \"styles\",\n  \"canvas\",\n  \"textRenderer\",\n  \"commandStack\",\n];\n\nDomainStoryRenderer.prototype.canRender = function (element) {\n  return /^domainStory:/.test(element.type);\n};\n\nDomainStoryRenderer.prototype.drawShape = function (p, element) {\n  // polyfill for tests\n  if (!String.prototype.startsWith) {\n    Object.defineProperty(String.prototype, \"startsWith\", {\n      value: function (search, pos) {\n        pos = !pos || pos < 0 ? 0 : +pos;\n        return this.substring(pos, pos + search.length) === search;\n      },\n    });\n  }\n\n  let type = element.type;\n  element.businessObject.type = type;\n\n  _elementRegistryService.correctInitialize();\n  _dirtyFlagService.makeDirty();\n\n  if (type.includes(ElementTypes.ACTOR)) {\n    return this.drawActor(p, element);\n  } else if (type.includes(ElementTypes.WORKOBJECT)) {\n    return this.drawWorkObject(p, element);\n  } else if (type.includes(ElementTypes.TEXTANNOTATION)) {\n    return this.drawAnnotation(p, element);\n  } else if (type.includes(ElementTypes.GROUP)) {\n    return this.drawGroup(p, element);\n  }\n};\n\nDomainStoryRenderer.prototype.getShapePath = function (shape) {\n  let type = shape.type;\n\n  if (type.includes(ElementTypes.ACTOR)) {\n    return this.getActorPath(shape);\n  } else if (type.includes(ElementTypes.WORKOBJECT)) {\n    return this.getWorkObjectPath(shape);\n  } else if (type.includes(ElementTypes.GROUP)) {\n    return this.getGroupPath(shape);\n  }\n};\n\nDomainStoryRenderer.prototype.drawConnection = function (p, element) {\n  let type = element.type;\n\n  _dirtyFlagService.makeDirty();\n\n  // fixes activities that were copy-pasted\n  if (!element.businessObject.type) {\n    element.businessObject.type = type;\n  }\n  if (type === ElementTypes.ACTIVITY) {\n    return this.drawActivity(p, element);\n  } else if (type === ElementTypes.CONNECTION) {\n    return this.drawDSConnection(p, element);\n  }\n};\n\n// creates a SVG path that describes a rectangle which encloses the given shape.\nfunction getRectPath(shape) {\n  let offset = 5;\n  let x = shape.x,\n    y = shape.y,\n    width = shape.width / 2 + offset,\n    height = shape.height / 2 + offset;\n\n  return [\n    [\"M\", x, y],\n    [\"l\", width, 0],\n    [\"l\", width, height],\n    [\"l\", -width, height],\n    [\"l\", -width, 0],\n    [\"z\"],\n  ];\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowser } from '@angular/platform-browser';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowser()\n  .bootstrapModule(AppModule)\n  .catch((err) => console.error(err));\n","import { Injectable } from '@angular/core';\n\nimport { ElementTypes } from 'src/app/domain/entities/elementTypes';\nimport { CanvasObject } from 'src/app/domain/entities/canvasObject';\nimport { GroupCanvasObject } from '../entities/groupCanvasObject';\nimport { ActivityCanvasObject } from '../entities/activityCanvasObject';\nimport { UsedIconList } from 'src/app/domain/entities/UsedIconList';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ElementRegistryService {\n  private registry: any;\n  private fullyInitialized = false;\n\n  /**\n   * Initially the registry has only the root-Element.\n   * Once the canvas has bees initialized, we adjust the reference to point to the elements on the canvas for convenience\n   */\n  correctInitialize(): void {\n    if (!this.fullyInitialized) {\n      if (this.registry.__implicitroot) {\n        this.registry = this.registry.__implicitroot.element.children;\n        this.fullyInitialized = true;\n      }\n    }\n  }\n\n  setElementRegistry(registry: any): void {\n    this.registry = registry._elements;\n  }\n\n  clear(): void {\n    this.registry = null;\n    this.fullyInitialized = false;\n  }\n\n  createObjectListForDSTDownload(): CanvasObject[] {\n    if (this.registry) {\n      const allObjectsFromCanvas = this.getAllCanvasObjects();\n      const groups = this.getAllGroups();\n      const objectList: CanvasObject[] = [];\n\n      this.fillListOfCanvasObjects(allObjectsFromCanvas, objectList, groups);\n\n      return objectList;\n    }\n    return [];\n  }\n\n  private fillListOfCanvasObjects(\n    allObjectsFromCanvas: CanvasObject[],\n    objectList: CanvasObject[],\n    groups: GroupCanvasObject[],\n  ): void {\n    allObjectsFromCanvas.forEach((canvasElement) => {\n      if (canvasElement.type === ElementTypes.ACTIVITY) {\n        objectList.push(canvasElement);\n      }\n\n      // ensure that Activities are always after Actors, Workobjects and Groups in .dst files\n      else {\n        if (canvasElement.type === ElementTypes.TEXTANNOTATION) {\n          canvasElement.businessObject.width = canvasElement.width;\n          canvasElement.businessObject.height = canvasElement.height;\n        }\n        if (!objectList.includes(canvasElement)) {\n          objectList.unshift(canvasElement);\n        }\n      }\n    });\n\n    groups.forEach((group) => {\n      objectList.push(group);\n    });\n  }\n\n  getAllActivities(): ActivityCanvasObject[] {\n    const activities: ActivityCanvasObject[] = [];\n\n    this.getAllCanvasObjects().forEach((element) => {\n      if (element.type.includes(ElementTypes.ACTIVITY)) {\n        activities.push(element as ActivityCanvasObject);\n      }\n    });\n    return activities;\n  }\n\n  getAllConnections(): ActivityCanvasObject[] {\n    const connections: ActivityCanvasObject[] = [];\n    this.getAllCanvasObjects().forEach((element) => {\n      const type = element.type;\n      if (type === ElementTypes.CONNECTION) {\n        connections.push(element as ActivityCanvasObject);\n      }\n    });\n    return connections;\n  }\n\n  getAllCanvasObjects(): CanvasObject[] {\n    const allObjects: CanvasObject[] = [];\n    const groupObjects: GroupCanvasObject[] = [];\n\n    this.checkChildForGroup(groupObjects, allObjects);\n\n    // for each memorized group, remove it from the group-array and check its children, whether they are groups or not\n    // if a child is a group, memorize it in the group-array\n    // other children should already be in the allObjects list\n    while (groupObjects.length >= 1) {\n      const currentGroup = groupObjects.pop();\n      // @ts-ignore\n      currentGroup.children.forEach((child: CanvasObject) => {\n        const type = child.type;\n        if (type.includes(ElementTypes.GROUP)) {\n          groupObjects.push(child as GroupCanvasObject);\n        }\n      });\n    }\n    return allObjects;\n  }\n\n  // returns all groups on the canvas and inside other groups\n  getAllGroups(): GroupCanvasObject[] {\n    const groupObjects: GroupCanvasObject[] = [];\n    const allObjects: CanvasObject[] = [];\n\n    this.checkChildForGroup(groupObjects, allObjects);\n\n    for (const group of groupObjects) {\n      group.children?.forEach((child: CanvasObject) => {\n        if (child.type.includes(ElementTypes.GROUP)) {\n          groupObjects.push(child as GroupCanvasObject);\n        }\n      });\n    }\n\n    const seenIds = new Set<string>();\n\n    return groupObjects.filter((groupObject) => {\n      const isNewId = !seenIds.has(groupObject.id);\n      if (isNewId) {\n        seenIds.add(groupObject.id);\n      }\n      return isNewId;\n    });\n  }\n\n  private checkChildForGroup(\n    groupObjects: GroupCanvasObject[],\n    allObjects: CanvasObject[],\n  ): void {\n    const registryElementNames = Object.keys(this.registry);\n    for (let name of registryElementNames) {\n      const entry = this.registry[name].element;\n      if (entry.businessObject) {\n        const type = entry.type;\n        if (type && type.includes(ElementTypes.GROUP)) {\n          // if it is a group, memorize this for later\n          groupObjects.push(entry);\n        } else if (type) {\n          allObjects.push(entry);\n        }\n      }\n    }\n  }\n\n  // get a list of activities, that originate from an actor-type\n  getActivitiesFromActors(): ActivityCanvasObject[] {\n    const activitiesFromActors: ActivityCanvasObject[] = [];\n    const activities = this.getAllActivities();\n\n    activities.forEach((activity: ActivityCanvasObject) => {\n      if (activity.source?.type.includes(ElementTypes.ACTOR)) {\n        activitiesFromActors.push(activity);\n      }\n    });\n\n    // sort by activityBusinessObject number\n    activitiesFromActors.sort(\n      (\n        activityCanvasA: ActivityCanvasObject,\n        activityCanvasB: ActivityCanvasObject,\n      ) => {\n        const activityNumberA = Number(activityCanvasA.businessObject.number);\n        const activityNumberB = Number(activityCanvasB.businessObject.number);\n\n        return activityNumberA - activityNumberB;\n      },\n    );\n\n    return activitiesFromActors;\n  }\n\n  getUsedIcons(): UsedIconList {\n    const actors = this.getAllActors();\n    const workobjects = this.getAllWorkobjects();\n\n    return {\n      actors: actors.map((a) => a.type.replace(ElementTypes.ACTOR, '')),\n      workobjects: workobjects.map((w) =>\n        w.type.replace(ElementTypes.WORKOBJECT, ''),\n      ),\n    };\n  }\n\n  private getAllActors() {\n    return this.getAllCanvasObjects().filter((co) =>\n      co.type.includes(ElementTypes.ACTOR),\n    );\n  }\n\n  getAllWorkobjects() {\n    return this.getAllCanvasObjects().filter((co) =>\n      co.type.includes(ElementTypes.WORKOBJECT),\n    );\n  }\n}\n","import { FormControl, FormGroup } from '@angular/forms';\n\nexport interface TitleDialogForm {\n  title: FormControl<string | null>;\n  description: FormControl<string | null>;\n}\n\nexport namespace TitleDialogForm {\n  export function create(\n    titel: string,\n    description: string,\n  ): FormGroup<TitleDialogForm> {\n    return new FormGroup<TitleDialogForm>({\n      title: new FormControl<string | null>(titel),\n      description: new FormControl<string | null>(description),\n    });\n  }\n}\n","\"use strict\";\n\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\nimport Replace from \"./replace\";\nimport * as replaceOptions from \"./replaceOptions\";\n\nimport { forEach } from \"min-dash\";\n\n/**\n * This module is an element agnostic replace menu provider for the popup menu.\n */\nexport default function ReplaceMenuProvider(modeling) {\n  this._dsReplace = new Replace(modeling);\n  this._modeling = modeling;\n}\n\nReplaceMenuProvider.$inject = [\"modeling\"];\n\n/**\n * Get all entries from replaceOptions for the given element and apply filters\n * on them. Get for example only elements, which are different from the current one.\n *\n * @param {djs.model.Base} element\n *\n * @return {Array<Object>} a list of menu entry items\n */\nReplaceMenuProvider.prototype.getEntries = function (element) {\n  let entries;\n  if (element.type.includes(ElementTypes.ACTOR)) {\n    entries = replaceOptions.actorReplaceOptions(element.type);\n  } else if (element.type.includes(ElementTypes.WORKOBJECT)) {\n    entries = replaceOptions.workObjectReplaceOptions(element.type);\n  }\n\n  return this._createEntries(element, entries);\n};\n\n/**\n * Creates an array of menu entry objects for a given element and filters the replaceOptions\n * according to a filter function.\n *\n * @param  {djs.model.Base} element\n * @param  {Object} replaceOptions\n *\n * @return {Array<Object>} a list of menu items\n */\nReplaceMenuProvider.prototype._createEntries = function (\n  element,\n  replaceOptions,\n) {\n  let menuEntries = [];\n\n  let self = this;\n\n  forEach(replaceOptions, function (definition) {\n    let entry = self._createMenuEntry(definition, element);\n\n    menuEntries.push(entry);\n  });\n\n  return menuEntries;\n};\n\n/**\n * Creates and returns a single menu entry item.\n *\n * @param  {Object} definition a single replace options definition object\n * @param  {djs.model.Base} element\n * @param  {Function} [action] an action callback function which gets called when\n *                             the menu entry is being triggered.\n *\n * @return {Object} menu entry item\n */\nReplaceMenuProvider.prototype._createMenuEntry = function (\n  definition,\n  element,\n  action,\n) {\n  let replaceElement = this._dsReplace.replaceElement;\n  let modeling = this._modeling;\n  let replaceAction = function () {\n    return replaceElement(element, definition.target, modeling);\n  };\n\n  action = action || replaceAction;\n\n  return {\n    label: definition.label,\n    className: definition.className,\n    id: definition.actionName,\n    action: action,\n  };\n};\n","import { Injectable } from '@angular/core';\nimport { sanitizeForDesktop } from '../../../utils/sanitizer';\nimport { ReplayService } from '../../replay/services/replay.service';\n// @ts-ignore\nimport doT from 'dot';\nimport { TitleService } from '../../title/services/title.service';\n\n@Injectable({\n  providedIn: 'root',\n})\n/**\n * Initial idea and PR from https://github.com/indika-dev\n */\nexport class HtmlPresentationService {\n  constructor(\n    private replayService: ReplayService,\n    private titleService: TitleService,\n  ) {}\n\n  private multiplexSecret: any;\n  private multiplexId: any;\n\n  private static viewBoxCoordinates(svg: any): any {\n    const ViewBoxCoordinate =\n      /width=\"([^\"]+)\"\\s+height=\"([^\"]+)\"\\s+viewBox=\"([^\"]+)\"/;\n    const match = svg.match(ViewBoxCoordinate);\n    return match[3];\n  }\n\n  /*\n  ---------------------------\n  SVG handling starts here\n  ----------------------------\n  */\n\n  async downloadHTMLPresentation(\n    filename: string,\n    modeler: any,\n  ): Promise<void> {\n    const svgData = [];\n    // export all sentences of domain story\n    this.replayService.startReplay();\n    try {\n      const result = await modeler.saveSVG({});\n      this.fixActivityMarkersForEachSentence(\n        result,\n        this.replayService.getCurrentSentenceNumber(),\n      );\n      svgData.push({\n        content: HtmlPresentationService.createSVGData(result.svg),\n        transition: 'slide',\n      });\n    } catch (err) {\n      alert('There was an error exporting the SVG.\\n' + err);\n    }\n    while (\n      this.replayService.getCurrentSentenceNumber() <\n      this.replayService.getMaxSentenceNumber()\n    ) {\n      this.replayService.nextSentence();\n      try {\n        const result = await modeler.saveSVG({});\n        this.fixActivityMarkersForEachSentence(\n          result,\n          this.replayService.getCurrentSentenceNumber(),\n        );\n        svgData.push({\n          content: HtmlPresentationService.createSVGData(result.svg),\n          transition: 'slide',\n        });\n      } catch (err) {\n        alert('There was an error exporting the SVG.\\n' + err);\n      }\n    }\n    this.replayService.stopReplay();\n\n    // create download for presentation\n    const revealjsTemplate = document.getElementById('revealjs-template');\n    const dots = doT.template(revealjsTemplate?.innerHTML);\n    const revealjsData = {\n      script: 'script',\n      title: this.titleService.getTitle(),\n      description: this.titleService.getDescription(),\n      sentences: svgData,\n      multiplexSecret: this.multiplexSecret,\n      multiplexId: this.multiplexId,\n    };\n    const element = document.createElement('a');\n    element.setAttribute(\n      'href',\n      'data:text/html;charset=UTF-8,' +\n        this.fixMalformedHtmlScript(dots, revealjsData),\n    );\n    element.setAttribute('download', sanitizeForDesktop(filename) + '.html');\n    element.style.display = 'none';\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  private fixMalformedHtmlScript(\n    dots: any,\n    revealjsData: {\n      multiplexId: any;\n      sentences: any[];\n      multiplexSecret: any;\n      description: string;\n      title: string;\n      script: string;\n    },\n  ) {\n    return dots(revealjsData).replace('</ script', '</script');\n  }\n\n  // tslint:disable-next-line:align\n  private static createSVGData(svg: any): string {\n    let data = structuredClone(svg);\n\n    // to ensure that the title and description are inside the SVG container and do not overlap with any elements,\n    // we change the confines of the SVG viewbox\n    let viewBoxIndex = data.indexOf('width=\"');\n\n    const viewBox = HtmlPresentationService.viewBoxCoordinates(data);\n\n    let xLeft: number;\n    let width: number;\n    let yUp: number;\n    let height: number;\n    const splitViewBox = viewBox.split(/\\s/);\n\n    xLeft = +splitViewBox[0];\n    yUp = +splitViewBox[1];\n    width = +splitViewBox[2];\n    height = +splitViewBox[3];\n\n    if (width < 300) {\n      width += 300;\n    }\n\n    const dataStart = data.substring(0, viewBoxIndex);\n    viewBoxIndex = data.indexOf('\" version');\n    const dataEnd = data.substring(viewBoxIndex);\n    dataEnd.substring(viewBoxIndex);\n\n    data = dataStart + this.createBounds(xLeft, yUp, width, height) + dataEnd;\n\n    return encodeURIComponent(data);\n  }\n\n  private static createBounds(\n    xLeft: number,\n    yUp: number,\n    width: number,\n    height: number,\n  ) {\n    return (\n      'width=\"100%\"' +\n      ' height=\"100%\" ' +\n      ' preserveAspectRatio=\"xMidYMid meet\"' +\n      ' viewBox=\"' +\n      xLeft +\n      ' ' +\n      yUp +\n      ' ' +\n      (xLeft + width) +\n      ' ' +\n      (yUp + height)\n    );\n  }\n\n  /**\n   * There is a Problem in the HTML-Presentation, where the Arrow-Heads of the Activities are not shown after the 4th sentence\n   * This is due to the fact, that the marker for the Arrow-Head is defined in each sentence with the same ID\n   * When the 5th sentence is reached, the first marker is set to display none, which propagates to all other markers\n   *\n   * To fix this, for each sentence the marker and its references are renamed\n   */\n  private fixActivityMarkersForEachSentence(\n    result: { svg: string },\n    sectionIndex: number,\n  ): void {\n    const defs = result.svg.substring(\n      result.svg.indexOf('<defs>'),\n      result.svg.indexOf('</defs>') + 7,\n    );\n    const split = defs.split('<marker ');\n\n    let newDefs = split[0];\n\n    for (let i = 1; i < split.length; i++) {\n      const ids = split[i].match(/(id=\"[^\"]*\")/g);\n      ids?.forEach((id) => {\n        const idToReplace = id.substring(4, id.length - 1);\n        const newId =\n          idToReplace.slice(0, id.length - 5) +\n          'customId' +\n          sectionIndex +\n          idToReplace.slice(idToReplace.length - 2);\n        // @ts-ignore\n        result.svg = result.svg.replaceAll(idToReplace, newId);\n      });\n      newDefs += '<marker display= \"block !important\"; ' + split[i];\n    }\n\n    result.svg = result.svg.replace(defs, newDefs);\n  }\n}\n","\"use strict\";\n\nimport { getNumbersAndIDs } from \"../numbering/numbering\";\n\n/**\n * commandStack Handler for changes at activities\n */\n\nlet canvasElementRegistry;\nexport function initializeActivityUpdateHandler(canvasElementRegistryService) {\n  canvasElementRegistry = canvasElementRegistryService;\n}\n\nexport default function activityUpdateHandler(commandStack, eventBus) {\n  commandStack.registerHandler(\n    \"activity.directionChange\",\n    activity_directionChange,\n  );\n  commandStack.registerHandler(\"activity.changed\", activity_changed);\n\n  // update the activity from the activity-dialog, either with or without number\n  // and change other activities too, to keep the numbers consistent\n  function activity_changed(modeling) {\n    this.preExecute = function (context) {\n      context.oldLabel = context.businessObject.name || \" \";\n\n      let oldNumbersWithIDs = getNumbersAndIDs();\n      modeling.updateLabel(context.businessObject, context.newLabel);\n      modeling.updateNumber(context.businessObject, context.newNumber);\n\n      context.oldNumber = context.businessObject.number;\n      context.oldNumbersWithIDs = oldNumbersWithIDs;\n    };\n\n    this.execute = function (context) {\n      let businessObject = context.businessObject;\n      let element = context.element;\n\n      if (context.newLabel && context.newLabel.length < 1) {\n        context.newLabel = \" \";\n      }\n\n      businessObject.name = context.newLabel;\n      businessObject.number = context.newNumber;\n\n      eventBus.fire(\"element.changed\", { element });\n    };\n\n    this.revert = function (context) {\n      let semantic = context.businessObject;\n      let element = context.element;\n      semantic.name = context.oldLabel;\n      semantic.number = context.oldNumber;\n\n      revertAutomaticNumberGenerationChange(\n        context.oldNumbersWithIDs,\n        eventBus,\n      );\n\n      eventBus.fire(\"element.changed\", { element });\n    };\n  }\n\n  // change the direction of a single activity without affecting other activities\n  function activity_directionChange(modeling) {\n    this.preExecute = function (context) {\n      context.oldNumber = context.businessObject.number;\n      context.oldWaypoints = context.element.waypoints;\n      context.name = context.businessObject.name;\n\n      if (!context.oldNumber) {\n        context.oldNumber = 0;\n      }\n      modeling.updateNumber(context.businessObject, context.newNumber);\n    };\n\n    this.execute = function (context) {\n      let businessObject = context.businessObject;\n      let element = context.element;\n      let swapSource = element.source;\n      let newWaypoints = [];\n      let waypoints = element.waypoints;\n\n      for (let i = waypoints.length - 1; i >= 0; i--) {\n        newWaypoints.push(waypoints[i]);\n      }\n\n      element.source = element.target;\n      businessObject.source = businessObject.target;\n      element.target = swapSource;\n      businessObject.target = swapSource.id;\n\n      businessObject.name = context.name;\n      businessObject.number = context.newNumber;\n      element.waypoints = newWaypoints;\n\n      eventBus.fire(\"element.changed\", { element });\n    };\n\n    this.revert = function (context) {\n      let semantic = context.businessObject;\n      let element = context.element;\n      let swapSource = element.source;\n\n      element.source = element.target;\n      semantic.source = semantic.target;\n      element.target = swapSource;\n      semantic.target = swapSource.id;\n\n      semantic.name = context.name;\n\n      semantic.number = context.oldNumber;\n      element.waypoints = context.oldWaypoints;\n\n      eventBus.fire(\"element.changed\", { element });\n    };\n  }\n}\n\n// reverts the automatic changed done by the automatic number-generation at editing\nfunction revertAutomaticNumberGenerationChange(iDWithNumber, eventBus) {\n  let activities = canvasElementRegistry?.getActivitesFromActors();\n  for (let i = activities.length - 1; i >= 0; i--) {\n    for (let j = iDWithNumber.length - 1; j >= 0; j--) {\n      if (iDWithNumber[j].id.includes(activities[i].businessObject.id)) {\n        let element = activities[i];\n        element.businessObject.number = iDWithNumber[j].number;\n        j = -5;\n        eventBus.fire(\"element.changed\", { element });\n        iDWithNumber.splice(j, 1);\n      }\n    }\n  }\n}\n","import { Component, Inject, OnInit } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { BehaviorSubject } from 'rxjs/internal/BehaviorSubject';\n\n@Component({\n  selector: 'app-import-dialog',\n  templateUrl: './import-dialog.component.html',\n  styleUrls: ['./import-dialog.component.scss'],\n  standalone: false,\n})\nexport class ImportDialogComponent implements OnInit {\n  fn: any;\n  fileUrl: BehaviorSubject<string>;\n\n  constructor(\n    private dialogRef: MatDialogRef<ImportDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: () => {},\n  ) {\n    this.fileUrl = new BehaviorSubject<string>('');\n    this.fn = data;\n  }\n\n  ngOnInit(): void {}\n\n  doImport(): void {\n    this.fn(this.fileUrl.value);\n    this.close();\n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  updateUrl($event: Event) {\n    // @ts-ignore\n    this.fileUrl.next($event.target.value);\n  }\n}\n","<mat-dialog-content>\n  <label for=\"urlInput\">\n    <h2>Import Domain Story</h2>\n  </label>\n  <mat-form-field class=\"form-width\" color=\"accent\">\n    <mat-label>URL</mat-label>\n    <input\n      matInput\n      class=\"dense-8\"\n      type=\"url\"\n      id=\"urlInput\"\n      subscriptSizing=\"dynamic\"\n      [value]=\"fileUrl | async\"\n      (input)=\"updateUrl($event)\"\n    />\n  </mat-form-field>\n</mat-dialog-content>\n<mat-dialog-actions>\n  <br />\n  <div>\n    <button mat-flat-button (click)=\"close()\">Cancel</button>\n    <button\n      mat-flat-button\n      color=\"primary\"\n      (click)=\"doImport()\"\n      [disabled]=\"!fileUrl.value\"\n    >\n      Import\n    </button>\n  </div>\n</mat-dialog-actions>\n","import { Component, Inject } from '@angular/core';\nimport { MAT_DIALOG_DATA, MatDialogRef } from '@angular/material/dialog';\nimport { FormGroup } from '@angular/forms';\nimport { ActivityDialogData } from 'src/app/tools/modeler/domain/activityDialogData';\nimport { ActivityCanvasObject } from '../../../../domain/entities/activityCanvasObject';\nimport { ActivityDialogForm } from '../../domain/activity-dialog-form';\n\n@Component({\n  selector: 'app-activity-dialog',\n  templateUrl: './activity-dialog.component.html',\n  styleUrls: ['./activity-dialog.component.scss'],\n  standalone: false,\n})\nexport class ActivityDialogComponent {\n  form: FormGroup<ActivityDialogForm>;\n  activityLabel: string;\n  activityNumber: number | null;\n  numberIsAllowedMultipleTimes: boolean;\n  showNumberFields: boolean;\n  activity: ActivityCanvasObject;\n\n  saveFN: any;\n\n  constructor(\n    private dialogRef: MatDialogRef<ActivityDialogComponent>,\n    @Inject(MAT_DIALOG_DATA) data: ActivityDialogData,\n  ) {\n    this.activity = data.activity;\n    this.activityLabel = data.activity.businessObject.name;\n    this.numberIsAllowedMultipleTimes = data.numberIsAllowedMultipleTimes;\n    this.activityNumber = data.activity.businessObject.number ?? null;\n    this.showNumberFields = data.showNumberFields;\n\n    this.saveFN = data.saveFN;\n\n    this.form = ActivityDialogForm.create(\n      this.activityLabel,\n      this.activityNumber,\n      this.numberIsAllowedMultipleTimes,\n    );\n\n    this.form.controls.activityNumber.valueChanges.subscribe(\n      (activityNumber) => {\n        if (activityNumber !== null) {\n          if (activityNumber < 1) {\n            this.form.controls.activityNumber.setValue(1);\n          }\n        }\n      },\n    );\n  }\n\n  onSubmit(): void {\n    this.numberIsAllowedMultipleTimes = !this.numberIsAllowedMultipleTimes;\n    this.form.patchValue({\n      multipleNumbers: this.numberIsAllowedMultipleTimes,\n    });\n  }\n\n  save(): void {\n    this.saveFN({\n      activity: this.activity,\n      ...this.form.value,\n    });\n    this.dialogRef.close();\n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n\n  preventDefault(event: Event) {\n    event.preventDefault();\n  }\n}\n","<mat-dialog-content>\n  <h2>Edit Activity</h2>\n  <form [formGroup]=\"form\">\n    <div [hidden]=\"!showNumberFields\">\n      <mat-form-field color=\"accent\">\n        <mat-label>Number</mat-label>\n        <input matInput type=\"number\" formControlName=\"activityNumber\" />\n      </mat-form-field>\n      <input\n        type=\"checkbox\"\n        formControlName=\"multipleNumbers\"\n        (change)=\"onSubmit()\"\n      />\n      multiple\n    </div>\n    <mat-form-field class=\"fullWidth\" color=\"accent\">\n      <mat-label>Label</mat-label>\n      <textarea\n        matInput\n        type=\"text\"\n        formControlName=\"activityLabel\"\n        autofocus\n        cdkFocusInitial\n        (keydown.enter)=\"preventDefault($event)\"\n        (keyup.enter)=\"save()\"\n        (keyup.escape)=\"close()\"\n      ></textarea>\n    </mat-form-field>\n  </form>\n</mat-dialog-content>\n\n<mat-dialog-actions>\n  <button mat-flat-button (click)=\"close()\">Cancel</button>\n  <button mat-flat-button color=\"primary\" (click)=\"save()\">Save</button>\n</mat-dialog-actions>\n","import { MatDialogModule } from '@angular/material/dialog';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { NgModule } from '@angular/core';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatListModule } from '@angular/material/list';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\n@NgModule({\n  imports: [\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatListModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatGridListModule,\n    MatInputModule,\n    MatToolbarModule,\n    MatExpansionModule,\n    MatSnackBarModule,\n    MatCardModule,\n  ],\n  exports: [\n    MatButtonModule,\n    MatButtonToggleModule,\n    MatListModule,\n    MatCheckboxModule,\n    MatDialogModule,\n    MatFormFieldModule,\n    MatGridListModule,\n    MatInputModule,\n    MatToolbarModule,\n    MatExpansionModule,\n    MatSnackBarModule,\n    MatCardModule,\n  ],\n})\nexport class MaterialModule {}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-autosave-settings',\n  templateUrl: './autosave-settings.component.html',\n  styleUrls: ['./autosave-settings.component.scss'],\n  standalone: false,\n})\nexport class AutosaveSettingsComponent {}\n","<div class=\"content\">\n  <app-autosaved-drafts />\n  <app-autosave-options />\n</div>\n","\"use strict\";\n\nimport { assign } from \"min-dash\";\n\n/**\n * service that allow replacing of elements.\n */\nexport default function Replace(modeling) {\n  this._modeling = modeling;\n}\n\n/**\n * @param {Element} oldElement - element to be replaced\n * @param {Object}  newElementData - containing information about the new Element, for example height, width, type.\n * @param modeling\n */\nfunction replaceElement(oldElement, newElementData, modeling) {\n  let newElement = setCenterOfElement(newElementData, oldElement, modeling);\n  let outgoingActivities = newElement.outgoing;\n  let incomingActivities = newElement.incoming;\n\n  outgoingActivities.forEach((element) => {\n    element.businessObject.source = newElement.id;\n  });\n\n  incomingActivities.forEach((element) => {\n    element.businessObject.target = newElement.id;\n  });\n\n  return newElement;\n}\n\nfunction setCenterOfElement(newElementData, oldElement, modeling) {\n  newElementData.x = Math.ceil(\n    oldElement.x + (newElementData.width || oldElement.width) / 2,\n  );\n  newElementData.y = Math.ceil(\n    oldElement.y + (newElementData.height || oldElement.height) / 2,\n  );\n\n  assign(newElementData, { name: oldElement.businessObject.name });\n\n  return modeling.replaceShape(oldElement, newElementData, {});\n}\n\nReplace.prototype.replaceElement = replaceElement;\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MaterialModule } from '../../../material.module';\nimport { DetailsListItemComponent } from './details-list-item/details-list-item.component';\nimport { IconListItemComponent } from './icon-list-item/icon-list-item.component';\nimport { IconSetConfigurationComponent } from './icon-set-configuration/icon-set-configuration.component';\nimport { IconSetDetailsComponent } from './icon-set-details/icon-set-details.component';\n\n@NgModule({\n  declarations: [\n    DetailsListItemComponent,\n    IconListItemComponent,\n    IconSetConfigurationComponent,\n    IconSetDetailsComponent,\n  ],\n  exports: [\n    DetailsListItemComponent,\n    IconListItemComponent,\n    IconSetConfigurationComponent,\n    IconSetDetailsComponent,\n  ],\n  imports: [CommonModule, MaterialModule],\n})\nexport class IconSetConfigModule {}\n","import { Component, Inject, OnInit } from '@angular/core';\nimport { MatButton } from '@angular/material/button';\nimport {\n  MAT_DIALOG_DATA,\n  MatDialogActions,\n  MatDialogContent,\n  MatDialogRef,\n} from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-unsaved-changes-reminder',\n  standalone: true,\n  imports: [MatButton, MatDialogActions, MatDialogContent],\n  templateUrl: './unsaved-changes-reminder.component.html',\n  styleUrl: './unsaved-changes-reminder.component.scss',\n})\nexport class UnsavedChangesReminderComponent implements OnInit {\n  fn: any;\n\n  constructor(\n    private dialogRef: MatDialogRef<UnsavedChangesReminderComponent>,\n    @Inject(MAT_DIALOG_DATA) data: () => {},\n  ) {\n    this.fn = data;\n  }\n\n  ngOnInit(): void {}\n\n  continueAction(): void {\n    this.fn();\n    this.close();\n  }\n\n  close(): void {\n    this.dialogRef.close();\n  }\n}\n","<mat-dialog-content>\n  <label>\n    <h2>Attention</h2>\n  </label>\n\n  <p>There are some unsaved changes. Do you want to discard them?</p>\n</mat-dialog-content>\n<mat-dialog-actions>\n  <br />\n  <div>\n    <button mat-flat-button (click)=\"close()\">Cancel</button>\n    <button mat-flat-button color=\"primary\" (click)=\"continueAction()\">\n      Discard changes\n    </button>\n  </div>\n</mat-dialog-actions>\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { ElementRegistryService } from 'src/app/domain/services/element-registry.service';\nimport { IconDictionaryService } from 'src/app/tools/icon-set-config/services/icon-dictionary.service';\nimport { Dictionary } from 'src/app/domain/entities/dictionary';\nimport { ElementTypes } from 'src/app/domain/entities/elementTypes';\nimport {\n  ICON_SET_CONFIGURATION_KEY,\n  INITIAL_ICON_SET_NAME,\n} from '../../../domain/entities/constants';\nimport { IconSet } from '../../../domain/entities/iconSet';\nimport { IconSetConfigurationForExport } from '../../../domain/entities/icon-set-configuration-for-export';\nimport { CustomIconSetConfiguration } from '../../../domain/entities/custom-icon-set-configuration';\nimport { StorageService } from '../../../domain/services/storage.service';\nimport { sanitizeIconName } from '../../../utils/sanitizer';\nimport { namesOfDefaultIcons } from 'src/app/domain/entities/namesOfSelectedIcons';\n\nexport interface FileConfiguration {\n  name: string;\n  actors: { [p: string]: any };\n  workObjects: { [p: string]: any };\n}\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class IconSetImportExportService {\n  private iconSetNameSubject = new BehaviorSubject<string>(\n    INITIAL_ICON_SET_NAME,\n  );\n\n  iconSetName$ = this.iconSetNameSubject.asObservable();\n\n  constructor(\n    private iconDictionaryService: IconDictionaryService,\n    private elementRegistryService: ElementRegistryService,\n    private storageService: StorageService,\n  ) {}\n\n  setIconSetName(name: string): void {\n    this.iconSetNameSubject.next(name); // ? name : INITIAL_ICON_SET_NAME);\n  }\n\n  exportConfiguration(): void {\n    const iconSetConfiguration = this.getCurrentConfigurationForExport();\n    if (!iconSetConfiguration) {\n      return;\n    }\n\n    const configJSONString = JSON.stringify(iconSetConfiguration, null, 2);\n    const filename = this.iconSetNameSubject.value;\n    const element = document.createElement('a');\n\n    element.setAttribute(\n      'href',\n      'data:text/plain;charset=utf-8,' + encodeURIComponent(configJSONString),\n    );\n    element.setAttribute('download', filename + '.iconset');\n    element.style.display = 'none';\n    document.body.appendChild(element);\n\n    element.click();\n\n    document.body.removeChild(element);\n  }\n\n  loadConfiguration(customConfig: IconSet, updateIconSetName = true): void {\n    let actorDict = new Dictionary();\n    let workObjectDict = new Dictionary();\n\n    if (customConfig.actors.keysArray()) {\n      actorDict = customConfig.actors;\n      workObjectDict = customConfig.workObjects;\n    } else {\n      actorDict.addEach(customConfig.actors);\n      workObjectDict.addEach(customConfig.workObjects);\n    }\n\n    const actorKeys = actorDict.keysArray();\n    const workObjectKeys = workObjectDict.keysArray();\n\n    this.iconDictionaryService.updateIconRegistries([], [], customConfig);\n\n    this.iconDictionaryService.addIconsFromIconSetConfiguration(\n      ElementTypes.ACTOR,\n      actorKeys.map((a) => ElementTypes.ACTOR + a),\n    );\n    this.iconDictionaryService.addIconsFromIconSetConfiguration(\n      ElementTypes.WORKOBJECT,\n      workObjectKeys.map((w) => ElementTypes.WORKOBJECT + w),\n    );\n\n    if (updateIconSetName) {\n      const configurationName = customConfig.name;\n      this.setIconSetName(configurationName);\n    }\n  }\n\n  private getCurrentConfiguration(): IconSet | undefined {\n    const actors = this.iconDictionaryService.getActorsDictionary();\n    const workObjects = this.iconDictionaryService.getWorkObjectsDictionary();\n\n    let iconSetConfiguration;\n\n    if (actors.size() > 0 && workObjects.size() > 0) {\n      iconSetConfiguration = this.createConfigFromDictionaries(\n        actors,\n        workObjects,\n      );\n    }\n    return iconSetConfiguration;\n  }\n\n  getCurrentConfigurationForExport():\n    | IconSetConfigurationForExport\n    | undefined {\n    const currentConfiguration = this.getCurrentConfiguration();\n\n    if (currentConfiguration) {\n      const actors: any = {};\n      const workObjects: any = {};\n\n      currentConfiguration.actors.all().forEach((entry) => {\n        actors[entry.key] = entry.value;\n      });\n      currentConfiguration.workObjects.all().forEach((entry) => {\n        workObjects[entry.key] = entry.value;\n      });\n\n      return {\n        name: currentConfiguration.name,\n        actors: actors,\n        workObjects: workObjects,\n      };\n    }\n    return;\n  }\n\n  getCurrentConfigurationNamesWithoutPrefix(): CustomIconSetConfiguration {\n    return {\n      name: this.iconSetNameSubject.value || INITIAL_ICON_SET_NAME,\n      actors: this.iconDictionaryService\n        .getActorsDictionary()\n        .keysArray()\n        .map((a) => a.replace(ElementTypes.ACTOR, '')),\n      workObjects: this.iconDictionaryService\n        .getWorkObjectsDictionary()\n        .keysArray()\n        .map((w) => w.replace(ElementTypes.WORKOBJECT, '')),\n    };\n  }\n\n  createMinimalConfigurationWithDefaultIcons(): IconSet {\n    const minimalConfig = this.createConfigFromCanvas();\n\n    namesOfDefaultIcons.actors.forEach((iconName) => {\n      minimalConfig.actors.add(\n        this.iconDictionaryService.getIconSource(iconName),\n        iconName,\n      );\n    });\n    namesOfDefaultIcons.workObjects.forEach((iconName) => {\n      minimalConfig.workObjects.add(\n        this.iconDictionaryService.getIconSource(iconName),\n        iconName,\n      );\n    });\n\n    return minimalConfig;\n  }\n\n  private createConfigFromDictionaries(\n    actorsDict: Dictionary,\n    workObjectsDict: Dictionary,\n  ): IconSet {\n    const actorNames = actorsDict.keysArray();\n    const workobjectNames = workObjectsDict.keysArray();\n    const newActors = new Dictionary();\n    const newWorkobjects = new Dictionary();\n\n    // Fill Configuration from Canvas-Objects\n    actorNames.forEach((actor) => {\n      newActors.add(\n        actorsDict.get(actor),\n        actor.replace(ElementTypes.ACTOR, ''),\n      );\n    });\n    workobjectNames.forEach((workObject) => {\n      newWorkobjects.add(\n        workObjectsDict.get(workObject),\n        workObject.replace(ElementTypes.WORKOBJECT, ''),\n      );\n    });\n\n    return {\n      name: this.iconSetNameSubject.value,\n      actors: newActors,\n      workObjects: newWorkobjects,\n    };\n  }\n\n  public createIconSetConfiguration(\n    fileConfiguration: FileConfiguration,\n  ): IconSet {\n    if (fileConfiguration === undefined) {\n      return {\n        name: '',\n        actors: new Dictionary(),\n        workObjects: new Dictionary(),\n      };\n    }\n\n    const actorsDict = new Dictionary();\n    const workObjectsDict = new Dictionary();\n    Object.keys(fileConfiguration.actors).forEach((key) => {\n      let icon = fileConfiguration.actors[key];\n      if (icon) {\n        // make sure the actor has an icon\n        actorsDict.add(icon, sanitizeIconName(key));\n      }\n    });\n\n    Object.keys(fileConfiguration.workObjects).forEach((key) => {\n      let icon = fileConfiguration.workObjects[key];\n      if (icon) {\n        // make sure the work object has an icon\n        workObjectsDict.add(icon, sanitizeIconName(key));\n      }\n    });\n\n    return {\n      name: fileConfiguration.name,\n      actors: actorsDict,\n      workObjects: workObjectsDict,\n    };\n  }\n\n  public getStoredIconSetConfiguration(): IconSet | undefined {\n    const iconSetString = this.storageService.get(ICON_SET_CONFIGURATION_KEY);\n\n    if (!iconSetString) {\n      return;\n    } else {\n      const configurationFromFile = this.createIconSetConfiguration(\n        JSON.parse(iconSetString),\n      );\n      if (this.checkValidityOfConfiguration(configurationFromFile)) {\n        return configurationFromFile;\n      }\n    }\n    return;\n  }\n\n  public setStoredIconSetConfiguration(config: IconSet): void {\n    const actors: {\n      [p: string]: any;\n    } = {};\n    config.actors.keysArray().forEach((key) => {\n      actors[key] = config.actors.get(key);\n    });\n    const workObjects: {\n      [p: string]: any;\n    } = {};\n    config.workObjects.keysArray().forEach((key) => {\n      workObjects[key] = config.workObjects.get(key);\n    });\n\n    const configForStorage = {\n      name: config.name,\n      actors: actors,\n      workObjects: workObjects,\n    };\n\n    this.storageService.set(\n      ICON_SET_CONFIGURATION_KEY,\n      JSON.stringify(configForStorage, null, 2),\n    );\n  }\n\n  private createConfigFromCanvas(): IconSet {\n    const config = {\n      name: INITIAL_ICON_SET_NAME,\n      actors: new Dictionary(),\n      workObjects: new Dictionary(),\n    };\n\n    let allCanvasObjects = this.elementRegistryService.getAllCanvasObjects();\n\n    allCanvasObjects\n      .map((e) => e.businessObject)\n      .forEach((element) => {\n        const type = element.type\n          .replace(ElementTypes.ACTOR, '')\n          .replace(ElementTypes.WORKOBJECT, '');\n        if (element.type.includes(ElementTypes.ACTOR)) {\n          let src = this.iconDictionaryService.getIconSource(type) || '';\n          config.actors.add(src, type);\n        } else if (element.type.includes(ElementTypes.WORKOBJECT)) {\n          let src = this.iconDictionaryService.getIconSource(type) || '';\n          config.workObjects.add(src, type);\n        }\n      });\n\n    return config;\n  }\n\n  private checkValidityOfConfiguration(iconSetConfiguration: IconSet) {\n    return (\n      iconSetConfiguration.actors.keysArray().length > 1 &&\n      iconSetConfiguration.workObjects.keysArray().length > 1 &&\n      !iconSetConfiguration.actors\n        .all()\n        .some((e) => typeof e.value !== 'string') &&\n      !iconSetConfiguration.workObjects\n        .all()\n        .some((e) => typeof e.value !== 'string')\n    );\n  }\n}\n","import { EventEmitter, Injectable, OnDestroy } from '@angular/core';\nimport { IconDictionaryService } from 'src/app/tools/icon-set-config/services/icon-dictionary.service';\nimport { Dictionary } from 'src/app/domain/entities/dictionary';\nimport { ElementTypes } from 'src/app/domain/entities/elementTypes';\nimport { TitleService } from 'src/app/tools/title/services/title.service';\nimport { ImportRepairService } from 'src/app/tools/import/services/import-repair.service';\nimport { Observable, Subscription } from 'rxjs';\nimport { BusinessObject } from 'src/app/domain/entities/businessObject';\nimport { DialogService } from '../../../domain/services/dialog.service';\nimport { MatDialogConfig } from '@angular/material/dialog';\nimport {\n  INITIAL_DESCRIPTION,\n  INITIAL_TITLE,\n  SNACKBAR_DURATION,\n  SNACKBAR_DURATION_LONG,\n  SNACKBAR_DURATION_LONGER,\n  SNACKBAR_ERROR,\n  SNACKBAR_INFO,\n  SNACKBAR_SUCCESS,\n} from '../../../domain/entities/constants';\nimport { IconSetImportExportService } from '../../icon-set-config/services/icon-set-import-export.service';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { IconSet } from '../../../domain/entities/iconSet';\nimport { IconSetChangedService } from '../../icon-set-config/services/icon-set-customization.service';\nimport { ModelerService } from '../../modeler/services/modeler.service';\nimport { ImportDialogComponent } from '../presentation/import-dialog/import-dialog.component';\nimport { UnsavedChangesReminderComponent } from '../../unsavedChangesReminder/presentation/unsavedChangesReminder-dialog/unsaved-changes-reminder/unsaved-changes-reminder.component';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class ImportDomainStoryService\n  implements OnDestroy, IconSetChangedService\n{\n  titleSubscription: Subscription;\n  descriptionSubscription: Subscription;\n\n  title = INITIAL_TITLE;\n  description = INITIAL_DESCRIPTION;\n  private importedConfiguration: IconSet | null = null;\n\n  private importedConfigurationEmitter = new EventEmitter<IconSet>();\n\n  constructor(\n    private iconDictionaryService: IconDictionaryService,\n    private importRepairService: ImportRepairService,\n    private titleService: TitleService,\n    private dialogService: DialogService,\n    private iconSetImportExportService: IconSetImportExportService,\n    private modelerService: ModelerService,\n    private snackbar: MatSnackBar,\n  ) {\n    this.titleSubscription = this.titleService.title$.subscribe(\n      (title: string) => {\n        this.title = title;\n      },\n    );\n    this.descriptionSubscription = this.titleService.description$.subscribe(\n      (description: string) => {\n        this.description = description;\n      },\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.titleSubscription.unsubscribe();\n    this.descriptionSubscription.unsubscribe();\n  }\n\n  iconConfigrationChanged(): Observable<IconSet> {\n    return this.importedConfigurationEmitter.asObservable();\n  }\n\n  getConfiguration(): IconSet {\n    const config: IconSet = {\n      name: this.importedConfiguration?.name || '',\n      actors: this.importedConfiguration?.actors || new Dictionary(),\n      workObjects: this.importedConfiguration?.workObjects || new Dictionary(),\n    };\n    this.importedConfiguration = null;\n    return config;\n  }\n\n  performImport(): void {\n    // @ts-ignore\n    const file = document.getElementById('import').files[0];\n    this.import(file, file.name);\n    this.modelerService.commandStackChanged();\n  }\n\n  performDropImport(file: File): void {\n    if (this.isSupportedFileEnding(file.name)) {\n      this.import(file, file.name);\n    } else {\n      this.snackbar.open('File type not supported', undefined, {\n        duration: SNACKBAR_DURATION_LONG,\n        panelClass: SNACKBAR_ERROR,\n      });\n    }\n    this.modelerService.commandStackChanged();\n  }\n\n  importNotDirtyFromUrl(fileUrl: string, isDirty: boolean) {\n    if (isDirty) {\n      this.openUnsavedChangesReminderDialog(() => this.importFromUrl(fileUrl));\n    } else {\n      this.importFromUrl(fileUrl);\n    }\n  }\n\n  importFromUrl(fileUrl: string): void {\n    if (!fileUrl.startsWith('http')) {\n      this.snackbar.open('Url not valid', undefined, {\n        duration: SNACKBAR_DURATION_LONG,\n        panelClass: SNACKBAR_ERROR,\n      });\n      return;\n    }\n\n    fileUrl = this.convertToDownloadableUrl(fileUrl);\n\n    fetch(fileUrl)\n      .then((response) => {\n        return response.blob();\n      })\n      .then((blob) => {\n        const string = fileUrl.split('/');\n        const filename = string[string.length - 1]\n          .replace(/%20/g, ' ')\n          .replace(/(\\.egn\\.svg).*/, '$1');\n\n        if (!filename) {\n          throw new Error('Unable to extract filename from URL');\n        }\n\n        if (this.isSupportedFileEnding(filename)) {\n          this.import(blob, filename);\n        } else {\n          this.snackbar.open('File type not supported', undefined, {\n            duration: SNACKBAR_DURATION_LONG,\n            panelClass: SNACKBAR_ERROR,\n          });\n        }\n        this.modelerService.commandStackChanged();\n      })\n      .catch(() =>\n        this.snackbar.open(\n          'Request blocked by server (CORS error)',\n          undefined,\n          {\n            duration: SNACKBAR_DURATION_LONG,\n            panelClass: SNACKBAR_ERROR,\n          },\n        ),\n      );\n  }\n\n  private convertToDownloadableUrl(fileUrl: string): string {\n    // Convert GitHub URLs to raw content\n    const githubPattern = /https:\\/\\/github\\.com\\/(.+)\\/(blob|blame)\\/(.+)/;\n    if (githubPattern.test(fileUrl)) {\n      fileUrl = fileUrl.replace(\n        githubPattern,\n        'https://raw.githubusercontent.com/$1/$3',\n      );\n    }\n\n    //Convert Dropbox URLs to dl content\n    const dropboxPattern = /https:\\/\\/www\\.dropbox\\.com\\/(.+)/;\n    if (dropboxPattern.test(fileUrl)) {\n      fileUrl = fileUrl.replace(dropboxPattern, 'https://dl.dropbox.com/$1');\n    }\n\n    return fileUrl;\n  }\n\n  private isSupportedFileEnding(filename: string) {\n    let isSupported = false;\n\n    const dstSvgPattern = /.*(.dst)(\\s*\\(\\d+\\)){0,1}\\.svg/;\n    const egnSvgPattern = /.*(.egn)(\\s*\\(\\d+\\)){0,1}\\.svg/;\n\n    if (filename != null) {\n      isSupported =\n        filename.endsWith('.dst') ||\n        filename.endsWith('.egn') ||\n        filename.match(dstSvgPattern) != null ||\n        filename.match(egnSvgPattern) != null;\n    }\n\n    return isSupported;\n  }\n\n  openImportFromUrlDialog(isDirty: boolean): void {\n    const config = new MatDialogConfig();\n    config.disableClose = false;\n    config.autoFocus = true;\n    config.data = (fileUrl: string) =>\n      this.importNotDirtyFromUrl(fileUrl, isDirty);\n    this.dialogService.openDialog(ImportDialogComponent, config);\n  }\n\n  openUnsavedChangesReminderDialog(fn: Function): void {\n    const config = new MatDialogConfig();\n    config.disableClose = false;\n    config.autoFocus = true;\n    config.data = fn;\n    this.dialogService.openDialog(UnsavedChangesReminderComponent, config);\n  }\n\n  import(input: Blob, filename: string): void {\n    const egnSvgPattern = /.*(.egn)(\\s*\\(\\d+\\)){0,1}\\.svg/;\n    const isSVG = filename.endsWith('.svg');\n    let isEGN = filename.endsWith('.egn');\n\n    if (isSVG) {\n      isEGN = filename.match(egnSvgPattern) != null;\n    }\n\n    try {\n      const fileReader = new FileReader();\n\n      const titleText = this.restoreTitleFromFileName(filename, isSVG);\n      // no need to put this on the commandStack\n      this.titleService.updateTitleAndDescription(titleText, null, false);\n\n      fileReader.onloadend = (e) => {\n        if (e && e.target) {\n          this.fileReaderFunction(e.target.result, isSVG, isEGN);\n        }\n      };\n      fileReader.readAsText(input);\n      this.importSuccessful();\n    } catch (error) {\n      this.importFailed();\n    }\n  }\n\n  private fileReaderFunction(\n    text: string | ArrayBuffer | null,\n    isSvgFile: boolean,\n    isEgnFormat: boolean,\n  ): void {\n    let contentAsJson;\n    if (typeof text === 'string') {\n      if (isSvgFile) {\n        contentAsJson = this.extractJsonFromSvgComment(text);\n      } else {\n        contentAsJson = text;\n      }\n\n      let domainStoryElements: any[];\n      let iconSet: IconSet;\n      let iconSetFromFile: {\n        name: string;\n        actors: { [key: string]: any };\n        workObjects: { [key: string]: any };\n      };\n\n      let storyAndIconSet = this.extractStoryAndIconSet(contentAsJson);\n      if (storyAndIconSet == null) {\n        return;\n      }\n\n      // current implementation\n      if (storyAndIconSet.domain) {\n        iconSetFromFile = isEgnFormat\n          ? storyAndIconSet.domain\n          : JSON.parse(storyAndIconSet.domain);\n        iconSet =\n          this.iconSetImportExportService.createIconSetConfiguration(\n            iconSetFromFile,\n          );\n        domainStoryElements = isEgnFormat\n          ? storyAndIconSet.dst\n          : JSON.parse(storyAndIconSet.dst);\n      } else {\n        // legacy implementation\n        if (storyAndIconSet.config) {\n          iconSetFromFile = JSON.parse(storyAndIconSet.config);\n          iconSet =\n            this.iconSetImportExportService.createIconSetConfiguration(\n              iconSetFromFile,\n            );\n          domainStoryElements = JSON.parse(storyAndIconSet.dst);\n        } else {\n          // even older legacy implementation (prior to configurable icon set):\n          domainStoryElements = JSON.parse(contentAsJson);\n          iconSet =\n            this.iconSetImportExportService.createMinimalConfigurationWithDefaultIcons();\n        }\n      }\n\n      this.importRepairService.removeWhitespacesFromIcons(domainStoryElements);\n      this.importRepairService.removeUnnecessaryBpmnProperties(\n        domainStoryElements,\n      );\n\n      let lastElement = domainStoryElements[domainStoryElements.length - 1];\n      if (!lastElement.id) {\n        lastElement = domainStoryElements.pop();\n        let importVersionNumber = lastElement;\n\n        // if the last element has the tag 'version',\n        // then there exists another tag 'info' for the description\n        if (importVersionNumber.version) {\n          lastElement = domainStoryElements.pop();\n          importVersionNumber = importVersionNumber.version as string;\n        } else {\n          importVersionNumber = '?';\n          this.snackbar.open(`The version number is unreadable.`, undefined, {\n            duration: SNACKBAR_DURATION,\n            panelClass: SNACKBAR_ERROR,\n          });\n        }\n        domainStoryElements = this.handleVersionNumber(\n          importVersionNumber,\n          domainStoryElements,\n        );\n      }\n\n      if (\n        !this.importRepairService.checkForUnreferencedElementsInActivitiesAndRepair(\n          domainStoryElements,\n        )\n      ) {\n        this.showBrokenImportDialog();\n      }\n\n      this.titleService.updateTitleAndDescription(\n        this.title,\n        lastElement.info,\n        false,\n      );\n\n      this.updateIconRegistries(domainStoryElements, iconSet);\n      this.modelerService.importStory(domainStoryElements, iconSet);\n    }\n  }\n\n  private importSuccessful() {\n    this.snackbar.open('Import successful', undefined, {\n      duration: SNACKBAR_DURATION,\n      panelClass: SNACKBAR_SUCCESS,\n    });\n  }\n\n  private importFailed() {\n    this.snackbar.open('Import failed', undefined, {\n      duration: SNACKBAR_DURATION,\n      panelClass: SNACKBAR_ERROR,\n    });\n  }\n\n  private handleVersionNumber(\n    importVersionNumber: string,\n    elements: BusinessObject[],\n  ): BusinessObject[] {\n    const versionPrefix = +importVersionNumber.substring(\n      0,\n      importVersionNumber.lastIndexOf('.'),\n    );\n    if (versionPrefix <= 0.5) {\n      elements =\n        this.importRepairService.updateCustomElementsPreviousV050(elements);\n      this.showPreviousV050Dialog(versionPrefix);\n    }\n    return elements;\n  }\n\n  private extractStoryAndIconSet(dstText: string) {\n    let dstAndConfig = null;\n    try {\n      dstAndConfig = JSON.parse(dstText);\n    } catch (e) {\n      this.showBrokenImportDialog();\n    }\n    return dstAndConfig;\n  }\n\n  private extractJsonFromSvgComment(xmlText: string): string {\n    xmlText = xmlText.substring(xmlText.indexOf('<DST>'));\n    while (xmlText.includes('<!--') || xmlText.includes('-->')) {\n      xmlText = xmlText.replace('<!--', '').replace('-->', '');\n    }\n    xmlText = xmlText.replace('<DST>', '');\n    xmlText = xmlText.replace('</DST>', '');\n    return xmlText;\n  }\n\n  private updateIconRegistries(\n    domainStoryElements: BusinessObject[],\n    iconSet: IconSet,\n  ): void {\n    const actorIcons = this.getElementsOfType(\n      domainStoryElements,\n      ElementTypes.ACTOR,\n    );\n    const workObjectIcons = this.getElementsOfType(\n      domainStoryElements,\n      ElementTypes.WORKOBJECT,\n    );\n    this.iconDictionaryService.updateIconRegistries(\n      actorIcons,\n      workObjectIcons,\n      iconSet,\n    );\n\n    this.setImportedConfigurationAndEmit(iconSet);\n  }\n\n  private getElementsOfType(\n    elements: BusinessObject[],\n    type: ElementTypes,\n  ): BusinessObject[] {\n    const elementOfType: any = [];\n    elements.forEach((element) => {\n      if (element.type.includes(type)) {\n        elementOfType.push(element);\n      }\n    });\n    return elementOfType;\n  }\n\n  private showPreviousV050Dialog(version: number): void {\n    const message = `Your domain story was created with Egon version ${version}. The file format has since changed.\n    Your Domain Story was converted to the new format. Please check if it is complete.`;\n\n    this.snackbar.open(message, undefined, {\n      duration: SNACKBAR_DURATION_LONGER,\n      panelClass: SNACKBAR_INFO,\n    });\n  }\n\n  private setImportedConfigurationAndEmit(config: IconSet) {\n    this.importedConfiguration = config;\n    this.importedConfigurationEmitter.emit(config);\n  }\n\n  private showBrokenImportDialog() {\n    const message = `Error during import: The imported domain story is not complete. Please check if there are elements missing from the canvas.`;\n\n    this.snackbar.open(message, undefined, {\n      duration: SNACKBAR_DURATION_LONGER,\n      panelClass: SNACKBAR_ERROR,\n    });\n  }\n\n  private restoreTitleFromFileName(filename: string, isSVG: boolean): string {\n    let title;\n\n    const domainStoryRegex = /_\\d+-\\d+-\\d+( ?_?-?\\(\\d+\\))?(-?\\d)?(.dst|.egn)/;\n    const svgRegex = /_\\d+-\\d+-\\d+( ?_?-?\\(\\d+\\))?(-?\\d)?(.dst|.egn).svg/;\n\n    const egnSuffix = '.egn';\n    const dstSuffix = '.dst';\n    const svgSuffix = '.svg';\n\n    let filenameWithoutDateSuffix = filename.replace(\n      isSVG ? svgRegex : domainStoryRegex,\n      '',\n    );\n    filenameWithoutDateSuffix = filenameWithoutDateSuffix\n      .replace(svgSuffix, '')\n      .replace(dstSuffix, '')\n      .replace(egnSuffix, '');\n    title = filenameWithoutDateSuffix;\n    return title;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class DirtyFlagService {\n  private isDirtySubject = new BehaviorSubject<boolean>(false);\n  dirty$ = this.isDirtySubject.asObservable();\n\n  makeDirty(): void {\n    this.isDirtySubject.next(true);\n  }\n\n  makeClean(): void {\n    this.isDirtySubject.next(false);\n  }\n\n  get dirty(): boolean {\n    return this.isDirtySubject.value;\n  }\n}\n","import CopyPasteModule from \"diagram-js/lib/features/copy-paste\";\n\nimport EgonCopyPaste from \"./EgonCopyPaste\";\nimport PropertyCopy from \"./PropertyCopy\";\n\nexport default {\n  __depends__: [CopyPasteModule],\n  __init__: [\"egonCopyPaste\", \"propertyCopy\"],\n  egonCopyPaste: [\"type\", EgonCopyPaste],\n  propertyCopy: [\"type\", PropertyCopy],\n};\n","import inherits from \"inherits-browser\";\n\nimport EditorActions from \"diagram-js/lib/features/editor-actions/EditorActions\";\n\nexport default function AdditionalEditorActions(injector) {\n  injector.invoke(EditorActions, this);\n}\n\ninherits(AdditionalEditorActions, EditorActions);\n\nAdditionalEditorActions.$inject = [\"injector\"];\n\n/**\n * Register default actions.\n *\n * @param {Injector} injector\n */\nAdditionalEditorActions.prototype._registerDefaultActions = function (\n  injector,\n) {\n  // (0) invoke super method\n\n  EditorActions.prototype._registerDefaultActions.call(this, injector);\n\n  // (1) retrieve optional components to integrate with\n\n  var canvas = injector.get(\"canvas\", false);\n  var elementRegistry = injector.get(\"elementRegistry\", false);\n  var selection = injector.get(\"selection\", false);\n  var spaceTool = injector.get(\"spaceTool\", false);\n  var lassoTool = injector.get(\"lassoTool\", false);\n  var handTool = injector.get(\"handTool\", false);\n  var directEditing = injector.get(\"directEditing\", false);\n\n  if (canvas && elementRegistry && selection) {\n    this._registerAction(\"selectElements\", function () {\n      // select all elements except for the invisible\n      // root element\n      var rootElement = canvas.getRootElement();\n\n      var elements = elementRegistry.filter(function (element) {\n        return element !== rootElement;\n      });\n\n      selection.select(elements);\n\n      return elements;\n    });\n  }\n\n  if (spaceTool) {\n    this._registerAction(\"spaceTool\", function () {\n      spaceTool.toggle();\n    });\n  }\n\n  if (lassoTool) {\n    this._registerAction(\"lassoTool\", function () {\n      lassoTool.toggle();\n    });\n  }\n\n  if (handTool) {\n    this._registerAction(\"handTool\", function () {\n      handTool.toggle();\n    });\n  }\n\n  if (selection && directEditing) {\n    this._registerAction(\"directEditing\", function () {\n      var currentSelection = selection.get();\n\n      if (currentSelection.length) {\n        directEditing.activate(currentSelection[0]);\n      }\n    });\n  }\n};\n","import { Injectable } from '@angular/core';\nimport { BusinessObject } from 'src/app/domain/entities/businessObject';\nimport { ElementRegistryService } from 'src/app/domain/services/element-registry.service';\nimport { ElementTypes } from 'src/app/domain/entities/elementTypes';\nimport { StorySentence } from 'src/app/tools/replay/domain/storySentence';\nimport {\n  HIGHLIGHT_LABEL_FONT_WEIGHT,\n  HIGHLIGHT_NUMBER_BACKGROUND_COLOR,\n  HIGHLIGHT_NUMBER_COLOR,\n  HIGHLIGHT_STROKE_WIDTH,\n  LABEL_FONT_WEIGHT,\n  NUMBER_BACKGROUND_COLOR,\n  NUMBER_COLOR,\n  STROKE_WIDTH,\n  CONNECTION_PATH_DOM_SELECTOR,\n} from '../domain/replayConstants';\n\n@Injectable({\n  providedIn: 'root',\n})\n/**\n * Manipulates the DOM during replay to only show the elements of the current Sentence\n */\nexport class DomManipulationService {\n  constructor(private elementRegistryService: ElementRegistryService) {}\n\n  showAll(): void {\n    this.removeHighlights();\n    this.elementRegistryService\n      .getAllCanvasObjects()\n      .slice()\n      .concat(this.elementRegistryService.getAllGroups().slice())\n      .map((e) => e.businessObject)\n      .forEach((element) => {\n        const domObject = document.querySelector(\n          '[data-element-id=' + element.id + ']',\n        );\n        // @ts-ignore\n        domObject.style.display = 'block';\n      });\n  }\n\n  showSentence(\n    replaySentence: StorySentence,\n    previousSentence?: StorySentence,\n  ): void {\n    this.removeHighlights();\n    const notShown = this.getAllNotShown(replaySentence.objects);\n\n    notShown.forEach((element) => {\n      const domObject = document.querySelector(\n        '[data-element-id=' + element.id + ']',\n      );\n      if (domObject) {\n        // @ts-ignore\n        domObject.style.display = 'none';\n      }\n    });\n\n    this.highlightSentence(\n      previousSentence\n        ? replaySentence.objects.filter(\n            (o) => !previousSentence.objects.includes(o),\n          )\n        : replaySentence.objects,\n    );\n\n    replaySentence.objects.forEach((element) => {\n      const domObject = document.querySelector(\n        '[data-element-id=' + element.id + ']',\n      );\n      if (domObject) {\n        // @ts-ignore\n        domObject.style.display = 'block';\n      }\n    });\n  }\n\n  private getNumberDomForActivity(activity: SVGPathElement): any {\n    const numberText =\n      activity.parentElement?.getElementsByClassName('djs-labelNumber')[0] ??\n      '';\n    const circle = (numberText as HTMLElement)?.previousSibling ?? '';\n    return {\n      numberBackgroundDom: circle,\n      numberTextDom: numberText,\n    };\n  }\n\n  private getLabelDomForActivity(activity: SVGPathElement): any {\n    return activity.parentElement?.getElementsByClassName('djs-label')[0] ?? '';\n  }\n\n  private removeHighlights(): void {\n    const allActivities = this.elementRegistryService.getAllActivities();\n    const allConnections = this.elementRegistryService.getAllConnections();\n\n    allActivities.forEach((activity) => {\n      const querySelector = document.querySelector(\n        '[data-element-id=' + activity.id + ']',\n      );\n      if (querySelector) {\n        const activityDomObject = querySelector.getElementsByTagName(\n          CONNECTION_PATH_DOM_SELECTOR,\n        )[0];\n\n        activityDomObject.style.stroke =\n          activity.businessObject.pickedColor || 'black';\n        activityDomObject.style.strokeWidth = STROKE_WIDTH;\n\n        const activityLabelDom = this.getLabelDomForActivity(activityDomObject);\n        if (activityLabelDom) {\n          activityLabelDom.style.fontWeight = LABEL_FONT_WEIGHT;\n        }\n\n        const { numberBackgroundDom, numberTextDom } =\n          this.getNumberDomForActivity(activityDomObject);\n        if (numberBackgroundDom && numberTextDom) {\n          numberBackgroundDom.style.fill = NUMBER_BACKGROUND_COLOR;\n          numberTextDom.style.fill = NUMBER_COLOR;\n        }\n      }\n    });\n\n    allConnections.forEach((connection) => {\n      // @ts-ignore\n      const connectionDomObject = document\n        .querySelector('[data-element-id=' + connection.id + ']')\n        .getElementsByTagName(CONNECTION_PATH_DOM_SELECTOR)[0];\n\n      connectionDomObject.style.stroke =\n        connection.businessObject.pickedColor || 'black';\n      connectionDomObject.style.strokeWidth = '1.5';\n    });\n  }\n\n  private highlightSentence(sentenceObjects: BusinessObject[]): void {\n    sentenceObjects\n      .filter((e) => e.type === ElementTypes.ACTIVITY)\n      .forEach((activity) => {\n        const querySelector = document.querySelector(\n          '[data-element-id=' + activity.id + ']',\n        );\n        if (querySelector) {\n          const activityDomObject = querySelector.getElementsByTagName(\n            CONNECTION_PATH_DOM_SELECTOR,\n          )[0];\n\n          activityDomObject.style.strokeWidth = HIGHLIGHT_STROKE_WIDTH;\n\n          const activityLabelDom =\n            this.getLabelDomForActivity(activityDomObject);\n          if (activityLabelDom) {\n            activityLabelDom.style.fontWeight = HIGHLIGHT_LABEL_FONT_WEIGHT;\n          }\n\n          const { numberBackgroundDom, numberTextDom } =\n            this.getNumberDomForActivity(activityDomObject);\n          if (numberTextDom && numberBackgroundDom) {\n            numberBackgroundDom.style.fill = HIGHLIGHT_NUMBER_BACKGROUND_COLOR;\n            numberTextDom.style.fill = HIGHLIGHT_NUMBER_COLOR;\n          }\n        }\n      });\n  }\n\n  private getAllNotShown(shownElements: BusinessObject[]): BusinessObject[] {\n    const notShownElements: BusinessObject[] = [];\n    const allObjects = this.elementRegistryService\n      .getAllCanvasObjects()\n      .concat(this.elementRegistryService.getAllGroups());\n\n    allObjects.forEach((element) => {\n      if (!shownElements.includes(element.businessObject)) {\n        notShownElements.push(element.businessObject);\n      }\n    });\n    return notShownElements;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ReplaySubject } from 'rxjs';\nimport { StorageService } from '../../../domain/services/storage.service';\nimport { AutosaveConfiguration } from '../domain/autosave-configuration';\nimport {\n  DEFAULT_AUTOSAVES_MAX_DRAFTS,\n  DEFAULT_AUTOSAVES_ENABLED,\n  DEFAULT_AUTOSAVES_INTERVAL,\n} from 'src/app/domain/entities/constants';\n\nconst AUTOSAVE_CONFIGURATION_TAG = 'autosaveConfiguration';\n\nconst defaultConfiguration: AutosaveConfiguration = {\n  activated: DEFAULT_AUTOSAVES_ENABLED,\n  interval: DEFAULT_AUTOSAVES_INTERVAL,\n  maxDrafts: DEFAULT_AUTOSAVES_MAX_DRAFTS,\n};\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AutosaveConfigurationService {\n  private configuration = defaultConfiguration;\n\n  private readonly configurationSubject =\n    new ReplaySubject<AutosaveConfiguration>(1);\n  readonly configuration$ = this.configurationSubject.asObservable();\n\n  constructor(private storageService: StorageService) {\n    this.initializeConfiguration();\n  }\n\n  private initializeConfiguration() {\n    this.loadConfiguration();\n    this.configurationSubject.next(this.configuration);\n  }\n\n  setConfiguration(configuration: AutosaveConfiguration): boolean {\n    try {\n      this.configuration = configuration;\n      this.saveConfiguration();\n      this.configurationSubject.next(configuration);\n      return true;\n    } catch {\n      return false;\n    }\n  }\n\n  private loadConfiguration() {\n    this.configuration =\n      this.storageService.get(AUTOSAVE_CONFIGURATION_TAG) ??\n      defaultConfiguration;\n  }\n\n  private saveConfiguration() {\n    this.storageService.set(AUTOSAVE_CONFIGURATION_TAG, this.configuration);\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class CommandStackService {\n  private commandStack: any;\n\n  constructor() {}\n\n  setCommandStack(commandStack: any): void {\n    this.commandStack = commandStack;\n  }\n\n  execute(action: string, payload: any) {\n    this.commandStack.execute(action, payload);\n  }\n}\n","\"use strict\";\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  create as svgCreate,\n  remove as svgRemove,\n} from \"tiny-svg\";\n\nimport { translate } from \"diagram-js/lib/util/SvgTransformUtil\";\nimport { ElementTypes } from \"src/app/domain/entities/elementTypes\";\nimport { is, getScaledPath } from \"../util/util\";\n\nconst MARKER_HIDDEN = \"djs-element-hidden\",\n  MARKER_LABEL_HIDDEN = \"djs-label-hidden\";\n\nexport default function DSLabelEditingPreview(eventBus, canvas) {\n  let self = this;\n\n  let defaultLayer = canvas.getDefaultLayer();\n  let element, absoluteElementBBox, gfx;\n\n  eventBus.on(\"directEditing.activate\", function (context) {\n    let activeProvider = context.active;\n\n    element = activeProvider.element.label || activeProvider.element;\n\n    if (is(element, ElementTypes.TEXTANNOTATION)) {\n      absoluteElementBBox = canvas.getAbsoluteBBox(element);\n      gfx = svgCreate(\"g\");\n\n      let textPathData = getScaledPath({\n        xScaleFactor: 1,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: element.height,\n        position: {\n          mx: 0.0,\n          my: 0.0,\n        },\n      });\n\n      let path = (self.path = svgCreate(\"path\"));\n\n      svgAttr(path, {\n        d: textPathData,\n        strokeWidth: 2,\n        stroke: \"black\",\n      });\n\n      svgAppend(gfx, path);\n\n      svgAppend(defaultLayer, gfx);\n\n      translate(gfx, element.x, element.y);\n    }\n\n    if (is(element, ElementTypes.TEXTANNOTATION) || element.labelTarget) {\n      canvas.addMarker(element, MARKER_HIDDEN);\n    } else if (\n      element.type.includes(ElementTypes.ACTOR) ||\n      element.type.includes(ElementTypes.WORKOBJECT) ||\n      element.type.includes(ElementTypes.ACTIVITY) ||\n      element.type.includes(ElementTypes.GROUP)\n    ) {\n      canvas.addMarker(element, MARKER_LABEL_HIDDEN);\n    }\n  });\n\n  eventBus.on(\"directEditing.resize\", function (context) {\n    if (is(element, ElementTypes.TEXTANNOTATION)) {\n      let height = context.height,\n        dy = context.dy;\n\n      let newElementHeight = Math.max(\n        (element.height / absoluteElementBBox.height) * (height + dy),\n        0,\n      );\n\n      let textPathData = getScaledPath({\n        xScaleFactor: 1,\n        yScaleFactor: 1,\n        containerWidth: element.width,\n        containerHeight: newElementHeight,\n        position: {\n          mx: 0.0,\n          my: 0.0,\n        },\n      });\n\n      svgAttr(self.path, {\n        d: textPathData,\n      });\n    }\n  });\n\n  eventBus.on(\n    [\"directEditing.complete\", \"directEditing.cancel\"],\n    function (context) {\n      let activeProvider = context.active;\n\n      if (activeProvider) {\n        canvas.removeMarker(\n          activeProvider.element.label || activeProvider.element,\n          MARKER_HIDDEN,\n        );\n        canvas.removeMarker(element, MARKER_LABEL_HIDDEN);\n      }\n\n      element = undefined;\n      absoluteElementBBox = undefined;\n\n      if (gfx) {\n        svgRemove(gfx);\n\n        gfx = undefined;\n      }\n    },\n  );\n}\n\nDSLabelEditingPreview.$inject = [\"eventBus\", \"canvas\"];\n","import {\n  SVG_LINK,\n  TEXTSPAN_DESCRIPTION_HEIGHT,\n  TEXTSPAN_TITLE_HEIGHT,\n  X_OFFSET_UTIL,\n} from \"../domain/export/exportConstants\";\n\nlet dynamicHeightOffset = 0;\n\n// Has to be js File so we can access te correct non-standard HTML-Properties without excessive usage of ts-ignore\nexport function createTitleAndDescriptionSVGElement(\n  initDynamicHeightOffset,\n  title,\n  description,\n  min_x,\n  min_y,\n  width,\n) {\n  dynamicHeightOffset = initDynamicHeightOffset;\n\n  title = title.replace(\"&lt;\", \"\").replace(\"&gt;\", \"\");\n\n  let titleElement = createTitle(title, width);\n\n  let descriptionElement = \"\";\n  if (description) {\n    descriptionElement = createDescription(description, width);\n  }\n\n  // to display the title and description in the SVG-file, we need to add a container for our text-elements\n\n  let insertText =\n    '<g class=\"djs-group\"><g class=\"djs-element djs-shape\" style = \"display:block\" transform=\"translate(' +\n    (min_x - 10) +\n    \" \" +\n    (min_y - dynamicHeightOffset) +\n    ')\"><g class=\"djs-visual\">' +\n    titleElement +\n    descriptionElement +\n    \"</g></g></g>\";\n  return { insertText, dynamicHeightOffset: dynamicHeightOffset };\n}\n\nfunction createTitle(text, width) {\n  let tempCanvas = document.createElement(\"canvas\");\n  let ctx = tempCanvas.getContext(\"2d\");\n  ctx.font = \"30px Arial\";\n\n  return createTextSpans(text, width, ctx, 10, TEXTSPAN_TITLE_HEIGHT, 30);\n}\n\nfunction createDescription(text, width) {\n  let description = \"\";\n  let descriptionParts = text.split(\"<br>\");\n\n  let tempCanvas = document.createElement(\"canvas\");\n  let ctx = tempCanvas.getContext(\"2d\");\n  ctx.font = \"12px Arial\";\n\n  for (let i = 0; i < descriptionParts.length; i++) {\n    description += createTextSpans(\n      descriptionParts[i],\n      width,\n      ctx,\n      0,\n      TEXTSPAN_DESCRIPTION_HEIGHT,\n      12,\n    );\n  }\n  return description;\n}\n\nfunction createTextSpans(text, width, ctx, yOffset, heightOffset, fontSize) {\n  let textSpans = \"\";\n  let words = text.split(\" \");\n\n  // every leading empty strings in the array must be removed, otherwise the text elements\n  // will not be filled with text\n  words = removeLeadingEmptyStrings(words);\n\n  let textTag =\n    '<text lineHeight=\"1.2\" class=\"djs-label\" style=\"font-family: Arial, sans-serif; font-size: ' +\n    fontSize +\n    '; font-weight: normal; fill: rgb(0, 0, 0);\">';\n\n  let textSpan = document.createElementNS(SVG_LINK, \"tspan\");\n  let textNode = document.createTextNode(words[0]);\n\n  textSpan.setAttribute(\"x\", X_OFFSET_UTIL);\n  textSpan.setAttribute(\"y\", yOffset + dynamicHeightOffset);\n  textSpan.setAttribute(\"font-size\", fontSize);\n  textSpan.appendChild(textNode);\n\n  for (let j = 1; j < words.length; j++) {\n    if (textSpan.firstChild && textSpan.firstChild.data) {\n      let len = textSpan.firstChild.data.length;\n      textNode.data += \" \" + words[j];\n\n      if (ctx.measureText(textNode.data).width > width - 16) {\n        dynamicHeightOffset += heightOffset;\n        textSpan.firstChild.data = textSpan.firstChild.data.slice(0, len); // remove overflow word\n\n        textSpans += textTag + textSpan.outerHTML + \"</text>\"; // append line\n\n        // create new textspan for line break\n        textSpan = document.createElementNS(SVG_LINK, \"tspan\");\n        textNode = document.createTextNode(words[j]);\n        textSpan.setAttribute(\"x\", X_OFFSET_UTIL);\n        textSpan.setAttribute(\"y\", yOffset + dynamicHeightOffset);\n        textSpan.appendChild(textNode);\n      }\n    }\n  }\n  dynamicHeightOffset += heightOffset;\n\n  textSpans += textTag + textSpan.outerHTML + \"</text>\";\n  return textSpans;\n}\n\nfunction removeLeadingEmptyStrings(stringArray) {\n  const firstNonEmptyIndex = stringArray.findIndex((string) => string !== \"\");\n  return stringArray.slice(\n    firstNonEmptyIndex === -1 ? stringArray.length : firstNonEmptyIndex,\n  );\n}\n","import { Injectable } from '@angular/core';\nimport { ElementTypes } from '../../../domain/entities/elementTypes';\nimport { ActivityCanvasObject } from '../../../domain/entities/activityCanvasObject';\nimport { BusinessObject } from '../../../domain/entities/businessObject';\nimport { CanvasObject } from '../../../domain/entities/canvasObject';\nimport { ElementRegistryService } from '../../../domain/services/element-registry.service';\nimport { StorySentence } from '../domain/storySentence';\nimport { Dictionary } from '../../../domain/entities/dictionary';\nimport { ActivityBusinessObject } from '../../../domain/entities/activityBusinessObject';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class StoryCreatorService {\n  constructor(private elementRegistryService: ElementRegistryService) {}\n\n  traceActivitiesAndCreateStory(): StorySentence[] {\n    const tracedActivityMap = new Dictionary();\n    const story: StorySentence[] = [];\n    const activities = this.elementRegistryService.getActivitiesFromActors();\n    const tracedActivityMapKeys: number[] = [];\n    activities.forEach((activity) => {\n      const activityNumber = Number(activity.businessObject.number); // Sometimes the activityNumber is a string for some reason\n      const tracedItem = tracedActivityMap.get(`${activityNumber}`) ?? [];\n      if (!tracedActivityMapKeys.includes(activityNumber)) {\n        tracedActivityMapKeys.push(activityNumber);\n      }\n      tracedItem.push(activity);\n      tracedActivityMap.set(`${activityNumber}`, tracedItem);\n    });\n\n    let storyIndex = 0;\n    tracedActivityMapKeys.forEach((key) => {\n      this.createSentence(tracedActivityMap, key, story, storyIndex);\n      storyIndex++;\n    });\n\n    this.addGroupsToLastSentence(story);\n    return story;\n  }\n\n  private createSentence(\n    tracedActivityMap: Dictionary,\n    tracedActivityMapKey: number,\n    story: StorySentence[],\n    storyIndex: number,\n  ): void {\n    let tracedActivity = tracedActivityMap.get(`${tracedActivityMapKey}`) ?? [];\n    const sentenceObjects = this.getSentenceObjects(tracedActivity);\n    const highlightedElements = sentenceObjects.map((t) => t.id);\n    if (storyIndex > 0) {\n      story[storyIndex - 1].objects.forEach((object) => {\n        if (!sentenceObjects.includes(object)) {\n          sentenceObjects.push(object);\n        }\n      });\n    }\n    story[storyIndex] = {\n      highlightedObjects: highlightedElements,\n      objects: sentenceObjects,\n    };\n  }\n\n  getMissingSentences(story: StorySentence[]): number[] {\n    // if the story is empty, no sequence number is missing\n    if (!story || story.length === 0) {\n      return [];\n    }\n\n    // collect all sequence numbers of the story\n    const allActivityNumbersFromActors: number[] = story.map((sentence) => {\n      // find all activity numbers of the ActivityBusinessObject\n      // and returned the highest one\n      const allActivityNumbers = sentence.objects.map((businessObject) => {\n        if (businessObject.type.includes('activity')) {\n          const activity = businessObject as ActivityBusinessObject;\n          return activity.number ?? 0;\n        } else {\n          return 0;\n        }\n      });\n      return Math.max(...allActivityNumbers);\n    });\n\n    const highestSequenceNumber: number = Math.max(\n      ...allActivityNumbersFromActors,\n    );\n\n    const missingSentences: number[] = [];\n    // with a high sequence number like 1_000_000, this could be led\n    // to long calculation or completely stop from Egon.io\n    for (let i = 1; i <= highestSequenceNumber; i++) {\n      if (!allActivityNumbersFromActors.includes(i)) {\n        missingSentences.push(i);\n      }\n    }\n    return missingSentences;\n  }\n\n  private getSentenceObjects(\n    tracedActivity: ActivityCanvasObject[],\n  ): BusinessObject[] {\n    const actorsAndWorkObjects: CanvasObject[] = [];\n    const activities = tracedActivity;\n    const actorTextAnnotations: CanvasObject[] = [];\n\n    tracedActivity.forEach((parallelSentence: ActivityCanvasObject) => {\n      const parallelSentenceTargetObjects: CanvasObject[] = [];\n\n      if (!actorsAndWorkObjects.includes(parallelSentence.source)) {\n        actorsAndWorkObjects.push(parallelSentence.source);\n      }\n\n      const firstTarget = parallelSentence.target;\n      actorsAndWorkObjects.push(firstTarget);\n      parallelSentenceTargetObjects.push(firstTarget);\n\n      // check the outgoing activities for each target\n      for (const checkTarget of parallelSentenceTargetObjects) {\n        if (\n          checkTarget.businessObject &&\n          !checkTarget.businessObject.type.includes('actor') &&\n          checkTarget.outgoing\n        ) {\n          // check the target for each outgoing activity\n          checkTarget.outgoing.forEach((activity: ActivityCanvasObject) => {\n            activities.push(activity);\n            const activityTarget = activity.target;\n            if (\n              activityTarget &&\n              !actorsAndWorkObjects.includes(activityTarget)\n            ) {\n              actorsAndWorkObjects.push(activityTarget);\n              parallelSentenceTargetObjects.push(activityTarget);\n            }\n          });\n        }\n      }\n    });\n    actorsAndWorkObjects.forEach((object) => {\n      if (object.businessObject.type.includes(ElementTypes.ACTOR)) {\n        this.addTextAnnotationsForActorOrGroup(object, actorTextAnnotations);\n      }\n    });\n\n    return actorsAndWorkObjects\n      .map((e) => e.businessObject)\n      .concat(activities.map((a) => a.businessObject))\n      .concat(actorTextAnnotations.map((ta) => ta.businessObject));\n  }\n\n  private addTextAnnotationsForActorOrGroup(\n    object: CanvasObject,\n    objectTextAnnotations: CanvasObject[],\n  ) {\n    object.outgoing?.forEach((connection) => {\n      // connections outgoing from actors or groups without number must be connections to text annotations\n      if (!connection.businessObject.number) {\n        objectTextAnnotations.push(connection);\n        objectTextAnnotations.push(connection.target);\n      }\n    });\n  }\n\n  private addGroupsToLastSentence(story: StorySentence[]): void {\n    const groups = this.elementRegistryService.getAllGroups() as CanvasObject[];\n    const annotationsForGroups: CanvasObject[] = [];\n    groups.forEach((group) =>\n      this.addTextAnnotationsForActorOrGroup(group, annotationsForGroups),\n    );\n    if (groups.length > 0 && story.length > 0) {\n      story[story.length - 1].objects = story[story.length - 1].objects\n        .concat(groups.map((g) => g.businessObject))\n        .concat(annotationsForGroups.map((a) => a.businessObject));\n    }\n  }\n}\n","export const LABEL_FONT_WEIGHT = 'normal';\nexport const NUMBER_BACKGROUND_COLOR = 'white';\nexport const NUMBER_COLOR = 'black';\nexport const STROKE_WIDTH = '1.5';\n\nexport const HIGHLIGHT_LABEL_FONT_WEIGHT = 'bold';\nexport const HIGHLIGHT_NUMBER_BACKGROUND_COLOR = '#a4d7e1';\nexport const HIGHLIGHT_NUMBER_COLOR = 'black';\nexport const HIGHLIGHT_STROKE_WIDTH = '4';\n\nexport const CONNECTION_PATH_DOM_SELECTOR = 'path';\n","export function rgbaToHex(rgba: string) {\n  if (isValidHex(rgba)) {\n    return rgba;\n  }\n  const [r, g, b, a] = rgba.match(/\\d+(\\.\\d+)?/g)!.map((it) => +it);\n  const red = r.toString(16).padStart(2, '0');\n  const green = g.toString(16).padStart(2, '0');\n  const blue = b.toString(16).padStart(2, '0');\n  const alpha = Math.round(a * 255)\n    .toString(16)\n    .padStart(2, '0');\n  return `#${red}${green}${blue}${alpha}`;\n}\n\nconst isValidHex = (hex: string) => /^#([A-Fa-f0-9]{3,4}){1,2}$/.test(hex);\nconst getChunksFromString = (st: string, chunkSize: number) =>\n  st.match(new RegExp(`.{${chunkSize}}`, 'g')) ?? [];\nconst convertHexUnitTo256 = (hexStr: string) =>\n  parseInt(hexStr.repeat(2 / hexStr.length), 16);\nconst getAlphafloat = (a: number | undefined) => {\n  if (typeof a !== 'undefined') {\n    return Math.round((a / 255 + Number.EPSILON) * 100) / 100; // Runden auf 2 oder weniger Nachkommastellen\n  }\n  return 1;\n};\n\nexport const isHexWithAlpha = (hex: string | null | undefined) =>\n  hex?.startsWith('#') && (hex?.length === 5 || hex?.length === 9);\n\nexport const hexToRGBA = (hex: string) => {\n  if (!isValidHex(hex)) {\n    throw new Error('Invalid HEX');\n  }\n  const chunkSize = Math.floor((hex.length - 1) / 3); // 1 falls hex 3-4 Stellen, 2 falls hex 6 oder 8 Stellen\n  const hexArr = getChunksFromString(hex.slice(1), chunkSize);\n  const [r, g, b, a] = hexArr.map(convertHexUnitTo256);\n  return `rgba(${r},${g},${b},${getAlphafloat(a)})`;\n};\n"],"names":["SNACKBAR_DURATION","SNACKBAR_ERROR","SNACKBAR_SUCCESS","i0","elementStart","text","elementEnd","element","listener","AutosaveOptionsComponent_Conditional_0_Template_button_click_22_listener","restoreView","_r1","activated_r2","reference","interval_r3","drafts_r4","ctx_r4","nextContext","resetView","save","checked","value","advance","property","configuration_r6","activated","interval","maxDrafts","AutosaveOptionsComponent","constructor","autosaveConfiguration","snackbar","setConfiguration","open","undefined","duration","panelClass","_","_staticBlock","directiveInject","i1","AutosaveConfigurationService","i2","MatSnackBar","selectors","standalone","decls","vars","consts","template","AutosaveOptionsComponent_Template","rf","ctx","conditionalCreate","AutosaveOptionsComponent_Conditional_0_Template","conditional","tmp_0_0","pipeBind1","configuration$","BehaviorSubject","SettingsService","showSettings","showSettings$","asObservable","close","next","factory","fac","providedIn","MAT_DIALOG_DATA","twoWayListener","ExportDialogComponent_Conditional_18_Template_input_ngModelChange_2_listener","$event","ctx_r1","twoWayBindingSet","animationSpeed","ExportDialogComponent_Conditional_18_Template_span_click_3_listener","onExportAnimatedSvg","twoWayProperty","ExportDialogComponent_For_26_Template_button_click_0_listener","$index_50_r4","_r3","$index","doOption","option_r5","tooltip","textInterpolate1","text","ExportDialogComponent","dialogRef","data","isAnimatedSvgExport","withTitle","useWhiteBackground","title","options","ngOnInit","i","fn","updateWithTitle","target","updateUseWhiteBackground","MatDialogRef","ExportDialogComponent_Template","ExportDialogComponent_Template_input_change_7_listener","ExportDialogComponent_Template_input_change_11_listener","ExportDialogComponent_Template_input_ngModelChange_15_listener","ExportDialogComponent_Template_span_click_16_listener","ExportDialogComponent_Conditional_18_Template","ExportDialogComponent_Template_button_click_23_listener","repeaterCreate","ExportDialogComponent_For_26_Template","repeaterTrackByIdentity","textInterpolate","repeater","selectPartOfActivity","angleBetween","countLines","str","split","length","labelPosition","waypoints","lines","amountWaypoints","determinedPosition","xPos","yPos","angleActivity","Array","selectedActivity","labelPositionX","labelPositionY","x","y","selected","startPoint","endPoint","angle","offsetX","scaledAngle","offsetY","sanitizeTextForSVGExport","headlineAndDescriptionUpdateHandler","commandStack","titleService","registerHandler","handlerFunction","execute","oldTitle","getTitle","oldDescription","getDescription","updateTitleAndDescription","newTitle","newDescription","revert","SNACKBAR_DURATION_LONG","SNACKBAR_INFO","ReplayService","domManipulationService","storyCreatorService","story","currentSentence","maxSentenceNumber","replayOnSubject","currentSentence$","maxSentenceNumber$","replayOn$","setReplayState","state","getReplayOn","isReplayable","traceActivitiesAndCreateStory","initializeReplay","getCurrentSentenceNumber","getMaxSentenceNumber","nextSentence","showCurrentSentence","previousSentence","showSentence","startReplay","checkSequenceNumbers","missingSentences","getMissingSentences","sentence","join","getValue","stopReplay","showAll","inject","DomManipulationService","StoryCreatorService","i3","EventEmitter","combineLatest","map","HeaderButtonsComponent_Conditional_0_Template_button_click_1_listener","emit","HeaderButtonsComponent_Conditional_0_Template_button_click_11_listener","openImportFromUrlDialog","HeaderButtonsComponent_Conditional_0_Template_input_change_16_listener","import","HeaderButtonsComponent_Conditional_0_Template_button_click_17_listener","openDownloadDialog","HeaderButtonsComponent_Conditional_0_Template_button_click_22_listener","openLabelDictionary","HeaderButtonsComponent_Conditional_0_Template_button_click_27_listener","newStory","HeaderButtonsComponent_Conditional_0_Template_button_click_32_listener","openSettings","HeaderButtonsComponent_Conditional_0_Template_button_click_37_listener","showKeyboardShortCuts","classProp","hasDomainStory","hasTitle","isDirty","HeaderButtonsComponent_Conditional_1_Template_button_click_1_listener","HeaderButtonsComponent_Conditional_1_Template_button_click_6_listener","HeaderButtonsComponent_Conditional_1_Template_button_click_11_listener","sentenceDescription$","HeaderButtonsComponent","replayService","isReplaying","pipe","count","inputs","outputs","HeaderButtonsComponent_Template","HeaderButtonsComponent_Conditional_0_Template","HeaderButtonsComponent_Conditional_1_Template","setLabel","getLabel","setNumber","getNumber","ElementTypes","getBusinessObject","is","NULL_DIMENSIONS","width","height","UpdateLabelHandler","modeling","textRenderer","oldLabel","element","oldNumber","setText","newLabel","newNumber","postExecute","label","newBounds","TEXTANNOTATION","bo","name","getLayoutedBounds","resizeShape","textNumber","number","labelTarget","numberTarget","$inject","NamesOfSelectedIcons","namesOfDefaultIcons","Dictionary","builtInIcons","customIcons","sanitizeIconName","getIconId","ICON_CSS_CLASS_PREFIX","IconDictionaryService","selectedActorsDictionary","selectedWorkObjectsDictionary","initTypeDictionaries","namesOfIcons","customIconSet","actors","keysArray","workObjects","allTypes","addBuiltInIcons","appendDict","initDictionary","selectedIconNames","allIcons","dictionary","clear","key","add","get","allInTypeDictionary","type","elements","collection","ACTOR","WORKOBJECT","allIn","forEach","has","addIconsFromIconSetConfiguration","dictionaryType","iconTypes","src","registerIconForType","addIconsToTypeDictionary","actorIcons","workObjectIcons","includes","Error","unregisterIconForType","delete","updateIconRegistries","config","newIcons","extractCustomIconsFromDictionary","addNewIconsToDictionary","elementDictionary","sanitizedName","getFullDictionary","custom","addIMGToIconDictionary","addIconsToCss","input","set","sheetEl","document","getElementById","iconStyle","toLowerCase","wrapSRCInSVG","sheet","insertRule","cssRules","fullDictionary","getIconsAssignedAs","getTypeIconSRC","getCSSClassOfIcon","getIconSource","getActorsDictionary","getWorkObjectsDictionary","setIconSet","iconSet","LabelDictionaryComponent","LabelDictionaryDialogComponent","CommonModule","MaterialModule","LabelDictionaryModule","declarations","imports","exports","MatDialogContent","IconListItemComponent","iconName","id","iconSetCustomizationService","iconInitiated","icon","isActor","isWorkobject","isNone","getIconForName","subscribe","isWorkObject","ngAfterViewChecked","createIcon","img","svg","toggleNone","setAsUnassigned","toggleActor","setAsActor","toggleWorkobject","setAsWorkobject","IconSetCustomizationService","IconListItemComponent_Template","IconListItemComponent_Template_mat_button_toggle_change_7_listener","IconListItemComponent_Template_mat_button_toggle_change_10_listener","IconListItemComponent_Template_mat_button_toggle_change_13_listener","interpolate","MatDialogConfig","KeyboardShortcutsDialogComponent","DialogService","matDialog","openDialog","dialog","openKeyboardShortcutsDialog","shortCuts","push","description","shortCut","MatDialog","assign","autocomplete","isBackground","dictionaryService","numberStash","stashUse","initializeLabelEditingProvider","labelingDictionary","getNumberStash","use","toggleStashUse","focusElement","setTimeout","focus","DSLabelEditingProvider","eventBus","canvas","directEditing","resizeHandles","updateLabelHandler","_canvas","_modeling","_textRenderer","_updateLabelHandler","registerProvider","on","event","activateDirectEdit","ACTIVITY","businessObject","complete","isActive","cancel","removeResizers","active","createAutocomplete","shape","canExecute","context","editingBox","getElementsByClassName","item","activate","getUniqueWorkObjectNames","prototype","bounds","getEditingBBox","resizable","autoResize","bbox","getAbsoluteBBox","zoom","defaultStyle","getDefaultStyle","defaultFontSize","fontSize","defaultLineHeight","lineHeight","style","fontFamily","fontWeight","GROUP","minWidth","maxWidth","minHeight","paddingTop","paddingBottom","paddingLeft","paddingRight","textAlign","test","update","activeContextText","updateLabel","ActivityDialogData","activity","numberIsAllowedMultipleTimes","showNumberFields","saveFN","DomainModule","isArray","generateAutomaticNumber","hexToRGBA","isHexWithAlpha","rgbaToHex","hasPrimaryModifier","dirtyFlagService","iconDictionaryService","initializeContextPadProvider","dirtyFlag","iconDictionary","DomainStoryContextPadProvider","connect","translate","elementFactory","create","contextPad","popupMenu","replaceMenuProvider","rules","_selectedElement","startConnect","isOpen","entries","getEntries","replace","action","click","addEventListener","executeCommandStack","getContextPadEntries","pickedColor","dispatchEvent","CustomEvent","detail","color","actions","autoActivate","start","addDelete","addColorChange","addConnectWithActivity","addTextAnnotation","addActors","appendAction","addWorkObjects","addChangeWorkObjectTypeMenu","addChangeActorTypeMenu","addDeleteGroupWithoutChildren","addChangeDirection","CONNECTION","getMultiElementContextPadEntries","deleteAllowed","allowed","group","className","groups","filter","el","otherElements","removeGroup","removeElements","slice","makeDirty","deleteGroup","changeDirection","position","getReplaceMenuPosition","cursor","colorChange","dragstart","workObjectType","actorType","source","Y_OFFSET","diagramContainer","getContainer","pad","getPad","html","diagramRect","getBoundingClientRect","padRect","top","left","appendStart","createShape","hints","getSelectedBusinessObject","oldColor","newColor","selectedBusinessObject","initializePalette","PaletteProvider","palette","spaceTool","lassoTool","_create","_elementFactory","_spaceTool","_lassoTool","getPaletteEntries","createAction","createListener","shortType","initPalette","actorTypes","addCanvasObjectTypes","separator","workObjectTypes","activateSelection","elementType","numberRegistry","multipleNumberRegistry","canvasElementRegistry","initializeNumbering","canvasElementRegistryService","updateMultipleNumberRegistry","activityBusinessObjects","multipleNumberAllowed","numberBoxDefinitions","alignment","boxWidth","boxHeight","fixedOffsetX","fixedOffsetY","angleDependantOffsetX","angleDependantOffsetY","elementActivity","semantic","usedNumbers","wantedNumber","activitiesFromActors","getActivitiesFromActors","updateExistingNumbersAtGeneration","updateExistingNumbersAtEditing","sortedActivities","oldMultipleNumberRegistry","currentNumber","setNumberOfActivity","getNumbersAndIDs","iDWithNumber","activities","addNumberToRegistry","renderedNumber","setNumberIsMultiple","multi","getNumberRegistry","getMultipleNumberRegistry","elementArray","fire","environment","ColorPickerDirective","BLACK","BLUE","CYAN","DARK_PINK","GREEN","GREY","LIGHT_PINK","LIME","ORANGE","PURPLE","RED","YELLOW","AppComponent","settingsService","exportService","autosaveService","cd","modelerService","version","skipNextColorUpdate","colorBox","showDescription$","e","modifierPressed","ctrlKey","metaKey","altKey","preventDefault","stopPropagation","isDomainStoryExportable","downloadDST","downloadSVG","colorPicker","closeDialog","customEvent","postInit","onColorChanged","ngAfterViewInit","loadLatestDraft","detectChanges","onWindowClose","dirty","returnValue","TitleService","ExportService","i4","AutosaveService","ChangeDetectorRef","i5","i6","i7","ModelerService","i8","DirtyFlagService","viewQuery","AppComponent_Query","AppComponent_beforeunload_HostBindingHandler","resolveWindow","AppComponent_Template_input_colorPickerChange_1_listener","AppComponent_Template_input_colorPickerClose_1_listener","AppComponent_Conditional_2_Template","styleProp","all","size","isEmpty","some","entry","Entry","putEntry","addEach","object","Object","keys","dict","found","keyWords","DetailsListItemComponent","DetailsListItemComponent_Template","sanitizeUrl","ConfigAndDST","domain","dst","testConfigAndDst","JSON","parse","IconFilterOptions","iconName_r1","IconSetConfigurationComponent","iconSetImportExportService","elementRegistryService","NO_FILTER","selectedActors","selectedWorkobjects","allIconNames","allFilteredIconNames","iconSetConfigurationTypes","getIconSetConfiguration","sort","sortByName","selectedActors$","selectedWorkobjects$","allFiltered","getFilteredNamesForType","a","b","localeCompare","loadMinimalIconConfigurationWithDefaultIcons","resetIconSet","loadInitialConfiguration","saveIconSet","getUsedIcons","startIconUpload","importIcon","files","iconInputFile","reader","FileReader","onloadend","result","addNewIcon","readAsDataURL","startIconSetImport","importIconSet","iconSetInputFile","configFromFile","createIconSetConfiguration","loadConfiguration","importConfiguration","readAsText","filterForActors","ONLY_ACTORS","filterForWorkobjects","ONLY_WORKOBJECTS","filterForUnassigned","ONLY_UNASSIGNED","filterByNameAndType","filteredByKeyWord","filteredByNameAndType","isIconActor","isIconWorkObject","IconSetImportExportService","ElementRegistryService","IconSetConfigurationComponent_Template","IconSetConfigurationComponent_Template_button_click_6_listener","IconSetConfigurationComponent_Template_button_click_10_listener","IconSetConfigurationComponent_Template_button_click_14_listener","IconSetConfigurationComponent_Template_input_input_21_listener","IconSetConfigurationComponent_Template_button_click_23_listener","IconSetConfigurationComponent_Template_input_change_26_listener","IconSetConfigurationComponent_Template_button_click_27_listener","IconSetConfigurationComponent_Template_input_change_30_listener","IconSetConfigurationComponent_Template_button_click_31_listener","IconSetConfigurationComponent_Template_button_click_34_listener","IconSetConfigurationComponent_Template_button_click_37_listener","IconSetConfigurationComponent_For_42_Template","inherits","pick","CommandInterceptor","collectionAdd","remove","collectionRemove","reworkGroupElements","isGroup","DomainStoryUpdater","egon","connectionDocking","call","updateElement","parent","_elements","updateConnection","connection","newTarget","newSource","copyWaypoints","p","original","cropConnection","cropped","createElementsBehavior","getCroppedWaypoints","executed","reverted","AutosavedDraftsComponent_Conditional_7_For_3_Template_button_click_6_listener","draft_r2","$implicit","ctx_r2","loadDraft","date","AutosavedDraftsComponent_Conditional_7_For_3_Template","drafts","AutosavedDraftsComponent","subscription","autosavedDraftsChanged$","initDrafts","getDrafts","draft","removeAllDrafts","AutosavedDraftsComponent_Template","AutosavedDraftsComponent_Template_button_click_5_listener","AutosavedDraftsComponent_Conditional_7_Template","textInterpolate2","KeyboardBindings","AdditionalKeyboardBindings","injector","invoke","registerBindings","keyboard","editorActions","addListener","isRegistered","keyEvent","isKey","isCmd","trigger","hasModifier","isDefined","isObject","reduce","sortBy","DISALLOWED_PROPERTIES","PropertyCopy","_eventBus","propertyNames","propertyName","indexOf","copyElement","sourceElement","targetElement","self","canCopyProperties","sourceProperty","copiedProperty","copyProperty","canSetProperty","property","$parent","childProperties","childProperty","concat","DomainStoryPalette","CreateModule","Connect","Translate","ContextPadModule","PopupMenu","CommandStack","DomainStoryElementFactory","DomainStoryRenderer","DSModeling","DomainStoryRules","ReplaceMenuProvider","__depends__","__init__","domainStoryRenderer","paletteProvider","domainStoryRules","domainStoryUpdater","contextPadProvider","IconSetDetailsComponent_For_18_Template_mat_list_item_dragover_0_listener","allowDrop","IconSetDetailsComponent_For_18_Template_mat_list_item_dragstart_0_listener","$index_30_r3","onDragStart","IconSetDetailsComponent_For_18_Template_mat_list_item_drop_0_listener","ctx_r3","iconName_r5","onDrop","IconSetDetailsComponent_For_25_Template_mat_list_item_dragover_0_listener","_r6","IconSetDetailsComponent_For_25_Template_mat_list_item_dragstart_0_listener","$index_43_r7","IconSetDetailsComponent_For_25_Template_mat_list_item_drop_0_listener","ctx_r7","iconName_r9","IconSetDetailsComponent","customizationService","importExportService","draggedList","draggedIndex","iconSetName","iconSetName$","changeName","listName","index","list","sortedList","splice","setSelectedActors","setSelectedWorkObject","exportIconSet","exportConfiguration","IconSetDetailsComponent_Template","IconSetDetailsComponent_Template_input_input_8_listener","IconSetDetailsComponent_Template_button_click_10_listener","IconSetDetailsComponent_For_18_Template","IconSetDetailsComponent_For_25_Template","TitleDialogForm","TitleDialogComponent","form","getRawValue","TitleDialogComponent_Template","TitleDialogComponent_Template_textarea_keydown_enter_10_listener","TitleDialogComponent_Template_textarea_keyup_enter_10_listener","TitleDialogComponent_Template_textarea_keyup_escape_10_listener","TitleDialogComponent_Template_button_click_12_listener","TitleDialogComponent_Template_button_click_14_listener","LabelDictionaryComponent_For_6_Template_input_change_2_listener","workobjectEntry_r2","updateWorkobjectEntry","LabelDictionaryComponent_For_13_Template_textarea_change_2_listener","activityEntry_r5","_r4","updateActivityEntry","LabelDictionaryComponent_For_13_Template_textarea_keydown_enter_2_listener","LabelDictionaryComponent_For_13_Template_textarea_keyup_enter_2_listener","LabelDictionaryComponent_For_13_Template_textarea_keyup_escape_2_listener","labelDictionaryService","closeEmitter","createLabelDictionaries","workObjectEntries","getWorkObjectLabels","activityEntries","getActivityLabels","workobjectEntriesSubject","activityEntriesSubject","activityNames","originalActivityNames","workObjectNames","originalWorkObjectNames","originalName","w","workobject","massRenameLabels","activityEntry","workobjectEntry","LabelDictionaryService","LabelDictionaryComponent_Template","LabelDictionaryComponent_For_6_Template","LabelDictionaryComponent_For_13_Template","LabelDictionaryComponent_Template_button_click_16_listener","LabelDictionaryComponent_Template_button_click_18_listener","DSMassRenameHandler","massRename","preExecute","relevantElements","confirm","newValue","HeaderComponent_Conditional_11_Template_button_click_0_listener","setShowDescription","HeaderComponent_Conditional_13_Template_button_click_0_listener","description$","HeaderComponent","importService","dialogService","title$","isReplay$","isDirty$","dirty$","showDescription","openHeaderDialog","show","createNewDomainStory","openUnsavedChangesReminderDialog","reset","onImport","performImport","hasTitleOrDescription","ImportDomainStoryService","i9","HeaderComponent_Template","HeaderComponent_Template_span_click_3_listener","HeaderComponent_Template_button_click_6_listener","HeaderComponent_Conditional_11_Template","HeaderComponent_Conditional_13_Template","HeaderComponent_Template_app_header_buttons_import_16_listener","HeaderComponent_Template_app_header_buttons_openSettings_16_listener","HeaderComponent_Template_app_header_buttons_startReplay_16_listener","HeaderComponent_Template_app_header_buttons_stopReplay_16_listener","HeaderComponent_Template_app_header_buttons_nextSentence_16_listener","HeaderComponent_Template_app_header_buttons_previousSentence_16_listener","HeaderComponent_Template_app_header_buttons_newStory_16_listener","HeaderComponent_Template_app_header_buttons_showKeyboardShortCuts_16_listener","HeaderComponent_Template_app_header_buttons_openLabelDictionary_16_listener","HeaderComponent_Template_app_header_buttons_openDownloadDialog_16_listener","HeaderComponent_Template_app_header_buttons_openImportFromUrlDialog_16_listener","HeaderComponent_Conditional_19_Template","AutosaveSettingsComponent","FormsModule","AutosaveModule","ImportDialogComponent","ImportModule","sanitizeForDesktop","formatDate","ExportDialogData","ExportOption","pngService","svgService","htmlPresentationService","titleSubscription","descriptionSubscription","ngOnDestroy","unsubscribe","getStory","createConfigAndDST","DomainStory","getCurrentConfigurationForExport","getStoryForDownload","configAndDST","json","stringify","filename","getCurrentDateString","downloadFile","datatype","fileEnding","makeClean","createElement","setAttribute","encodeURIComponent","display","body","appendChild","removeChild","svgData","createSVGData","downloadPNG","container","svgElements","getElementsByTagName","outerSVGElement","viewport","layerBase","querySelector","image","extractSVG","prepareSVG","onload","tempCanvas","getWidth","getHeight","getContext","rect","fillStyle","fill","drawImage","png64","toDataURL","ele","onchange","downloadHTMLPresentation","modeler","then","objA","objB","info","Date","SVGDownloadOption","EGNDownloadOption","PNGDownloadOption","HTMLDownloadOption","getModeler","disableClose","autoFocus","PngService","SvgService","HtmlPresentationService","DomainStoryModeler","SNACKBAR_DURATION_LONGER","VERSION_KEY","initializerService","storageService","checkCurrentVersion","storedIconSetConfiguration","getStoredIconSetConfiguration","bind","elementRegistry","initializeDomainStoryModelerEventHandlers","propagateDomainStoryModelerClassesToServices","exportArtifacts","debounce","saveSVG","initiateEventBusListeners","window","startDebounce","onAction","restart","iconSetConfiguration","domainStory","currentStory","createObjectListForDSTDownload","setStoredIconSetConfiguration","destroy","renderStory","fitStoryToScreen","commandStackChanged","timeout","timer","encoded","getEncoded","_asyncToGenerator","err","alert","importStory","correctInitialize","c","importBusinessObjects","InitializerService","StorageService","Modeling","_commandStack","updateNumber","replaceShape","oldShape","newShape","newData","INITIAL_TITLE","INITIAL_DESCRIPTION","INITIAL_ICON_SET_NAME","ICON_SET_CONFIGURATION_KEY","DRAFTS_KEY","DEFAULT_AUTOSAVES_ENABLED","DEFAULT_AUTOSAVES_MAX_DRAFTS","DEFAULT_AUTOSAVES_INTERVAL","initializeReplaceOptions","actorReplaceOptions","replaceOption","typeName","actionName","workObjectReplaceOptions","FormControl","FormGroup","Validators","ActivityDialogForm","activityLabel","activityNumber","nonNullable","required","multipleNumbers","commandStackService","titleSubject","descriptionSubject","showDescriptionSubject","allowUndo","fireTitleAndDescriptionUpdate","updateTitle","updateDescription","inputTitle","trim","getVersion","CommandStackService","SVG_LINK","X_OFFSET_UTIL","TEXTSPAN_TITLE_HEIGHT","TEXTSPAN_DESCRIPTION_HEIGHT","DEFAULT_PADDING","Subject","configuration","updateConfiguration","readDrafts","sortDrafts","stopTimer","startTimer","autosaveTimer","clearInterval","setInterval","savedDrafts","newDraft","createDraft","isChanged","isSame","isDraftEmpty","unshift","pop","writeDrafts","toString","aDate","bDate","DragDirective","importDomainStoryService","background","onDragOver","evt","onDragLeave","dataTransfer","performDropImport","hostVars","hostBindings","DragDirective_HostBindings","DragDirective_dragover_HostBindingHandler","DragDirective_dragleave_HostBindingHandler","DragDirective_drop_HostBindingHandler","isNumber","omit","domify","assignStyle","query","domQuery","domRemove","innerSVG","Diagram","BaseViewer","DEFAULT_OPTIONS","_container","_createContainer","_init","_saveSVG","_emit","contentNode","getActiveLayer","defsNode","_svg","contents","defs","getBBox","error","apply","arguments","getModules","_modules","getDefinitions","events","priority","callback","that","off","attachTo","parentNode","detach","jquery","resized","baseModules","modules","additionalModules","staticModules","diagramModules","diagramOptions","ensureUnit","val","ExportModule","replaceAll","reg","match","nameWithoutFileEnding","lastIndexOf","substring","SettingsComponent","showAutosaveSettings","showIconSetCustomization","savedConfiguration","getAndClearSavedConfiguration","openGeneralSettings","openIconSetCustomization","SettingsComponent_Template","SettingsComponent_Template_button_click_3_listener","SettingsComponent_Template_button_click_7_listener","SettingsComponent_Template_button_click_11_listener","SettingsComponent_Conditional_15_Template","SettingsComponent_Conditional_17_Template","production","shortCut_r1","KeyboardShortcutsDialogComponent_Template","KeyboardShortcutsDialogComponent_For_4_Template","_forTrack0","IconSetChangedService","iconSetChangedService","allIconListItems","configurationHasChanged","getCurrentConfigurationNamesWithoutPrefix","addIconToAllIconList","iconConfigrationChanged","customConfig","actorKeys","workObjectKeys","usedIcons","selectedActorNames","selectActor","deselectActor","selectedWorkobjectNames","selectWorkObject","workobjects","deselectWorkobject","actor","workObject","setIconSetName","changedIconSet","updateIcon","updateActorSubject","updateWorkObjectSubject","defaultConfig","createMinimalConfigurationWithDefaultIcons","workObjectName","actorName","updateAllIconBehaviourSubjects","resetToInitialConfiguration","imported","changedActors","changedWorkobjects","configurationActors","configurationWorkobjects","changedIconSetConfiguration","updateIcons","temp","iconDict","getDataUrlForIcon","iconBehaviourSubject","customIconSetConfiguration","rawSrc","startsWith","ResizeModule","DomainStoryModule","LabelEditingModule","ModelingModule","MoveCanvasModule","KeyboardMoveModule","ZoomScrollModule","MoveModule","Bendpoints","ConnectionPreview","CopyPasteModule","SpaceToolModule","LassoToolModule","HandToolModule","ConnectModule","KeyboardModule","EditorActionsModule","SnappingModule","AdditionalShortcuts","minimapModule","_groupElements","_createElementFromBusinessObject","parentId","children","attributes","isOfTypeGroup","parentShape","addShape","_addConnection","addConnection","businessObjects","connections","otherElementTypes","isOfTypeConnection","_fitViewport","ChangeSupportModule","DirectEditingModule","DSLabelEditingPreview","dSlabelEditingProvider","dSlabelEditingPreview","localStorage","setItem","getItem","inject","provideAppInitializer","BrowserModule","MAT_CHECKBOX_DEFAULT_OPTIONS","NoopAnimationsModule","UntypedFormBuilder","initializeRenderer","initializeActivityUpdateHandler","WorkbenchModule","IconSetConfigModule","ModelerModule","TitleModule","AppModule","ngDoBootstrap","app","componentElement","append","bootstrap","provide","useValue","clickAction","initializerFn","initialize","useExisting","AdditionalEditorActions","additionalEditorActions","additionalKeyBindings","ActivityDialogComponent","positionsMatch","activityUpdateHandler","massRenameHandler","elementUpdateHandler","setCommandStack","setElementRegistry","activityDoubleClick","renderedNumberRegistry","allActivities","htmlCanvas","transform","getAttribute","transformX","transformY","zoomX","zoomY","nums","clickX","originalEvent","clickY","parseFloat","parseInt","currentNum","tspan","tx","ty","tNumber","innerHTML","elementX","Math","floor","elementY","pasteColor","pasteText","pasteHeight","descriptor","oldBusinessObject","elementsKey","shift","saveActivityInputLabel","activityData","hasNumber","getLabelAttr","getNumberAttr","attr","linelength","abs","calculateTextWidth","fontsize","closeAllLists","currentFocus","filteredWorkObjectNames","autocompleteList","autocompleteItem","toUpperCase","visibility","onkeydown","keyCode","addActive","removeActive","classList","survivor","isUndefined","copyProperties","properties","removeProperties","LOW_PRIORITY","EgonCopyPaste","propertyCopy","isLabel","references","resolveReferences","cache","host","attachedToRef","array","reference","newBusinessObject","undoGroupRework","element_colorChange","removeGroupWithoutChildren","incoming","child","ImportRepairService","checkForUnreferencedElementsInActivitiesAndRepair","objectIDs","activityIndex","updateCustomElementsPreviousV050","removeWhitespacesFromIcons","removeUnnecessaryBpmnProperties","$type","$descriptor","di","createTitleAndDescriptionSVGElement","cacheData","domainStorySvg","structuredClone","createAnimatedSvg","viewBoxIndex","viewBox","viewBoxCoordinates","min_x","viewBoxWidth","min_y","viewBoxHeight","splitViewBox","insertText","dynamicHeightOffset","createBounds","dataStart","dataEnd","insertIndex","findIndexToInsertData","svgIndex","backgroundColorWhite","appendDST","usedElementId","storyLength","visibleTimeInPercent","durationOfAnimation","sentenceCounter","currentVisibleTimeInPercent","previousVisibleTimeInPercent","objects","it","objectId","idIndex","insertIdIndex","ViewBoxCoordinate","people","animal","vehicle","airport","driving","print","calling","computer","speaker","legalSystem","infoDialogs","finance","times","rating","groceries","fingers","entertainment","person","pet","conversation","world","store","theater","business","water","hotel","dining","gasStation","meetingRoom","courthouse","flag","place","car","bus","train","truck","taxi","bike","boat","motorcycle","plane","flightTakeoff","flightLanding","shuttle","walking","traffic","commute","system","printer","folder","email","copyright","dns","settings","cellphone","briefcase","microphone","signal","pencil","sum","headset","mouse","router","scanner","security","desktop","speakerPhone","tablet","receipt","calendar","cloud","assessment","dashboard","pieChart","problem","pictureAsPdf","grid","watch","euro","dollar","alarm","wrench","circleArrows","creditCard","favorite","gavel","blind","hourglass","time","search","shopping","thumbUp","thumbDown","thumbUpDown","couch","attach","ruler","education","howToReg","viewList","accessible","accountCircle","assignment","battery","book","bug","changeHistory","checkCircle","code","contactMail","crop","dvr","extension","face","fastfood","fingerprint","hand","help","lightbulb","lock","loyalty","pictureInPicture","portrait","rocket","satellite","share","slideshow","star","sun","table","videocam","wysiwyg","addCustomIcons","every","RuleProvider","HIGH_PRIORITY","MIN_SIZE","isActivity","isConnection","isAnnotation","nonExistingOrLabel","canStartConnection","canConnect","canResize","lowerLeft","lowerRight","upperRight","canConnectToAnnotation","init","canCreate","addRule","shapes","s","hover","BaseElementFactory","DomainStoryIdFactory","domainStoryIdFactory","djsElementType","attrs","dstElementType","registerId","getId","alreadyHasSize","_getShapeSize","defineProperty","baseCreate","__default","degrees","radians","PI","quadrant","adjacent","opposite","atan2","Point","LabelDictionaryDialogComponent_Template","LabelDictionaryDialogComponent_Template_app_label_dictionary_closeEmitter_3_listener","massNamingService","activityLabels","workObjektLabels","isActivityWithLabel","isWorkObjectWithLabel","hasAtLeastOneLabel","getAllCanvasObjects","allObjects","getAllWorkobjects","Set","massChangeNames","MassNamingService","ReactiveFormsModule","idList","generateId","idNumber","fourDigitsId","idSuffix","containsId","random","same","oldValue","allRelevantObjects","LassoTool","SpaceTool","Palette","TextRenderer","BaseLayouter","CroppingConnectionDocking","layouter","TextUtil","DEFAULT_FONT_SIZE","LINE_HEIGHT_RATIO","MIN_TEXT_ANNOTATION_HEIGHT","externalStyle","textUtil","getExternalLabelBounds","layoutedDimensions","getDimensions","box","round","ceil","getTextAnnotationBounds","align","padding","max","createText","getExternalStyle","browserSpecs","ua","navigator","userAgent","tem","M","exec","appName","appVersion","URIHashtagFix","fix","browser","findMostOuterElements","includeSpaceForDescription","xLeft","xRight","yUp","yDown","sub","elXLeft","elXRight","elYUp","elYDown","rects","outerRect","calculateWidthAndHeight","extraHeight","layerResizers","layerOverlays","removeAttribute","XMLSerializer","serializeToString","innerShape","superParent","svgShape","parentElement","svgGroup","svgGroupParent","isCustomIcon","isCustomSvgIcon","getScaledPath","param","rawPath","d","heightElements","widthElements","mx","my","abspos","containerWidth","containerHeight","coordinates","heightRatio","yScaleFactor","widthRatio","xScaleFactor","heightIndex","widthIndex","path","format","obj","String","tokenRegex","replacer","objNotationRegex","res","quote","quotedName","isFunc","BaseRenderer","Ids","componentsToPath","createLine","svgAppend","svgAttr","classes","svgClasses","svgCreate","RENDERER_IDS","numbers","DEFAULT_COLOR","_iconDictionaryService","_elementRegistryService","_dirtyFlagService","styles","rendererId","markers","computeStyle","generateActivityNumber","parentGfx","newRenderedNumber","renderNumber","numberStyle","fitBox","renderActorAndWorkObjectLabel","renderLabel","renderActivityLabel","xStart","wordWrap","overflowWrap","hyphens","renderExternalNumber","setCoordinates","circle","radius","stroke","manipulateInnerHTMLXLabel","manipulateInnerHTMLYLabel","firstChild","nodeValue","offset","outerHTML","Number","drawGroup","drawRect","applyColorToCustomSvgIcon","iconSvg","rest","base64Svg","atob","coloredSvg","applyColorToIcon","encodedColoredSvg","btoa","getIconSvg","dataURL","drawActor","svgDynamicSizeAttributes","iconSRC","drawWorkObject","useColorForActivity","strokeWidth","strokeLinejoin","markerEnd","marker","drawActivity","adjustForTextOverlap","fixConnectionInHTML","baseVal","checkIfPointOverlapsText","point","lineOffset","getLineOffset","data_id","tspans","wantedConnection","polylines","drawDSConnection","strokeDasharray","drawAnnotation","textElement","textPathData","drawPath","r","rx","ry","createMarker","activityArrow","addMarker","ref","scale","strokeLinecap","refX","refY","markerWidth","markerHeight","orient","getWorkObjectPath","rectangle","getRectPath","getGroupPath","getActivityPath","activityPath","waypoint","getActorPath","draggerGfx","removeMarker","canRender","drawShape","pos","getShapePath","drawConnection","enableProdMode","platformBrowser","bootstrapModule","catch","console","fullyInitialized","registry","__implicitroot","allObjectsFromCanvas","getAllGroups","objectList","fillListOfCanvasObjects","canvasElement","getAllActivities","getAllConnections","groupObjects","checkChildForGroup","currentGroup","seenIds","groupObject","isNewId","registryElementNames","activityCanvasA","activityCanvasB","activityNumberA","activityNumberB","getAllActors","co","titel","Replace","replaceOptions","_dsReplace","_createEntries","menuEntries","definition","_createMenuEntry","replaceElement","replaceAction","doT","_this","fixActivityMarkersForEachSentence","content","transition","revealjsTemplate","dots","revealjsData","script","sentences","multiplexSecret","multiplexId","fixMalformedHtmlScript","sectionIndex","newDefs","ids","idToReplace","newId","activity_directionChange","activity_changed","oldNumbersWithIDs","revertAutomaticNumberGenerationChange","oldWaypoints","swapSource","newWaypoints","getActivitesFromActors","j","fileUrl","doImport","updateUrl","ImportDialogComponent_Template","ImportDialogComponent_Template_input_input_7_listener","ImportDialogComponent_Template_button_click_12_listener","ImportDialogComponent_Template_button_click_14_listener","controls","valueChanges","setValue","onSubmit","patchValue","ActivityDialogComponent_Template","ActivityDialogComponent_Template_input_change_9_listener","ActivityDialogComponent_Template_textarea_keydown_enter_14_listener","ActivityDialogComponent_Template_textarea_keyup_enter_14_listener","ActivityDialogComponent_Template_textarea_keyup_escape_14_listener","ActivityDialogComponent_Template_button_click_16_listener","ActivityDialogComponent_Template_button_click_18_listener","MatDialogModule","MatFormFieldModule","MatInputModule","MatToolbarModule","MatExpansionModule","MatCardModule","MatSnackBarModule","MatButtonModule","MatGridListModule","MatButtonToggleModule","MatListModule","MatCheckboxModule","AutosaveSettingsComponent_Template","oldElement","newElementData","newElement","setCenterOfElement","outgoingActivities","outgoing","incomingActivities","MatButton","MatDialogActions","UnsavedChangesReminderComponent","continueAction","UnsavedChangesReminderComponent_Template","UnsavedChangesReminderComponent_Template_button_click_9_listener","UnsavedChangesReminderComponent_Template_button_click_11_listener","iconSetNameSubject","configJSONString","updateIconSetName","actorDict","workObjectDict","configurationName","getCurrentConfiguration","createConfigFromDictionaries","currentConfiguration","minimalConfig","createConfigFromCanvas","actorsDict","workObjectsDict","actorNames","workobjectNames","newActors","newWorkobjects","fileConfiguration","iconSetString","configurationFromFile","checkValidityOfConfiguration","configForStorage","allCanvasObjects","importRepairService","importedConfiguration","importedConfigurationEmitter","getConfiguration","file","isSupportedFileEnding","importNotDirtyFromUrl","importFromUrl","convertToDownloadableUrl","fetch","response","blob","string","githubPattern","dropboxPattern","isSupported","dstSvgPattern","egnSvgPattern","endsWith","isSVG","isEGN","fileReader","titleText","restoreTitleFromFileName","fileReaderFunction","importSuccessful","importFailed","isSvgFile","isEgnFormat","contentAsJson","extractJsonFromSvgComment","domainStoryElements","iconSetFromFile","storyAndIconSet","extractStoryAndIconSet","lastElement","importVersionNumber","handleVersionNumber","showBrokenImportDialog","versionPrefix","showPreviousV050Dialog","dstText","dstAndConfig","xmlText","getElementsOfType","setImportedConfigurationAndEmit","elementOfType","message","domainStoryRegex","svgRegex","egnSuffix","dstSuffix","svgSuffix","filenameWithoutDateSuffix","isDirtySubject","egonCopyPaste","EditorActions","_registerDefaultActions","selection","handTool","_registerAction","rootElement","getRootElement","select","toggle","currentSelection","HIGHLIGHT_LABEL_FONT_WEIGHT","HIGHLIGHT_NUMBER_BACKGROUND_COLOR","HIGHLIGHT_NUMBER_COLOR","HIGHLIGHT_STROKE_WIDTH","LABEL_FONT_WEIGHT","NUMBER_BACKGROUND_COLOR","NUMBER_COLOR","STROKE_WIDTH","CONNECTION_PATH_DOM_SELECTOR","removeHighlights","domObject","replaySentence","notShown","getAllNotShown","highlightSentence","o","getNumberDomForActivity","numberText","previousSibling","numberBackgroundDom","numberTextDom","getLabelDomForActivity","allConnections","activityDomObject","activityLabelDom","connectionDomObject","sentenceObjects","shownElements","notShownElements","ReplaySubject","AUTOSAVE_CONFIGURATION_TAG","defaultConfiguration","configurationSubject","initializeConfiguration","saveConfiguration","payload","svgRemove","MARKER_HIDDEN","MARKER_LABEL_HIDDEN","defaultLayer","getDefaultLayer","absoluteElementBBox","gfx","activeProvider","dy","newElementHeight","initDynamicHeightOffset","titleElement","createTitle","descriptionElement","createDescription","font","createTextSpans","descriptionParts","yOffset","heightOffset","textSpans","words","removeLeadingEmptyStrings","textTag","textSpan","createElementNS","textNode","createTextNode","len","measureText","stringArray","firstNonEmptyIndex","findIndex","tracedActivityMap","tracedActivityMapKeys","tracedItem","storyIndex","createSentence","addGroupsToLastSentence","tracedActivityMapKey","tracedActivity","getSentenceObjects","highlightedElements","t","highlightedObjects","allActivityNumbersFromActors","allActivityNumbers","highestSequenceNumber","actorsAndWorkObjects","actorTextAnnotations","parallelSentence","parallelSentenceTargetObjects","firstTarget","checkTarget","activityTarget","addTextAnnotationsForActorOrGroup","ta","objectTextAnnotations","annotationsForGroups","g","rgba","isValidHex","red","padStart","green","blue","alpha","hex","getChunksFromString","st","chunkSize","RegExp","convertHexUnitTo256","hexStr","repeat","getAlphafloat","EPSILON","hexArr"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}